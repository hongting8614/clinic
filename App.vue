<script>
export default {
	onLaunch: function() {
		console.log('App Launch')
		
		// åˆå§‹åŒ–äº‘å¼€å‘
		if (wx.cloud) {
			wx.cloud.init({
				env: 'cloud1-3gv7spppf7d2d0f4', // ä½ çš„äº‘å¼€å‘ç¯å¢ƒID
				traceUser: true
			})
			console.log('âœ… äº‘å¼€å‘åˆå§‹åŒ–æˆåŠŸï¼ç¯å¢ƒID: cloud1-3gv7spppf7d2d0f4')
		} else {
			console.error('âŒ wx.cloud æœªå®šä¹‰ï¼Œè¯·æ£€æŸ¥æ˜¯å¦åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­è¿è¡Œ')
		}
		
		// æ£€æŸ¥ç™»å½•çŠ¶æ€
		this.checkLogin()
	},
	onShow: function() {
		console.log('App Show')
	},
	onHide: function() {
		console.log('App Hide')
	},
	methods: {
		checkLogin() {
			const userInfo = uni.getStorageSync('userInfo')
			const isLogin = uni.getStorageSync('isLogin')
			
			console.log('ğŸ” æ£€æŸ¥ç™»å½•çŠ¶æ€:', {
				hasUserInfo: !!userInfo,
				isLogin: isLogin,
				userInfo: userInfo
			})
			
			if (!userInfo) {
				// è·³è½¬åˆ°ç™»å½•é¡µ
				console.log('ç”¨æˆ·æœªç™»å½•')
			} else {
				console.log('âœ… ç”¨æˆ·å·²ç™»å½•:', {
					name: userInfo.name,
					role: userInfo.role,
					userId: userInfo.userId || userInfo._id
				})
			}
		}
	}
}
</script>

<style>
/*æ¯ä¸ªé¡µé¢å…¬å…±css */

/* å…¨å±€åŸºç¡€å­—å·ï¼šç»Ÿä¸€å†æ”¾å¤§ä¸€æ¡£ï¼Œæå‡æ‰‹æœºç«¯å¯è¯»æ€§ */
page {
	background-color: #F8F8F8;
	font-size: 32rpx;
}

view,
text {
	font-size: 32rpx;
}

.container {
	padding: 20rpx;
}

.page-header {
	background-color: #FFFFFF;
	padding: 30rpx;
	margin-bottom: 20rpx;
	border-radius: 10rpx;
	text-align: center;
}

.page-title {
	font-size: 40rpx;
	font-weight: bold;
	color: #333333;
}

.page-subtitle {
	font-size: 30rpx;
	color: #666666;
	margin-top: 10rpx;
}

.form-section {
	background-color: #FFFFFF;
	padding: 30rpx;
	margin-bottom: 20rpx;
	border-radius: 10rpx;
}

.section-title {
	font-size: 34rpx;
	font-weight: bold;
	color: #333333;
	margin-bottom: 20rpx;
}

.form-item {
	margin-bottom: 30rpx;
}

.form-label {
	font-size: 34rpx;
	color: #666666;
	margin-bottom: 10rpx;
}

.form-required {
	color: #FF0000;
}

.btn-primary {
	background-color: #3cc51f;
	color: #FFFFFF;
	font-size: 32rpx;
}

.btn-secondary {
	background-color: #FFFFFF;
	color: #3cc51f;
	border: 1px solid #3cc51f;
	font-size: 32rpx;
}

/* åŸç”ŸæŒ‰é’®ç»Ÿä¸€æ”¾å¤§å­—å· */
button {
	font-size: 32rpx;
}
</style>


