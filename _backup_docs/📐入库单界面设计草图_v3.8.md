# 📐 入库单界面设计草图 v3.8

**设计时间**: 2025-11-06  
**版本**: v3.8  
**状态**: 🎨 设计方案

---

## 🎯 设计目标

1. **简洁高效** - 快速录入，减少操作步骤
2. **清晰明了** - 信息层次分明，易于理解
3. **专业美观** - 医疗专业风格，视觉舒适
4. **移动优先** - 适配小屏幕，手指友好操作

---

## 🎨 界面草图

### 方案一：卡片式设计（推荐）

```
┌─────────────────────────────────────┐
│  ← 新建入库单                    ⋯  │ 导航栏
├─────────────────────────────────────┤
│                                     │
│  🏥 爱康医务室管理系统               │ 页头
│  北京欢乐谷医务室 · 药品入库单       │ （渐变背景）
│                                     │
├─────────────────────────────────────┤
│                                     │
│  📋 基本信息                         │
│  ┌─────────────────────────────┐   │
│  │ 入库单号   RK20251106001    │   │
│  │ 入库时间   2025-11-06 10:30 │   │
│  │ 操作人     张三              │   │
│  │ 供应商     [请输入或选择]    ▼│  │
│  └─────────────────────────────┘   │
│                                     │
├─────────────────────────────────────┤
│                                     │
│  💊 药品明细 (3种)                   │
│  ┌─────────────────────────────┐   │
│  │ [➕ 扫码] [📋 选择] [✍️ 新建] │   │ 工具栏
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 阿莫西林胶囊           [×]   │   │ 药品卡片1
│  │ 规格: 0.25g×24粒/盒         │   │
│  │                             │   │
│  │ 批号    [20250101_______]   │   │
│  │ 生产    [2025-01-01____] 📅 │   │
│  │ 有效期  [2027-01-01____] 📅 │   │
│  │ 数量    [100___] 盒         │   │
│  │ 单价    [12.50_] 元（选填） │   │
│  │ 金额    ¥1,250.00           │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 布洛芬片                [×]  │   │ 药品卡片2
│  │ 规格: 0.2g×20片/盒          │   │
│  │ ...                         │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 对乙酰氨基酚片          [×]  │   │ 药品卡片3
│  │ 规格: 0.5g×12片/盒          │   │
│  │ ...                         │   │
│  └─────────────────────────────┘   │
│                                     │
├─────────────────────────────────────┤
│                                     │
│  ✍️ 操作员签名 *                     │
│  ┌─────────────────────────────┐   │
│  │                             │   │ 签名区
│  │      [手写签名区域]          │   │
│  │                             │   │
│  └─────────────────────────────┘   │
│  [重新签名]                         │
│                                     │
├─────────────────────────────────────┤
│                                     │
│  📊 合计统计                         │
│  ┌─────────────────────────────┐   │
│  │ 品种: 3种  数量: 500盒      │   │
│  │ 金额: ¥15,250.00            │   │ 合计栏
│  └─────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
│ [💾 保存草稿]  [✓ 提交复核]        │ 底部按钮
└─────────────────────────────────────┘
```

---

### 方案二：表格式设计（数据密集）

```
┌─────────────────────────────────────┐
│  ← 新建入库单                    ⋯  │
├─────────────────────────────────────┤
│  基本信息                           │
│  单号: RK20251106001  时间: 10:30  │
│  操作: 张三          供应: [____▼]  │
├─────────────────────────────────────┤
│  [➕扫码] [📋选择] [✍️新建] [🗑清空] │
├─────────────────────────────────────┤
│ ← 左右滑动查看更多 →                 │
│                                     │
│ ┌───────────────────────────────┐  │
│ │#│药品名│规格│批号│生产│有效...│  │ 表头
│ ├───────────────────────────────┤  │
│ │1│阿莫..│0.25│202..│01-01│... │  │ 行1
│ ├───────────────────────────────┤  │
│ │2│布洛..│0.2g│202..│01-02│... │  │ 行2
│ ├───────────────────────────────┤  │
│ │3│对乙..│0.5g│202..│01-03│... │  │ 行3
│ └───────────────────────────────┘  │
│                                     │
│ 合计: 3种 | 500盒 | ¥15,250.00     │
├─────────────────────────────────────┤
│ ✍️ 操作员签名 *  [点击签名]          │
├─────────────────────────────────────┤
│ [💾 保存草稿]  [✓ 提交复核]        │
└─────────────────────────────────────┘
```

---

### 方案三：分步式设计（向导模式）

```
┌─────────────────────────────────────┐
│  ← 新建入库单                    ⋯  │
├─────────────────────────────────────┤
│  ●━━━○━━━○━━━○                     │ 进度条
│  基本  药品  确认  完成              │
├─────────────────────────────────────┤
│                                     │
│  当前步骤：第1步 - 填写基本信息      │
│                                     │
│  ┌─────────────────────────────┐   │
│  │ 入库单号                    │   │
│  │ RK20251106001（自动生成）   │   │
│  │                             │   │
│  │ 入库时间                    │   │
│  │ 2025-11-06 10:30            │   │
│  │                             │   │
│  │ 操作人                      │   │
│  │ 张三                        │   │
│  │                             │   │
│  │ 供应商（选填）              │   │
│  │ [请选择或输入]          ▼   │   │
│  └─────────────────────────────┘   │
│                                     │
│  [上一步]           [下一步 →]     │
│                                     │
└─────────────────────────────────────┘
```

---

## 🎨 详细设计规范

### 1. 颜色方案

#### 主色调
```
- 主色：#667eea → #764ba2（紫色渐变）
- 辅助色：#4CAF50（成功绿）
- 警告色：#FF9800（橙色）
- 危险色：#FF4D4F（红色）
- 文字：#333333（深灰）
- 次要文字：#666666（中灰）
- 边框：#E8E8E8（浅灰）
- 背景：#F5F5F5（浅灰背景）
```

#### 状态色
```
- 草稿：#999999（灰色）
- 待复核：#FF9800（橙色）
- 已完成：#4CAF50（绿色）
- 已驳回：#FF4D4F（红色）
```

---

### 2. 字体规范

```
- 页面标题：36rpx，Bold
- 区块标题：32rpx，Bold
- 正文内容：28rpx，Regular
- 辅助文字：24rpx，Regular
- 小字说明：22rpx，Regular
```

---

### 3. 间距规范

```
- 页面边距：30rpx
- 区块间距：20rpx
- 卡片内边距：30rpx
- 元素间距：20rpx
- 紧密间距：10rpx
```

---

### 4. 组件设计

#### 4.1 页头设计
```
┌─────────────────────────────────────┐
│  🏥 爱康医务室管理系统               │
│  北京欢乐谷医务室 · 药品入库单       │
│  DRUG RECEIPT FORM                  │
└─────────────────────────────────────┘
- 高度：180rpx
- 背景：渐变色
- 文字：白色
- Logo：红十字 + 脉冲动画
```

#### 4.2 信息卡片
```
┌─────────────────────────────────────┐
│  📋 标题                            │
│  ─────────────────────────────────  │
│  标签名称    内容文字               │
│  标签名称    内容文字               │
└─────────────────────────────────────┘
- 圆角：16rpx
- 阴影：0 2rpx 12rpx rgba(0,0,0,0.08)
- 背景：白色
```

#### 4.3 药品卡片（推荐）
```
┌─────────────────────────────────────┐
│  阿莫西林胶囊                    [×] │ ← 标题栏
│  0.25g×24粒/盒  |  厂家：XXX        │ ← 基本信息
│  ─────────────────────────────────  │
│  批号    [_____________]            │ ← 表单区
│  生产    [2025-01-01__] 📅          │
│  有效期  [2027-01-01__] 📅  ⚠️90天  │
│  数量    [100_] 盒   单价 [12.50]元 │
│  ─────────────────────────────────  │
│  金额：¥1,250.00                    │ ← 金额
└─────────────────────────────────────┘
- 背景：#F8F9FA
- 圆角：12rpx
- 内边距：20rpx
```

#### 4.4 工具栏按钮
```
┌──────┬──────┬──────┬──────┐
│ 📷   │ 📋   │ ✍️   │ 🗑    │
│ 扫码 │ 选择 │ 新建 │ 清空  │
└──────┴──────┴──────┴──────┘
- 按钮高度：80rpx
- 间距：15rpx
- 图标：32rpx
- 文字：24rpx
```

#### 4.5 签名区域
```
┌─────────────────────────────────────┐
│  ✍️ 操作员签名 * （必填）            │
│  ┌─────────────────────────────┐   │
│  │                             │   │
│  │                             │   │
│  │      [点击此处签名]          │   │
│  │                             │   │
│  │                             │   │
│  └─────────────────────────────┘   │
│  [🔄 重新签名]  [✓ 签名完成]        │
└─────────────────────────────────────┘
- 高度：300rpx
- 背景：白色
- 边框：虚线 2rpx #E8E8E8
```

#### 4.6 合计统计栏
```
┌─────────────────────────────────────┐
│  📊 合计统计                        │
│  ┌─────────────────────────────┐   │
│  │ 品种   数量   金额           │   │
│  │ 3种    500盒  ¥15,250.00    │   │
│  └─────────────────────────────┘   │
└─────────────────────────────────────┘
- 背景：渐变（紫色主题）
- 文字：白色
- 圆角：12rpx
- 金额：金色 #FFD700，加粗
```

#### 4.7 底部按钮
```
┌─────────────────────────────────────┐
│ [  💾 保存草稿  ] [  ✓ 提交复核  ] │
└─────────────────────────────────────┘
- 固定底部，悬浮
- 高度：100rpx + safe-area
- 阴影：向上 0 -2rpx 10rpx rgba(0,0,0,0.1)
- 按钮间距：20rpx
```

---

## 💡 交互设计

### 1. 添加药品流程

```
用户操作                  系统反馈
   │
   ├─ 点击"扫码"          → 调起摄像头扫描
   │                        ↓
   │                     识别条形码
   │                        ↓
   │                     查询药品信息
   │                        ↓
   ├─ 找到药品            → 自动填充药品信息
   │                        添加到列表
   │                        光标定位到批号输入框
   │
   ├─ 未找到              → 提示"未找到药品"
   │                        引导手动添加或新建
   │
   ├─ 点击"选择"          → 跳转药品列表
   │                        ↓
   │                     选择药品
   │                        ↓
   │                     返回并添加到列表
   │
   └─ 点击"新建"          → 打开新建药品弹窗
                            ↓
                         填写药品信息
                            ↓
                         保存并添加到列表
```

### 2. 数据验证流程

```
提交时验证
   │
   ├─ 检查药品列表        → 是否为空
   │                        ↓
   ├─ 遍历每个药品        → 检查必填项
   │   ├─ 批号            → 不能为空
   │   ├─ 生产日期        → 不能晚于今天
   │   ├─ 有效期          → 必须晚于生产日期
   │   │                     不能已过期
   │   ├─ 数量            → 必须 > 0，为整数
   │   └─ 单价（选填）    → 如填写需 ≥ 0
   │
   ├─ 检查签名            → 是否已签名
   │
   ├─ 全部通过            → 提交数据
   │                        显示成功提示
   │                        返回列表页
   │
   └─ 验证失败            → 高亮错误行
                            显示具体错误信息
                            滚动到错误位置
```

### 3. 手势操作

```
- 左滑药品卡片      → 显示删除按钮
- 下拉列表          → 刷新数据
- 双击输入框        → 全选内容
- 长按药品卡片      → 显示更多操作
```

---

## 🎯 推荐方案：混合设计

结合方案一和方案二的优点：

```
┌─────────────────────────────────────┐
│  ← 新建入库单                [切换视图]│
├─────────────────────────────────────┤
│  🏥 爱康医务室管理系统               │
│  北京欢乐谷医务室 · 药品入库单       │
├─────────────────────────────────────┤
│  📋 基本信息                         │
│  ┌─────────────────────────────┐   │
│  │ RK20251106001 | 10:30      │   │
│  │ 张三 | [供应商选择]       ▼ │   │
│  └─────────────────────────────┘   │
├─────────────────────────────────────┤
│  💊 药品明细 (3种)         [卡片|表格]│
│  [📷 扫码] [📋 选择] [✍️ 新建]       │
│                                     │
│  ┌──────────────────────────────┐  │
│  │ 阿莫西林胶囊          [展开▼] │  │
│  │ 0.25g×24粒/盒               │  │
│  │                              │  │
│  │ 批号 [________] 数量 [100]盒 │  │
│  │ 生产 [01-01]📅  单价 [12.5]元│  │
│  │ 有效 [27-01-01]📅 ⚠️730天   │  │
│  │ 金额: ¥1,250.00         [×] │  │
│  └──────────────────────────────┘  │
│                                     │
│  [+ 继续添加药品]                   │
│                                     │
├─────────────────────────────────────┤
│  📊 3种 | 500盒 | ¥15,250.00       │
├─────────────────────────────────────┤
│  ✍️ [点击签名]     [💾草稿][✓提交] │
└─────────────────────────────────────┘
```

### 特点
1. **紧凑但不拥挤** - 关键信息一屏展示
2. **可折叠展开** - 默认折叠，点击展开详情
3. **视图切换** - 支持卡片视图和表格视图
4. **快速操作** - 常用功能一键直达
5. **实时反馈** - 金额自动计算，效期预警

---

## 📱 响应式设计

### 小屏幕（< 375px）
- 卡片全宽显示
- 按钮文字可隐藏，只显示图标
- 表单两列布局改为单列

### 中屏幕（375px - 414px）
- 标准显示
- 按钮显示图标+文字

### 大屏幕（> 414px）
- 增加内边距
- 可显示更多信息
- 考虑横向布局

---

## 🎨 动画效果

### 1. 页面进入
```
- 页头从上滑入（200ms）
- 卡片依次从下淡入（每个延迟50ms）
```

### 2. 添加药品
```
- 新卡片从右滑入 + 缩放（300ms）
- 列表自动滚动到新卡片
```

### 3. 删除药品
```
- 卡片向左滑出 + 渐隐（200ms）
- 下方卡片上移填补空隙
```

### 4. 状态变化
```
- 验证错误：抖动动画（shake）
- 验证成功：绿色√ 淡入
- 签名完成：绿色边框闪烁
```

---

## ✅ 设计检查清单

- [ ] 界面简洁，无冗余元素
- [ ] 操作流程清晰，步骤合理
- [ ] 按钮大小适合手指点击（≥ 88rpx）
- [ ] 输入框高度舒适（≥ 70rpx）
- [ ] 颜色对比度符合可访问性标准
- [ ] 错误提示清晰明确
- [ ] 成功反馈及时友好
- [ ] 支持横屏显示
- [ ] 考虑弱网环境

---

## 🚀 开发优先级

### P0（必须）
- 基本信息录入
- 药品添加（扫码/选择）
- 批次信息录入
- 数据验证
- 提交保存

### P1（重要）
- 签名功能
- 合计统计
- 草稿保存
- 错误提示

### P2（可选）
- 新建药品
- 供应商管理
- 视图切换
- 批量操作

---

**设计版本**: v3.8  
**设计师**: AI Assistant  
**设计时间**: 2025-11-06

🎨 设计方案已完成，等待开发实现！

