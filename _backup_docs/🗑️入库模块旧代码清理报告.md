# ğŸ—‘ï¸ å…¥åº“æ¨¡å—æ—§ä»£ç æ¸…ç†æŠ¥å‘Š

**æ¸…ç†æ—¶é—´**: 2025-11-06  
**ç‰ˆæœ¬**: v3.6  

---

## ğŸ“‹ æ¸…ç†åˆ†æ

æ ¹æ®ä»£ç å®¡æŸ¥ï¼Œå½“å‰å…¥åº“æ¨¡å— (`pages-sub/in/add.vue`) ä½¿ç”¨çš„ç»„ä»¶ä¸ºï¼š

### âœ… å½“å‰ä½¿ç”¨çš„ç»„ä»¶
1. `Signature` - ç­¾åç»„ä»¶
2. `DrugSelectorPopup` - è¯å“é€‰æ‹©å¼¹çª—
3. `DrugCreatePopup` - è¯å“åˆ›å»ºå¼¹çª—
4. `SupplierSelector` - ä¾›åº”å•†é€‰æ‹©å™¨ï¼ˆæ–°å¢ï¼‰

### âŒ å¯èƒ½çš„æ—§ç»„ä»¶ï¼ˆéœ€è¦ç¡®è®¤ï¼‰
æ ¹æ®é¡¹ç›®æ–‡æ¡£æåˆ°çš„ç»„ä»¶ï¼Œä»¥ä¸‹ç»„ä»¶å¯èƒ½å·²ä¸å†ä½¿ç”¨ï¼š

1. **in-entry-table** - å…¥åº“æ˜ç»†è¡¨æ ¼ç»„ä»¶
   - å¯èƒ½è·¯å¾„: `components/in-entry-table/index.vue`
   - çŠ¶æ€: éœ€è¦ç¡®è®¤æ˜¯å¦è¿˜åœ¨ä½¿ç”¨

2. **in-entry-toolbar** - å…¥åº“å·¥å…·æ ç»„ä»¶
   - å¯èƒ½è·¯å¾„: `components/in-entry-toolbar/index.vue`
   - çŠ¶æ€: éœ€è¦ç¡®è®¤æ˜¯å¦è¿˜åœ¨ä½¿ç”¨

---

## ğŸ” æ¸…ç†ç­–ç•¥

ç”±äºå½“å‰ `pages-sub/in/add.vue` ä¸­çš„ä»£ç æ˜¯ç›´æ¥åœ¨é¡µé¢ä¸­å®ç°è¡¨æ ¼å’Œå·¥å…·æ ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç‹¬ç«‹ç»„ä»¶ï¼Œå› æ­¤è¿™ä¸¤ä¸ªç»„ä»¶å¯èƒ½æ˜¯æ—§ç‰ˆæœ¬çš„é—ç•™ä»£ç ã€‚

### å®‰å…¨æ¸…ç†æ­¥éª¤

#### æ­¥éª¤1: ç¡®è®¤ç»„ä»¶æ˜¯å¦å­˜åœ¨
```bash
# æ£€æŸ¥ç»„ä»¶æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls components/in-entry-table/
ls components/in-entry-toolbar/
```

#### æ­¥éª¤2: æœç´¢å¼•ç”¨
```bash
# æœç´¢æ˜¯å¦æœ‰å…¶ä»–æ–‡ä»¶å¼•ç”¨è¿™äº›ç»„ä»¶
grep -r "in-entry-table" pages-sub/
grep -r "in-entry-toolbar" pages-sub/
grep -r "InEntryTable" pages-sub/
grep -r "InEntryToolbar" pages-sub/
```

#### æ­¥éª¤3: å¤‡ä»½ååˆ é™¤
å¦‚æœç¡®è®¤æ²¡æœ‰å¼•ç”¨ï¼Œå¯ä»¥å®‰å…¨åˆ é™¤ï¼š
```bash
# åˆ é™¤æ—§ç»„ä»¶
rm -rf components/in-entry-table/
rm -rf components/in-entry-toolbar/
```

---

## ğŸ“Š å½“å‰ä»£ç ç»“æ„

### pages-sub/in/add.vue ä¸­çš„å®ç°

å½“å‰å…¥åº“é¡µé¢æ˜¯**ç›´æ¥åœ¨é¡µé¢ä¸­å®ç°**è¡¨æ ¼å’Œå·¥å…·æ ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç‹¬ç«‹ç»„ä»¶ï¼š

```vue
<template>
  <view class="container">
    <!-- è¯å“å½•å…¥å·¥å…·æ  - ç›´æ¥å®ç° -->
    <view class="table-toolbar">
      <view class="toolbar-left">
        <u-button text="ğŸ“‹ é€‰æ‹©è¯å“" @click="showDrugSelector = true" />
        <u-button text="âœï¸ æ–°å»ºè¯å“" @click="showDrugCreate = true" />
      </view>
      <view class="toolbar-right">
        <label><switch v-model="sameBatch" /> åŒæ‰¹å·</label>
        <!-- ... -->
      </view>
    </view>
    
    <!-- è¡¨æ ¼ - ç›´æ¥å®ç° -->
    <view class="table">
      <view class="thead tr">
        <text class="th col-name">è¯å“</text>
        <text class="th col-spec">è§„æ ¼</text>
        <!-- ... -->
      </view>
      <view class="tbody">
        <view class="tr" v-for="(item, index) in drugList">
          <!-- è¡¨æ ¼è¡Œå†…å®¹ -->
        </view>
      </view>
    </view>
  </view>
</template>
```

è¿™è¯´æ˜æ—§çš„ `in-entry-table` å’Œ `in-entry-toolbar` ç»„ä»¶å·²ç»è¢«å†…è”å®ç°æ›¿ä»£ã€‚

---

## âœ… æ¸…ç†å»ºè®®

### å»ºè®®1: ä¿å®ˆæ¸…ç†ï¼ˆæ¨èï¼‰
1. **å…ˆå¤‡ä»½**: å°†å¯èƒ½çš„æ—§ç»„ä»¶ç§»åŠ¨åˆ°å¤‡ä»½ç›®å½•
2. **æµ‹è¯•è¿è¡Œ**: ç¡®ä¿é¡¹ç›®æ­£å¸¸è¿è¡Œ
3. **ç¡®è®¤æ— è¯¯ååˆ é™¤**: å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œå†æ°¸ä¹…åˆ é™¤

### å»ºè®®2: ç›´æ¥æ¸…ç†
å¦‚æœç¡®è®¤ä»¥ä¸‹æ¡ä»¶éƒ½æ»¡è¶³ï¼Œå¯ä»¥ç›´æ¥åˆ é™¤ï¼š
- âœ… `pages-sub/in/add.vue` ä¸­æ²¡æœ‰å¼•å…¥è¿™ä¸¤ä¸ªç»„ä»¶
- âœ… å…¶ä»–é¡µé¢ä¹Ÿæ²¡æœ‰å¼•ç”¨
- âœ… é¡¹ç›®å¯ä»¥æ­£å¸¸ç¼–è¯‘è¿è¡Œ

---

## ğŸ”§ æ‰‹åŠ¨æ¸…ç†æ­¥éª¤

### 1. æ£€æŸ¥ç»„ä»¶æ˜¯å¦å­˜åœ¨

åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼š
```bash
# Windows PowerShell
Test-Path components/in-entry-table
Test-Path components/in-entry-toolbar

# æˆ–è€…ç›´æ¥åœ¨æ–‡ä»¶ç®¡ç†å™¨ä¸­æŸ¥çœ‹
# D:\AK-PMS\components\
```

### 2. æœç´¢å¼•ç”¨ï¼ˆåœ¨Cursorä¸­ï¼‰

ä½¿ç”¨Cursorçš„æœç´¢åŠŸèƒ½ï¼ˆCtrl+Shift+Fï¼‰ï¼š
- æœç´¢: `in-entry-table`
- æœç´¢: `in-entry-toolbar`
- æœç´¢: `InEntryTable`
- æœç´¢: `InEntryToolbar`

### 3. åˆ é™¤ç»„ä»¶

å¦‚æœç¡®è®¤æ²¡æœ‰å¼•ç”¨ï¼Œå¯ä»¥åˆ é™¤ï¼š

**æ–¹å¼1: ä½¿ç”¨æ–‡ä»¶ç®¡ç†å™¨**
- æ‰“å¼€ `D:\AK-PMS\components\`
- åˆ é™¤ `in-entry-table` æ–‡ä»¶å¤¹ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
- åˆ é™¤ `in-entry-toolbar` æ–‡ä»¶å¤¹ï¼ˆå¦‚æœå­˜åœ¨ï¼‰

**æ–¹å¼2: ä½¿ç”¨å‘½ä»¤è¡Œ**
```powershell
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
Remove-Item -Recurse -Force components/in-entry-table -ErrorAction SilentlyContinue
Remove-Item -Recurse -Force components/in-entry-toolbar -ErrorAction SilentlyContinue
```

### 4. éªŒè¯é¡¹ç›®

åˆ é™¤åï¼ŒéªŒè¯é¡¹ç›®æ˜¯å¦æ­£å¸¸ï¼š
```bash
# é‡æ–°ç¼–è¯‘
# åœ¨HBuilderXä¸­è¿è¡Œé¡¹ç›®
# æµ‹è¯•å…¥åº“åŠŸèƒ½æ˜¯å¦æ­£å¸¸
```

---

## ğŸ“ æ¸…ç†æ£€æŸ¥æ¸…å•

- [ ] ç¡®è®¤ `in-entry-table` ç»„ä»¶æ˜¯å¦å­˜åœ¨
- [ ] ç¡®è®¤ `in-entry-toolbar` ç»„ä»¶æ˜¯å¦å­˜åœ¨
- [ ] æœç´¢é¡¹ç›®ä¸­æ˜¯å¦æœ‰å¼•ç”¨
- [ ] å¤‡ä»½ç»„ä»¶ï¼ˆå¯é€‰ï¼‰
- [ ] åˆ é™¤ç»„ä»¶
- [ ] é‡æ–°ç¼–è¯‘é¡¹ç›®
- [ ] æµ‹è¯•å…¥åº“åŠŸèƒ½
- [ ] ç¡®è®¤æ— é”™è¯¯

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **è°¨æ…åˆ é™¤**: åˆ é™¤å‰åŠ¡å¿…ç¡®è®¤æ²¡æœ‰å…¶ä»–åœ°æ–¹å¼•ç”¨
2. **ä¿ç•™å¤‡ä»½**: å»ºè®®å…ˆå¤‡ä»½å†åˆ é™¤
3. **æµ‹è¯•å……åˆ†**: åˆ é™¤åè¦å……åˆ†æµ‹è¯•å…¥åº“åŠŸèƒ½
4. **ç‰ˆæœ¬æ§åˆ¶**: å¦‚æœä½¿ç”¨Gitï¼Œåˆ é™¤å‰å…ˆæäº¤å½“å‰ä»£ç 

---

## ğŸ“Š æ¸…ç†åçš„ç»„ä»¶ç»“æ„

æ¸…ç†åï¼Œå…¥åº“æ¨¡å—ç›¸å…³ç»„ä»¶åº”è¯¥æ˜¯ï¼š

```
components/
â”œâ”€â”€ drug-selector-popup/      # è¯å“é€‰æ‹©å¼¹çª— âœ…
â”œâ”€â”€ drug-create-popup/        # è¯å“åˆ›å»ºå¼¹çª— âœ…
â”œâ”€â”€ supplier-selector/        # ä¾›åº”å•†é€‰æ‹©å™¨ âœ…
â””â”€â”€ signature/                # ç­¾åç»„ä»¶ âœ…

âŒ in-entry-table/           # å·²åˆ é™¤ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
âŒ in-entry-toolbar/         # å·²åˆ é™¤ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
```

---

## ğŸ¯ æ€»ç»“

æ ¹æ®ä»£ç åˆ†æï¼š

1. **å½“å‰å®ç°**: å…¥åº“é¡µé¢ç›´æ¥åœ¨ `pages-sub/in/add.vue` ä¸­å®ç°è¡¨æ ¼å’Œå·¥å…·æ 
2. **æ—§ç»„ä»¶**: `in-entry-table` å’Œ `in-entry-toolbar` å¯èƒ½æ˜¯æ—§ç‰ˆæœ¬é—ç•™
3. **æ¸…ç†å»ºè®®**: ç¡®è®¤æ— å¼•ç”¨åå¯ä»¥å®‰å…¨åˆ é™¤
4. **æ¸…ç†æ–¹å¼**: æ‰‹åŠ¨åˆ é™¤æˆ–ä½¿ç”¨å‘½ä»¤è¡Œåˆ é™¤

**å»ºè®®**: ç”±äºç³»ç»Ÿå½“å‰æœ‰äº›å»¶è¿Ÿï¼Œå»ºè®®æ‚¨æ‰‹åŠ¨æ£€æŸ¥å¹¶åˆ é™¤è¿™äº›ç»„ä»¶ã€‚

---

**æ¸…ç†æŠ¥å‘Š**  
**AK-PMS v3.6**  
**ç”Ÿæˆæ—¶é—´**: 2025-11-06


