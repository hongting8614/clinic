# ✅ 入库功能测试检查清单

## 📅 测试日期：_________

---

## 🎯 快速检查（5分钟）

### 基础功能
- [ ] 页面能正常打开
- [ ] 搜索框能输入
- [ ] 扫码按钮能点击
- [ ] 能添加药材到列表
- [ ] 能填写药材信息
- [ ] 能签名
- [ ] 能提交

---

## 📋 详细检查（20分钟）

### 1. 页面导航 ✓
- [ ] 底部"库存"标签能点击
- [ ] "入库记录"页面能打开
- [ ] 标题显示"入库记录"（不是"入库统计"）
- [ ] ➕按钮能点击
- [ ] 进入"药材入库"页面

### 2. 智能搜索框 ✓
- [ ] 输入时搜索框有绿色边框
- [ ] 输入后300ms显示下拉列表
- [ ] 下拉列表显示药材信息
- [ ] 点击药材能添加到列表
- [ ] 添加后搜索框自动清空
- [ ] 添加后有振动反馈
- [ ] 搜索无结果时显示"新建"按钮
- [ ] 失去焦点时下拉列表消失

### 3. 扫码功能 ✓
- [ ] 📷按钮能点击
- [ ] 能调起微信扫码
- [ ] 扫码后显示"识别中..."
- [ ] 本地档案优先查询
- [ ] 本地无数据时调用API
- [ ] API次数<99次时能扫码
- [ ] API次数≥99次时拒绝扫码
- [ ] 扫码成功后药材添加到列表
- [ ] 扫码成功后有振动反馈
- [ ] 未找到时提示新建

### 4. 新建药材 ✓
- [ ] 新建弹窗能打开
- [ ] 药材名称必填验证
- [ ] 规格必填验证
- [ ] 单位必填验证
- [ ] 单位选择器能选择
- [ ] 确定后药材添加到列表
- [ ] 取消后不添加药材

### 5. 连续添加 ✓
- [ ] 能添加第1个药材
- [ ] 能添加第2个药材
- [ ] 能添加第3个药材
- [ ] 能添加更多药材
- [ ] 每个药材独立显示
- [ ] 顶部显示药材数量
- [ ] 底部显示合计信息
- [ ] 重复药材不能添加

### 6. 药材信息填写 ✓
- [ ] 批号能输入
- [ ] 生产日期能选择
- [ ] 有效期能选择
- [ ] 自动计算距有效期天数
- [ ] 数量能输入
- [ ] 单价能输入（选填）
- [ ] 自动计算金额
- [ ] 单位正确显示

### 7. 有效期徽章 ✓
- [ ] ≥90天显示绿色
- [ ] 30-89天显示黄色
- [ ] <30天显示红色
- [ ] 已过期显示黑色
- [ ] 天数计算正确

### 8. 表单验证 ✓
- [ ] 批号为空时提示
- [ ] 生产日期为空时提示
- [ ] 有效期为空时提示
- [ ] 数量为空时提示
- [ ] 数量≤0时提示
- [ ] 过期药材拒绝入库
- [ ] 未签名时提示
- [ ] 验证错误时卡片有红色边框

### 9. 删除功能 ✓
- [ ] 删除按钮能点击
- [ ] 显示确认弹窗
- [ ] 确定后药材被删除
- [ ] 取消后药材不删除
- [ ] 删除后列表更新
- [ ] 删除后合计更新

### 10. 签名功能 ✓
- [ ] 签名区域能点击
- [ ] 签名弹窗能打开
- [ ] 能在画布上绘制
- [ ] "清除"按钮能清空
- [ ] "确定"按钮能保存
- [ ] 签名显示在签名区域
- [ ] 签名图片清晰

### 11. 提交功能 ✓
- [ ] "保存草稿"按钮能点击
- [ ] "提交复核"按钮能点击
- [ ] 验证通过后能提交
- [ ] 显示"提交中..."
- [ ] 提交成功显示提示
- [ ] 自动返回列表页
- [ ] 列表显示新单据
- [ ] 状态为"待复核"

### 12. 入库记录列表 ✓
- [ ] 统计面板显示正确
- [ ] 筛选标签能切换
- [ ] 列表显示入库单
- [ ] 状态徽章颜色正确
- [ ] 能点击查看详情
- [ ] 下拉刷新能用

### 13. 入库单详情 ✓
- [ ] 详情页能打开
- [ ] 头部显示正确
- [ ] 状态流程指示器正确
- [ ] 基本信息显示完整
- [ ] 药材明细显示完整
- [ ] 操作员签名显示
- [ ] 复核员签名显示（已完成时）

### 14. 复核功能 ✓
- [ ] 其他人能看到"复核操作"
- [ ] 自己不能复核自己的单据
- [ ] 能手写复核签名
- [ ] 能填写驳回原因
- [ ] "通过复核"按钮能点击
- [ ] "驳回"按钮能点击
- [ ] 通过后状态变为"已完成"
- [ ] 驳回后状态变为"已驳回"
- [ ] 通过后库存自动更新

### 15. 微信风格UI ✓
- [ ] 主色调为微信绿
- [ ] 按钮圆角50rpx
- [ ] 卡片圆角16rpx
- [ ] 渐变色正确
- [ ] 阴影柔和
- [ ] 字体清晰
- [ ] 间距合理

### 16. 交互效果 ✓
- [ ] 按钮按下有缩放
- [ ] 扫码成功有振动
- [ ] 焦点有绿色边框
- [ ] 动画流畅
- [ ] 加载提示及时
- [ ] 错误提示清晰

### 17. 性能表现 ✓
- [ ] 本地搜索<100ms
- [ ] API查询<2000ms
- [ ] 页面切换<500ms
- [ ] 列表渲染流畅
- [ ] 无卡顿现象
- [ ] 内存占用正常

---

## 🎯 核心功能测试（必测）

### ⭐ 必须通过
- [ ] 智能搜索能用
- [ ] 扫码能用
- [ ] 新建能用
- [ ] 连续添加能用
- [ ] 表单验证正确
- [ ] 签名能用
- [ ] 提交能用
- [ ] 复核能用

### ⚠️ 重要功能
- [ ] API次数控制正确
- [ ] 有效期徽章正确
- [ ] 删除功能正常
- [ ] 列表显示正确

### 💡 次要功能
- [ ] 草稿保存（未开发）
- [ ] PDF导出（未开发）

---

## 📊 测试结果统计

### 通过率
- 总测试项：______ 项
- 通过：______ 项
- 失败：______ 项
- 通过率：______ %

### 问题统计
- 高优先级问题：______ 个
- 中优先级问题：______ 个
- 低优先级问题：______ 个

---

## 🐛 问题记录

### 问题1
- [ ] 问题描述：_____________________________
- [ ] 严重程度：⬜ 高 / ⬜ 中 / ⬜ 低
- [ ] 状态：⬜ 待修复 / ⬜ 已修复

### 问题2
- [ ] 问题描述：_____________________________
- [ ] 严重程度：⬜ 高 / ⬜ 中 / ⬜ 低
- [ ] 状态：⬜ 待修复 / ⬜ 已修复

### 问题3
- [ ] 问题描述：_____________________________
- [ ] 严重程度：⬜ 高 / ⬜ 中 / ⬜ 低
- [ ] 状态：⬜ 待修复 / ⬜ 已修复

---

## ✅ 测试结论

### 测试通过标准
- [ ] 核心功能全部通过
- [ ] 无高优先级问题
- [ ] 中优先级问题≤2个
- [ ] 通过率≥95%

### 最终结论
- [ ] ✅ 测试通过，可以部署
- [ ] ⚠️ 有问题需要修复
- [ ] ❌ 测试失败，需要重新开发

---

## 📝 测试人员签名

测试人：___________  
测试日期：___________  
签名：___________

---

**使用说明**：
1. 打印或复制此清单
2. 逐项测试并打勾
3. 记录发现的问题
4. 统计测试结果
5. 得出测试结论



