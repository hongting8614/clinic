# æ•°æ®åº“è®¾è®¡æ–‡æ¡£

## æ•°æ®åº“æ¦‚è¿°

- **æ•°æ®åº“ç±»å‹**ï¼šCloudBase äº‘æ•°æ®åº“ (MongoDBå…¼å®¹)
- **æ•°æ®è¡¨æ•°é‡**ï¼š14ä¸ªæ ¸å¿ƒæ•°æ®è¡¨
- **å‘½åè§„åˆ™**ï¼šå°å†™å­—æ¯ + ä¸‹åˆ’çº¿

---

## æ ¸å¿ƒæ•°æ®è¡¨

### 1. users (ç”¨æˆ·è¡¨)

**ç”¨é€”**ï¼šå­˜å‚¨ç³»ç»Ÿç”¨æˆ·ä¿¡æ¯

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | å¿…å¡« | ç´¢å¼• |
|-------|------|------|------|------|
| _id | String | ç”¨æˆ·ID | âœ… | ä¸»é”® |
| openid | String | å¾®ä¿¡openid | âœ… | å”¯ä¸€ |
| name | String | å§“å | âœ… | - |
| phone | String | æ‰‹æœºå· | âœ… | - |
| role | String | è§’è‰²(admin) | âœ… | - |
| status | String | çŠ¶æ€(active/inactive) | âœ… | - |
| createTime | Date | åˆ›å»ºæ—¶é—´ | âœ… | - |
| updateTime | Date | æ›´æ–°æ—¶é—´ | âœ… | - |

**ç¤ºä¾‹æ•°æ®**ï¼š
```json
{
  "_id": "user_001",
  "openid": "oXXXX",
  "name": "å¼ ä¸‰",
  "phone": "138xxxx1234",
  "role": "admin",
  "status": "active",
  "createTime": "2025-01-27T00:00:00.000Z",
  "updateTime": "2025-01-27T00:00:00.000Z"
}
```

---

### 2. drugs (è¯ææ¡£æ¡ˆè¡¨)

**ç”¨é€”**ï¼šå­˜å‚¨è¯æåŸºç¡€ä¿¡æ¯

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | å¿…å¡« | ç´¢å¼• |
|-------|------|------|------|------|
| _id | String | è¯æID | âœ… | ä¸»é”® |
| name | String | è¯æåç§° | âœ… | æ™®é€š |
| pinyin | String | æ‹¼éŸ³é¦–å­—æ¯ | âœ… | æ™®é€š |
| spec | String | è§„æ ¼ | âœ… | - |
| unit | String | å•ä½ | âœ… | - |
| manufacturer | String | ç”Ÿäº§å‚å®¶ | âœ… | - |
| category | String | åˆ†ç±» | âŒ | æ™®é€š |
| barcode | String | æ¡å½¢ç  | âœ… | å”¯ä¸€ |
| image | String | è¯æå›¾ç‰‡URL | âŒ | - |
| isHighValue | Boolean | æ˜¯å¦é«˜å€¼è¯æ | âœ… | - |
| isEmergency | Boolean | æ˜¯å¦æ€¥æ•‘è¯æ | âœ… | - |
| safeStock | Number | å®‰å…¨åº“å­˜ | âœ… | - |
| minStock | Number | æœ€ä½åº“å­˜ | âœ… | - |
| createTime | Date | åˆ›å»ºæ—¶é—´ | âœ… | - |
| updateTime | Date | æ›´æ–°æ—¶é—´ | âœ… | - |

**ç¤ºä¾‹æ•°æ®**ï¼š
```json
{
  "_id": "drug_001",
  "name": "é˜¿è«è¥¿æ—èƒ¶å›Š",
  "pinyin": "AMXLJN",
  "spec": "0.25g*24ç²’",
  "unit": "ç›’",
  "manufacturer": "XXåˆ¶è¯æœ‰é™å…¬å¸",
  "category": "æŠ—ç”Ÿç´ ",
  "barcode": "6901234567890",
  "image": "cloud://xxx.png",
  "isHighValue": false,
  "isEmergency": false,
  "safeStock": 100,
  "minStock": 50,
  "createTime": "2025-01-27T00:00:00.000Z",
  "updateTime": "2025-01-27T00:00:00.000Z"
}
```

---

### 3. stock (åº“å­˜è¡¨)

**ç”¨é€”**ï¼šå­˜å‚¨è¯ææ‰¹æ¬¡åº“å­˜ä¿¡æ¯

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | å¿…å¡« | ç´¢å¼• |
|-------|------|------|------|------|
| _id | String | åº“å­˜ID | âœ… | ä¸»é”® |
| drugId | String | è¯æID | âœ… | æ™®é€š |
| drugName | String | è¯æåç§°(å†—ä½™) | âœ… | - |
| spec | String | è§„æ ¼(å†—ä½™) | âœ… | - |
| unit | String | å•ä½(å†—ä½™) | âœ… | - |
| manufacturer | String | ç”Ÿäº§å‚å®¶(å†—ä½™) | âœ… | - |
| batch | String | æ‰¹å· | âœ… | æ™®é€š |
| productionDate | Date | ç”Ÿäº§æ—¥æœŸ | âœ… | - |
| expireDate | Date | æœ‰æ•ˆæœŸ | âœ… | æ™®é€š |
| quantity | Number | åº“å­˜æ•°é‡ | âœ… | - |
| price | Number | å•ä»·(é€‰å¡«) | âŒ | - |
| location | String | æ‰€å±å›­åŒº(land_park/water_park) | âœ… | æ™®é€š |
| status | String | çŠ¶æ€(normal/near_expire/expired) | âœ… | - |
| updateTime | Date | æ›´æ–°æ—¶é—´ | âœ… | - |

**ç¤ºä¾‹æ•°æ®**ï¼š
```json
{
  "_id": "stock_001",
  "drugId": "drug_001",
  "drugName": "é˜¿è«è¥¿æ—èƒ¶å›Š",
  "spec": "0.25g*24ç²’",
  "unit": "ç›’",
  "manufacturer": "XXåˆ¶è¯æœ‰é™å…¬å¸",
  "batch": "20250101",
  "productionDate": "2025-01-01T00:00:00.000Z",
  "expireDate": "2027-01-01T00:00:00.000Z",
  "quantity": 850,
  "price": 12.5,
  "location": "land_park",
  "status": "normal",
  "updateTime": "2025-01-27T00:00:00.000Z"
}
```

**ç´¢å¼•è¯´æ˜**ï¼š
- `drugId + batch` ç»„åˆç´¢å¼•ï¼ˆä¿è¯åŒä¸€è¯æåŒæ‰¹å·å”¯ä¸€ï¼‰
- `expireDate` ç”¨äºæ•ˆæœŸæŸ¥è¯¢
- `location` ç”¨äºæŒ‰å›­åŒºæŸ¥è¯¢

---

### 4. in_records (å…¥åº“è®°å½•è¡¨)

**ç”¨é€”**ï¼šå­˜å‚¨å…¥åº“å•æ®

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | å¿…å¡« | ç´¢å¼• |
|-------|------|------|------|------|
| _id | String | è®°å½•ID | âœ… | ä¸»é”® |
| recordNo | String | å…¥åº“å•å· | âœ… | å”¯ä¸€ |
| status | String | çŠ¶æ€(draft/pending_review/rejected/completed) | âœ… | æ™®é€š |
| items | Array | è¯ææ˜ç»†åˆ—è¡¨ | âœ… | - |
| supplier | String | ä¾›åº”å•†(é€‰å¡«) | âŒ | - |
| operator | String | æ“ä½œå‘˜å§“å | âœ… | - |
| operatorId | String | æ“ä½œå‘˜ID | âœ… | - |
| operatorSign | String | æ“ä½œå‘˜ç­¾åå›¾ç‰‡URL | âœ… | - |
| operatorSignTime | Date | æ“ä½œå‘˜ç­¾åæ—¶é—´ | âœ… | - |
| reviewer | String | å¤æ ¸å‘˜å§“å | âŒ | - |
| reviewerId | String | å¤æ ¸å‘˜ID | âŒ | - |
| reviewerSign | String | å¤æ ¸å‘˜ç­¾åå›¾ç‰‡URL | âŒ | - |
| reviewerSignTime | Date | å¤æ ¸å‘˜ç­¾åæ—¶é—´ | âŒ | - |
| rejectReason | String | é©³å›åŸå›  | âŒ | - |
| createTime | Date | åˆ›å»ºæ—¶é—´ | âœ… | æ™®é€š |
| completeTime | Date | å®Œæˆæ—¶é—´ | âŒ | - |

**items æ•°ç»„ç»“æ„**ï¼š
```json
{
  "drugId": "drug_001",
  "drugName": "é˜¿è«è¥¿æ—èƒ¶å›Š",
  "spec": "0.25g*24ç²’",
  "unit": "ç›’",
  "manufacturer": "XXåˆ¶è¯æœ‰é™å…¬å¸",
  "batch": "20250101",
  "productionDate": "2025-01-01",
  "expireDate": "2027-01-01",
  "quantity": 1000,
  "price": 12.5
}
```

---

### 5. out_records (å‡ºåº“è®°å½•è¡¨)

**ç”¨é€”**ï¼šå­˜å‚¨å‡ºåº“å•æ®

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | å¿…å¡« | ç´¢å¼• |
|-------|------|------|------|------|
| _id | String | è®°å½•ID | âœ… | ä¸»é”® |
| recordNo | String | å‡ºåº“å•å· | âœ… | å”¯ä¸€ |
| status | String | çŠ¶æ€ | âœ… | æ™®é€š |
| location | String | å‡ºåº“å›­åŒº(land_park/water_park) | âœ… | æ™®é€š |
| locationName | String | å‡ºåº“å›­åŒºåç§° | âœ… | - |
| items | Array | è¯ææ˜ç»†åˆ—è¡¨ | âœ… | - |
| remark | String | å¤‡æ³¨ | âŒ | - |
| dispenser | String | å‘æ”¾äººå§“å | âœ… | - |
| dispenserId | String | å‘æ”¾äººID | âœ… | - |
| dispenserSign | String | å‘æ”¾äººç­¾åURL | âœ… | - |
| dispenserSignTime | Date | å‘æ”¾äººç­¾åæ—¶é—´ | âœ… | - |
| receiver | String | æ¥æ”¶äººå§“å | âŒ | - |
| receiverId | String | æ¥æ”¶äººID | âŒ | - |
| receiverSign | String | æ¥æ”¶äººç­¾åURL | âŒ | - |
| receiverSignTime | Date | æ¥æ”¶äººç­¾åæ—¶é—´ | âŒ | - |
| createTime | Date | åˆ›å»ºæ—¶é—´ | âœ… | æ™®é€š |
| completeTime | Date | å®Œæˆæ—¶é—´ | âŒ | - |

---

### 6. transfer_records (å›­åŒºè°ƒæ‹¨è®°å½•è¡¨)

**ç”¨é€”**ï¼šå­˜å‚¨å›­åŒºé—´è°ƒæ‹¨å•æ®

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | å¿…å¡« | ç´¢å¼• |
|-------|------|------|------|------|
| _id | String | è®°å½•ID | âœ… | ä¸»é”® |
| recordNo | String | è°ƒæ‹¨å•å· | âœ… | å”¯ä¸€ |
| status | String | çŠ¶æ€ | âœ… | æ™®é€š |
| fromLocation | String | è°ƒå‡ºå›­åŒº | âœ… | æ™®é€š |
| fromLocationName | String | è°ƒå‡ºå›­åŒºåç§° | âœ… | - |
| toLocation | String | è°ƒå…¥å›­åŒº | âœ… | æ™®é€š |
| toLocationName | String | è°ƒå…¥å›­åŒºåç§° | âœ… | - |
| items | Array | è¯ææ˜ç»†åˆ—è¡¨ | âœ… | - |
| sender | String | å‘é€äººå§“å | âœ… | - |
| senderId | String | å‘é€äººID | âœ… | - |
| senderSign | String | å‘é€äººç­¾åURL | âœ… | - |
| senderSignTime | Date | å‘é€äººç­¾åæ—¶é—´ | âœ… | - |
| receiver | String | æ¥æ”¶äººå§“å | âŒ | - |
| receiverId | String | æ¥æ”¶äººID | âŒ | - |
| receiverSign | String | æ¥æ”¶äººç­¾åURL | âŒ | - |
| receiverSignTime | Date | æ¥æ”¶äººç­¾åæ—¶é—´ | âŒ | - |
| createTime | Date | åˆ›å»ºæ—¶é—´ | âœ… | æ™®é€š |
| completeTime | Date | å®Œæˆæ—¶é—´ | âŒ | - |

---

### 7. consume_records (æ¶ˆè€—è®°å½•è¡¨)

**ç”¨é€”**ï¼šå­˜å‚¨è¯æˆ¿æ—¥æ¶ˆè€—è®°å½•

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | å¿…å¡« | ç´¢å¼• |
|-------|------|------|------|------|
| _id | String | è®°å½•ID | âœ… | ä¸»é”® |
| date | String | æ¶ˆè€—æ—¥æœŸ(YYYY-MM-DD) | âœ… | æ™®é€š |
| location | String | æ‰€å±å›­åŒº(land_park/water_park) | âœ… | æ™®é€š |
| locationName | String | å›­åŒºåç§° | âœ… | - |
| items | Array | è¯ææ˜ç»†åˆ—è¡¨ | âœ… | - |
| operator | String | è®°å½•äººå§“å(è‡ªåŠ¨) | âœ… | - |
| operatorId | String | è®°å½•äººID(è‡ªåŠ¨) | âœ… | - |
| remark | String | å¤‡æ³¨ | âŒ | - |
| createTime | Date | åˆ›å»ºæ—¶é—´ | âœ… | - |

---

### 8. requisition_records (è¯·é¢†è®°å½•è¡¨)

**ç”¨é€”**ï¼šå­˜å‚¨éƒ¨é—¨è¯·é¢†å•æ®

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | å¿…å¡« | ç´¢å¼• |
|-------|------|------|------|------|
| _id | String | è®°å½•ID | âœ… | ä¸»é”® |
| recordNo | String | è¯·é¢†å•å· | âœ… | å”¯ä¸€ |
| status | String | çŠ¶æ€ | âœ… | æ™®é€š |
| location | String | æ‰€å±å›­åŒº(land_park/water_park) | âœ… | æ™®é€š |
| locationName | String | å›­åŒºåç§° | âœ… | - |
| deptId | String | éƒ¨é—¨ID | âœ… | æ™®é€š |
| deptName | String | éƒ¨é—¨åç§° | âœ… | - |
| items | Array | è¯ææ˜ç»†åˆ—è¡¨ | âœ… | - |
| requester | String | è¯·é¢†äººå§“å | âœ… | - |
| requesterId | String | è¯·é¢†äººID | âœ… | - |
| requesterSign | String | è¯·é¢†äººç­¾åURL | âœ… | - |
| requesterSignTime | Date | è¯·é¢†äººç­¾åæ—¶é—´ | âœ… | - |
| dispenser | String | å‘æ”¾äººå§“å | âœ… | - |
| dispenserId | String | å‘æ”¾äººID | âœ… | - |
| dispenserSign | String | å‘æ”¾äººç­¾åURL | âœ… | - |
| dispenserSignTime | Date | å‘æ”¾äººç­¾åæ—¶é—´ | âœ… | - |
| createTime | Date | åˆ›å»ºæ—¶é—´ | âœ… | æ™®é€š |
| completeTime | Date | å®Œæˆæ—¶é—´ | âœ… | - |

---

### 9. inventory_records (ç›˜ç‚¹è®°å½•è¡¨)

**ç”¨é€”**ï¼šå­˜å‚¨ç›˜ç‚¹å•æ®

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | å¿…å¡« | ç´¢å¼• |
|-------|------|------|------|------|
| _id | String | è®°å½•ID | âœ… | ä¸»é”® |
| recordNo | String | ç›˜ç‚¹å•å· | âœ… | å”¯ä¸€ |
| status | String | çŠ¶æ€ | âœ… | æ™®é€š |
| items | Array | è¯ææ˜ç»†åˆ—è¡¨ | âœ… | - |
| operator | String | ç›˜ç‚¹äººå§“å | âœ… | - |
| operatorId | String | ç›˜ç‚¹äººID | âœ… | - |
| operatorSign | String | ç›˜ç‚¹äººç­¾åURL | âœ… | - |
| operatorSignTime | Date | ç›˜ç‚¹äººç­¾åæ—¶é—´ | âœ… | - |
| reviewer | String | å¤æ ¸äººå§“å | âŒ | - |
| reviewerId | String | å¤æ ¸äººID | âŒ | - |
| reviewerSign | String | å¤æ ¸äººç­¾åURL | âŒ | - |
| reviewerSignTime | Date | å¤æ ¸äººç­¾åæ—¶é—´ | âŒ | - |
| createTime | Date | åˆ›å»ºæ—¶é—´ | âœ… | æ™®é€š |
| completeTime | Date | å®Œæˆæ—¶é—´ | âŒ | - |

**items ç»“æ„**ï¼ˆåŒ…å«å·®å¼‚ï¼‰ï¼š
```json
{
  "drugId": "drug_001",
  "drugName": "é˜¿è«è¥¿æ—èƒ¶å›Š",
  "spec": "0.25g*24ç²’",
  "unit": "ç›’",
  "manufacturer": "XXåˆ¶è¯æœ‰é™å…¬å¸",
  "batch": "20250101",
  "expireDate": "2027-01-01",
  "bookQuantity": 850,
  "actualQuantity": 848,
  "difference": -2,
  "differenceReason": "ç ´æŸ2ç›’"
}
```

---

### 10. damage_records (æŠ¥æŸè®°å½•è¡¨)

**ç”¨é€”**ï¼šå­˜å‚¨æŠ¥æŸå•æ®

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | å¿…å¡« | ç´¢å¼• |
|-------|------|------|------|------|
| _id | String | è®°å½•ID | âœ… | ä¸»é”® |
| recordNo | String | æŠ¥æŸå•å· | âœ… | å”¯ä¸€ |
| status | String | çŠ¶æ€ | âœ… | æ™®é€š |
| damageType | String | æŠ¥æŸç±»å‹(expired/damaged/quality/other) | âœ… | - |
| items | Array | è¯ææ˜ç»†åˆ—è¡¨ | âœ… | - |
| reason | String | æŠ¥æŸåŸå›  | âœ… | - |
| photos | Array | æŠ¥æŸç…§ç‰‡URLs | âœ… | - |
| operator | String | æŠ¥æŸäººå§“å | âœ… | - |
| operatorId | String | æŠ¥æŸäººID | âœ… | - |
| operatorSign | String | æŠ¥æŸäººç­¾åURL | âœ… | - |
| operatorSignTime | Date | æŠ¥æŸäººç­¾åæ—¶é—´ | âœ… | - |
| createTime | Date | åˆ›å»ºæ—¶é—´ | âœ… | æ™®é€š |
| completeTime | Date | å®Œæˆæ—¶é—´ | âœ… | - |

---

### 11. return_records (é€€è´§è®°å½•è¡¨)

**ç”¨é€”**ï¼šå­˜å‚¨é€€è´§å•æ®

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | å¿…å¡« | ç´¢å¼• |
|-------|------|------|------|------|
| _id | String | è®°å½•ID | âœ… | ä¸»é”® |
| recordNo | String | é€€è´§å•å· | âœ… | å”¯ä¸€ |
| status | String | çŠ¶æ€ | âœ… | æ™®é€š |
| supplier | String | ä¾›åº”å•† | âœ… | - |
| items | Array | è¯ææ˜ç»†åˆ—è¡¨ | âœ… | - |
| reason | String | é€€è´§åŸå›  | âœ… | - |
| photos | Array | é€€è´§ç…§ç‰‡URLs | âœ… | - |
| initiator | String | å‘èµ·äººå§“å | âœ… | - |
| initiatorId | String | å‘èµ·äººID | âœ… | - |
| initiatorSign | String | å‘èµ·äººç­¾åURL | âœ… | - |
| initiatorSignTime | Date | å‘èµ·äººç­¾åæ—¶é—´ | âœ… | - |
| reviewer | String | å¤æ ¸äººå§“å | âŒ | - |
| reviewerId | String | å¤æ ¸äººID | âŒ | - |
| reviewerSign | String | å¤æ ¸äººç­¾åURL | âŒ | - |
| reviewerSignTime | Date | å¤æ ¸äººç­¾åæ—¶é—´ | âŒ | - |
| createTime | Date | åˆ›å»ºæ—¶é—´ | âœ… | æ™®é€š |
| completeTime | Date | å®Œæˆæ—¶é—´ | âŒ | - |

---

### 12. departments (éƒ¨é—¨è¡¨)

**ç”¨é€”**ï¼šå­˜å‚¨è‡ªå®šä¹‰éƒ¨é—¨ä¿¡æ¯

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | å¿…å¡« | ç´¢å¼• |
|-------|------|------|------|------|
| _id | String | éƒ¨é—¨ID | âœ… | ä¸»é”® |
| name | String | éƒ¨é—¨åç§° | âœ… | å”¯ä¸€ |
| manager | String | è´Ÿè´£äºº | âŒ | - |
| phone | String | è”ç³»ç”µè¯ | âŒ | - |
| status | String | çŠ¶æ€(active/inactive) | âœ… | - |
| sort | Number | æ’åº | âœ… | - |
| createTime | Date | åˆ›å»ºæ—¶é—´ | âœ… | - |
| updateTime | Date | æ›´æ–°æ—¶é—´ | âœ… | - |

---

### 13. locations (å›­åŒºé…ç½®è¡¨)

**ç”¨é€”**ï¼šå­˜å‚¨å›­åŒºé…ç½®

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | å¿…å¡« | ç´¢å¼• |
|-------|------|------|------|------|
| _id | String | å›­åŒºID | âœ… | ä¸»é”® |
| code | String | å›­åŒºä»£ç (land_park/water_park) | âœ… | å”¯ä¸€ |
| name | String | å›­åŒºåç§° | âœ… | - |
| icon | String | å›¾æ ‡ | âŒ | - |
| status | String | çŠ¶æ€(active/inactive) | âœ… | - |
| sort | Number | æ’åº | âœ… | - |
| createTime | Date | åˆ›å»ºæ—¶é—´ | âœ… | - |

---

### 14. system_config (ç³»ç»Ÿé…ç½®è¡¨)

**ç”¨é€”**ï¼šå­˜å‚¨ç³»ç»Ÿå…¨å±€é…ç½®

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | å¿…å¡« | ç´¢å¼• |
|-------|------|------|------|------|
| _id | String | é…ç½®ID | âœ… | ä¸»é”® |
| clinicName | String | åŒ»åŠ¡å®¤åç§° | âœ… | - |
| clinicAddress | String | åŒ»åŠ¡å®¤åœ°å€ | âŒ | - |
| clinicPhone | String | è”ç³»ç”µè¯ | âŒ | - |
| clinicManager | String | è´Ÿè´£äºº | âŒ | - |
| clinicLogo | String | Logoå›¾ç‰‡URL | âŒ | - |
| safeStock | Number | å®‰å…¨åº“å­˜é˜ˆå€¼ | âœ… | - |
| minStock | Number | æœ€ä½åº“å­˜é˜ˆå€¼ | âœ… | - |
| expireWarningDays | Number | æ•ˆæœŸé¢„è­¦å¤©æ•° | âœ… | - |
| updateTime | Date | æ›´æ–°æ—¶é—´ | âœ… | - |

**ç¤ºä¾‹æ•°æ®**ï¼š
```json
{
  "_id": "config_001",
  "clinicName": "åŒ—äº¬æ¬¢ä¹è°·åŒ»åŠ¡å®¤",
  "clinicAddress": "åŒ—äº¬å¸‚æœé˜³åŒºä¸œå››ç¯å°æ­¦åŸºåŒ—è·¯",
  "clinicPhone": "010-12345678",
  "clinicManager": "å¼ ä¸»ä»»",
  "clinicLogo": "cloud://logo.png",
  "safeStock": 100,
  "minStock": 50,
  "expireWarningDays": 90,
  "updateTime": "2025-01-27T00:00:00.000Z"
}
```

---

## ç´¢å¼•ç­–ç•¥

### å¸¸ç”¨æŸ¥è¯¢ç´¢å¼•
```javascript
// drugs è¡¨
db.collection('drugs').createIndex({ name: 1 })
db.collection('drugs').createIndex({ pinyin: 1 })
db.collection('drugs').createIndex({ barcode: 1 }, { unique: true })
db.collection('drugs').createIndex({ category: 1 })

// stock è¡¨
db.collection('stock').createIndex({ drugId: 1, batch: 1 }, { unique: true })
db.collection('stock').createIndex({ expireDate: 1 })
db.collection('stock').createIndex({ location: 1 })
db.collection('stock').createIndex({ status: 1 })

// æ‰€æœ‰è®°å½•è¡¨
db.collection('in_records').createIndex({ recordNo: 1 }, { unique: true })
db.collection('in_records').createIndex({ status: 1 })
db.collection('in_records').createIndex({ createTime: -1 })

// ç±»ä¼¼åœ°ä¸ºå…¶ä»–è®°å½•è¡¨åˆ›å»ºç´¢å¼•...
```

---

## æ•°æ®åˆå§‹åŒ–

### åˆå§‹å›­åŒºæ•°æ®
```json
[
  {
    "_id": "loc_001",
    "code": "land_park",
    "name": "é™†å›­",
    "icon": "ğŸï¸",
    "status": "active",
    "sort": 1,
    "createTime": "2025-01-27T00:00:00.000Z"
  },
  {
    "_id": "loc_002",
    "code": "water_park",
    "name": "æ°´å›­",
    "icon": "ğŸ’§",
    "status": "active",
    "sort": 2,
    "createTime": "2025-01-27T00:00:00.000Z"
  }
]
```

### åˆå§‹ç³»ç»Ÿé…ç½®
```json
{
  "_id": "config_001",
  "clinicName": "åŒ—äº¬æ¬¢ä¹è°·åŒ»åŠ¡å®¤",
  "safeStock": 100,
  "minStock": 50,
  "expireWarningDays": 90,
  "updateTime": "2025-01-27T00:00:00.000Z"
}
```

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0  
**æœ€åæ›´æ–°**ï¼š2025-01-27


