# ğŸ‘¤ ç”¨æˆ·å¤´åƒåŠŸèƒ½å®ç°æ–¹æ¡ˆ

## ğŸ¯ åŠŸèƒ½éœ€æ±‚

å®ç°ç”¨æˆ·å¤´åƒåŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š
1. âœ… è·å–å¾®ä¿¡å¤´åƒ
2. âœ… ä¸Šä¼ è‡ªå®šä¹‰å¤´åƒ
3. âœ… æ˜¾ç¤ºç”¨æˆ·å¤´åƒ
4. âœ… ä¿®æ”¹å¤´åƒ
5. âœ… å¤´åƒç¼“å­˜

---

## ğŸ“‹ å®ç°æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šä½¿ç”¨å¾®ä¿¡å¤´åƒï¼ˆæ¨èï¼‰â­

**ä¼˜ç‚¹ï¼š**
- âœ… æ— éœ€ä¸Šä¼ ï¼Œç›´æ¥è·å–
- âœ… ç”¨æˆ·å·²åœ¨å¾®ä¿¡è®¾ç½®å¥½å¤´åƒ
- âœ… çœå»å­˜å‚¨ç©ºé—´
- âœ… å®ç°ç®€å•

**ç¼ºç‚¹ï¼š**
- âš ï¸ éœ€è¦ç”¨æˆ·æˆæƒ
- âš ï¸ ä¾èµ–å¾®ä¿¡

---

### æ–¹æ¡ˆ2ï¼šè‡ªå®šä¹‰ä¸Šä¼ å¤´åƒ

**ä¼˜ç‚¹ï¼š**
- âœ… ç”¨æˆ·å¯è‡ªå®šä¹‰
- âœ… ä¸ä¾èµ–å¾®ä¿¡
- âœ… æ›´ä¸“ä¸š

**ç¼ºç‚¹ï¼š**
- âš ï¸ éœ€è¦äº‘å­˜å‚¨ç©ºé—´
- âš ï¸ éœ€è¦å®¡æ ¸æœºåˆ¶ï¼ˆé˜²æ­¢è¿è§„å›¾ç‰‡ï¼‰
- âš ï¸ å®ç°å¤æ‚

---

### æ–¹æ¡ˆ3ï¼šæ··åˆæ–¹æ¡ˆï¼ˆæœ€ä½³ï¼‰â­â­â­

**æ¨èï¼šä¼˜å…ˆä½¿ç”¨å¾®ä¿¡å¤´åƒï¼Œæ”¯æŒè‡ªå®šä¹‰ä¸Šä¼ **

```
ä¼˜å…ˆçº§ï¼š
1. å¦‚æœæœ‰è‡ªå®šä¹‰å¤´åƒ â†’ æ˜¾ç¤ºè‡ªå®šä¹‰å¤´åƒ
2. å¦‚æœæœ‰å¾®ä¿¡å¤´åƒ â†’ æ˜¾ç¤ºå¾®ä¿¡å¤´åƒ
3. å¦‚æœéƒ½æ²¡æœ‰ â†’ æ˜¾ç¤ºé»˜è®¤å¤´åƒï¼ˆemojiæˆ–é»˜è®¤å›¾ç‰‡ï¼‰
```

---

## ğŸ”§ æŠ€æœ¯å®ç°

### ç¬¬ä¸€æ­¥ï¼šä¿®æ”¹æ•°æ®åº“ç»“æ„

åœ¨ `users` è¡¨ä¸­æ·»åŠ å¤´åƒå­—æ®µï¼š

```javascript
{
  _id: "user_001",
  openid: "oXXXX",
  name: "å¼ ä¸‰",
  phone: "138xxxx1234",
  role: "admin",
  status: "active",
  
  // ğŸ†• æ–°å¢å¤´åƒç›¸å…³å­—æ®µ
  avatarUrl: "",              // è‡ªå®šä¹‰å¤´åƒURLï¼ˆä¼˜å…ˆæ˜¾ç¤ºï¼‰
  wechatAvatarUrl: "",        // å¾®ä¿¡å¤´åƒURL
  avatarUpdateTime: null,     // å¤´åƒæ›´æ–°æ—¶é—´
  
  createTime: "2025-11-10",
  updateTime: "2025-11-10"
}
```

---

### ç¬¬äºŒæ­¥ï¼šè·å–å¾®ä¿¡å¤´åƒ

#### æ–¹æ³•1ï¼šä½¿ç”¨ wx.getUserProfileï¼ˆæ–°ç‰ˆæ¨èï¼‰

**ç‰¹ç‚¹ï¼š** éœ€è¦ç”¨æˆ·ç‚¹å‡»æˆæƒ

```javascript
// åœ¨ç”¨æˆ·ä¸ªäººä¸­å¿ƒé¡µé¢æ·»åŠ "è·å–å¾®ä¿¡å¤´åƒ"æŒ‰é’®
async getWechatAvatar() {
  try {
    // 1. è·å–ç”¨æˆ·ä¿¡æ¯ï¼ˆåŒ…å«å¤´åƒï¼‰
    const res = await uni.getUserProfile({
      desc: 'ç”¨äºå®Œå–„ä¸ªäººèµ„æ–™'
    })
    
    console.log('ç”¨æˆ·ä¿¡æ¯ï¼š', res.userInfo)
    const avatarUrl = res.userInfo.avatarUrl
    
    // 2. ä¸Šä¼ åˆ°äº‘å­˜å‚¨ï¼ˆå¯é€‰ï¼Œæ¨èï¼‰
    const cloudPath = await this.uploadAvatarToCloud(avatarUrl)
    
    // 3. æ›´æ–°æ•°æ®åº“
    await this.updateUserAvatar(cloudPath || avatarUrl, 'wechat')
    
    uni.showToast({
      title: 'å¤´åƒå·²æ›´æ–°',
      icon: 'success'
    })
  } catch (err) {
    console.error('è·å–å¤´åƒå¤±è´¥ï¼š', err)
    if (err.errMsg.indexOf('cancel') > -1) {
      uni.showToast({
        title: 'å·²å–æ¶ˆ',
        icon: 'none'
      })
    }
  }
}
```

---

#### æ–¹æ³•2ï¼šä½¿ç”¨ button open-type="chooseAvatar"ï¼ˆæœ€æ–°æ¨èï¼‰

**ç‰¹ç‚¹ï¼š** æ›´ç®€æ´ï¼Œç”¨æˆ·ä½“éªŒæ›´å¥½

```vue
<template>
  <view class="avatar-section">
    <view class="avatar-wrapper">
      <!-- å¤´åƒæ˜¾ç¤º -->
      <image 
        v-if="avatarUrl" 
        :src="avatarUrl" 
        class="avatar-image"
        mode="aspectFill"
      />
      <text v-else class="avatar-icon">ğŸ‘¤</text>
      
      <!-- é€‰æ‹©å¤´åƒæŒ‰é’® -->
      <button 
        class="avatar-btn" 
        open-type="chooseAvatar"
        @chooseavatar="onChooseAvatar"
      >
        <text class="btn-text">æ›´æ¢å¤´åƒ</text>
      </button>
    </view>
  </view>
</template>

<script>
export default {
  data() {
    return {
      avatarUrl: ''
    }
  },
  
  methods: {
    async onChooseAvatar(e) {
      try {
        const avatarUrl = e.detail.avatarUrl
        console.log('é€‰æ‹©çš„å¤´åƒï¼š', avatarUrl)
        
        // 1. æ˜¾ç¤ºåŠ è½½æç¤º
        uni.showLoading({
          title: 'ä¸Šä¼ ä¸­...'
        })
        
        // 2. ä¸Šä¼ åˆ°äº‘å­˜å‚¨
        const cloudPath = await this.uploadAvatarToCloud(avatarUrl)
        
        // 3. æ›´æ–°æ•°æ®åº“
        await this.updateUserAvatar(cloudPath, 'wechat')
        
        // 4. æ›´æ–°æœ¬åœ°æ˜¾ç¤º
        this.avatarUrl = cloudPath
        
        uni.hideLoading()
        uni.showToast({
          title: 'å¤´åƒå·²æ›´æ–°',
          icon: 'success'
        })
      } catch (err) {
        console.error('ä¸Šä¼ å¤´åƒå¤±è´¥ï¼š', err)
        uni.hideLoading()
        uni.showToast({
          title: 'ä¸Šä¼ å¤±è´¥',
          icon: 'error'
        })
      }
    },
    
    // ä¸Šä¼ åˆ°äº‘å­˜å‚¨
    async uploadAvatarToCloud(tempFilePath) {
      const cloudPath = `avatars/${Date.now()}-${Math.random().toString(36).substr(2, 9)}.png`
      
      const result = await wx.cloud.uploadFile({
        cloudPath: cloudPath,
        filePath: tempFilePath
      })
      
      return result.fileID
    },
    
    // æ›´æ–°ç”¨æˆ·å¤´åƒ
    async updateUserAvatar(avatarUrl, type = 'wechat') {
      await wx.cloud.callFunction({
        name: 'updateMyInfo',
        data: {
          updates: {
            [type === 'wechat' ? 'wechatAvatarUrl' : 'avatarUrl']: avatarUrl,
            avatarUpdateTime: new Date()
          }
        }
      })
    }
  }
}
</script>

<style>
.avatar-section {
  padding: 30rpx;
}

.avatar-wrapper {
  position: relative;
  width: 150rpx;
  height: 150rpx;
  margin: 0 auto;
}

.avatar-image {
  width: 150rpx;
  height: 150rpx;
  border-radius: 50%;
  border: 4rpx solid #fff;
  box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.1);
}

.avatar-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 150rpx;
  height: 150rpx;
  font-size: 80rpx;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 50%;
  color: #fff;
}

.avatar-btn {
  position: absolute;
  bottom: 0;
  right: 0;
  width: 50rpx;
  height: 50rpx;
  background: #667eea;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  border: 3rpx solid #fff;
  box-shadow: 0 2rpx 8rpx rgba(102, 126, 234, 0.4);
}

.btn-text {
  font-size: 20rpx;
  color: #fff;
}
</style>
```

---

### ç¬¬ä¸‰æ­¥ï¼šè‡ªå®šä¹‰ä¸Šä¼ å¤´åƒ

**å…è®¸ç”¨æˆ·ä»ç›¸å†Œé€‰æ‹©å›¾ç‰‡ä½œä¸ºå¤´åƒ**

```vue
<template>
  <view class="upload-avatar">
    <button class="upload-btn" @tap="chooseImage">
      ä»ç›¸å†Œé€‰æ‹©
    </button>
  </view>
</template>

<script>
export default {
  methods: {
    async chooseImage() {
      try {
        // 1. é€‰æ‹©å›¾ç‰‡
        const res = await uni.chooseImage({
          count: 1,
          sizeType: ['compressed'],
          sourceType: ['album', 'camera']
        })
        
        const tempFilePath = res.tempFilePaths[0]
        
        // 2. æ˜¾ç¤ºåŠ è½½
        uni.showLoading({
          title: 'ä¸Šä¼ ä¸­...'
        })
        
        // 3. ä¸Šä¼ åˆ°äº‘å­˜å‚¨
        const cloudPath = `avatars/${Date.now()}-${Math.random().toString(36).substr(2, 9)}.jpg`
        const uploadRes = await wx.cloud.uploadFile({
          cloudPath: cloudPath,
          filePath: tempFilePath
        })
        
        // 4. æ›´æ–°æ•°æ®åº“
        await wx.cloud.callFunction({
          name: 'updateMyInfo',
          data: {
            updates: {
              avatarUrl: uploadRes.fileID,
              avatarUpdateTime: new Date()
            }
          }
        })
        
        // 5. æ›´æ–°æœ¬åœ°æ˜¾ç¤º
        this.avatarUrl = uploadRes.fileID
        
        uni.hideLoading()
        uni.showToast({
          title: 'å¤´åƒå·²æ›´æ–°',
          icon: 'success'
        })
      } catch (err) {
        console.error('ä¸Šä¼ å¤±è´¥ï¼š', err)
        uni.hideLoading()
        uni.showToast({
          title: 'ä¸Šä¼ å¤±è´¥',
          icon: 'error'
        })
      }
    }
  }
}
</script>
```

---

### ç¬¬å››æ­¥ï¼šæ˜¾ç¤ºç”¨æˆ·å¤´åƒ

**ä¼˜å…ˆçº§ï¼šè‡ªå®šä¹‰å¤´åƒ > å¾®ä¿¡å¤´åƒ > é»˜è®¤å¤´åƒ**

```vue
<template>
  <view class="user-avatar">
    <!-- å¦‚æœæœ‰å¤´åƒï¼Œæ˜¾ç¤ºå›¾ç‰‡ -->
    <image 
      v-if="displayAvatar" 
      :src="displayAvatar" 
      class="avatar-img"
      mode="aspectFill"
      @error="onAvatarError"
    />
    <!-- å¦åˆ™æ˜¾ç¤ºé»˜è®¤å›¾æ ‡ -->
    <text v-else class="avatar-icon">ğŸ‘¤</text>
  </view>
</template>

<script>
export default {
  data() {
    return {
      userInfo: {},
      avatarLoadError: false
    }
  },
  
  computed: {
    // è®¡ç®—æ˜¾ç¤ºçš„å¤´åƒ
    displayAvatar() {
      if (this.avatarLoadError) {
        return '' // åŠ è½½å¤±è´¥ï¼Œæ˜¾ç¤ºé»˜è®¤å›¾æ ‡
      }
      
      // ä¼˜å…ˆçº§ï¼šè‡ªå®šä¹‰å¤´åƒ > å¾®ä¿¡å¤´åƒ
      return this.userInfo.avatarUrl || this.userInfo.wechatAvatarUrl || ''
    }
  },
  
  methods: {
    // å¤´åƒåŠ è½½å¤±è´¥
    onAvatarError() {
      this.avatarLoadError = true
    }
  }
}
</script>
```

---

### ç¬¬äº”æ­¥ï¼šåˆ›å»ºäº‘å‡½æ•°

#### åˆ›å»º `updateMyInfo` äº‘å‡½æ•°ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰

```javascript
// cloudfunctions/updateMyInfo/index.js
const cloud = require('wx-server-sdk')
cloud.init({
  env: cloud.DYNAMIC_CURRENT_ENV
})
const db = cloud.database()

exports.main = async (event, context) => {
  const wxContext = cloud.getWXContext()
  const openid = wxContext.OPENID
  const { updates } = event
  
  try {
    // æ›´æ–°ç”¨æˆ·ä¿¡æ¯
    await db.collection('users')
      .where({ openid })
      .update({
        data: {
          ...updates,
          updateTime: db.serverDate()
        }
      })
    
    return {
      code: 0,
      message: 'æ›´æ–°æˆåŠŸ'
    }
  } catch (err) {
    console.error('æ›´æ–°å¤±è´¥ï¼š', err)
    return {
      code: -1,
      message: 'æ›´æ–°å¤±è´¥',
      error: err.message
    }
  }
}
```

---

## ğŸ¨ å®Œæ•´å®ç°ç¤ºä¾‹

### ä¿®æ”¹ `pages/user/index.vue`

```vue
<template>
  <view class="page">
    <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
    <view class="user-profile">
      <view class="profile-bg">
        <view class="bg-pattern"></view>
      </view>
      <view class="profile-content">
        <!-- å¤´åƒéƒ¨åˆ† -->
        <view class="avatar-wrapper">
          <view class="avatar-circle" @tap="showAvatarOptions">
            <!-- ğŸ†• æ˜¾ç¤ºçœŸå®å¤´åƒæˆ–é»˜è®¤å›¾æ ‡ -->
            <image 
              v-if="displayAvatar" 
              :src="displayAvatar" 
              class="avatar-img"
              mode="aspectFill"
              @error="onAvatarError"
            />
            <text v-else class="avatar-icon">ğŸ‘¤</text>
          </view>
          <view class="online-indicator"></view>
          <!-- ğŸ†• ç›¸æœºå›¾æ ‡æç¤ºå¯ç‚¹å‡» -->
          <view class="camera-icon">ğŸ“·</view>
        </view>
        
        <view class="user-details">
          <text class="user-name">{{ userInfo.name }}</text>
          <text class="user-role">{{ userInfo.roleText }}</text>
          <view class="user-dept-tag">
            <text class="dept-icon">ğŸ¥</text>
            <text class="dept-text">åŒ»åŠ¡å®¤</text>
          </view>
        </view>
      </view>
    </view>

    <!-- åŠŸèƒ½èœå• -->
    <!-- ... å…¶ä»–å†…å®¹ä¿æŒä¸å˜ ... -->
  </view>
</template>

<script>
export default {
  data() {
    return {
      userInfo: {},
      avatarLoadError: false,
      isLoggedIn: false
    }
  },
  
  computed: {
    // è®¡ç®—æ˜¾ç¤ºçš„å¤´åƒ
    displayAvatar() {
      if (this.avatarLoadError) {
        return ''
      }
      // ä¼˜å…ˆçº§ï¼šè‡ªå®šä¹‰å¤´åƒ > å¾®ä¿¡å¤´åƒ
      return this.userInfo.avatarUrl || this.userInfo.wechatAvatarUrl || ''
    }
  },
  
  methods: {
    // æ˜¾ç¤ºå¤´åƒé€‰é¡¹
    showAvatarOptions() {
      if (!this.isLoggedIn) {
        uni.showToast({
          title: 'è¯·å…ˆç™»å½•',
          icon: 'none'
        })
        return
      }
      
      uni.showActionSheet({
        itemList: ['è·å–å¾®ä¿¡å¤´åƒ', 'ä»ç›¸å†Œé€‰æ‹©', 'æ‹ç…§'],
        success: (res) => {
          if (res.tapIndex === 0) {
            this.getWechatAvatar()
          } else if (res.tapIndex === 1) {
            this.chooseImageFromAlbum()
          } else if (res.tapIndex === 2) {
            this.takePhoto()
          }
        }
      })
    },
    
    // è·å–å¾®ä¿¡å¤´åƒ
    async getWechatAvatar() {
      try {
        const res = await uni.getUserProfile({
          desc: 'ç”¨äºå®Œå–„ä¸ªäººèµ„æ–™'
        })
        
        const avatarUrl = res.userInfo.avatarUrl
        
        uni.showLoading({
          title: 'ä¸Šä¼ ä¸­...'
        })
        
        // ä¸Šä¼ åˆ°äº‘å­˜å‚¨
        const cloudPath = await this.uploadToCloud(avatarUrl)
        
        // æ›´æ–°æ•°æ®åº“
        await this.updateAvatar(cloudPath, 'wechat')
        
        uni.hideLoading()
        uni.showToast({
          title: 'å¤´åƒå·²æ›´æ–°',
          icon: 'success'
        })
      } catch (err) {
        console.error('è·å–å¤´åƒå¤±è´¥ï¼š', err)
        uni.hideLoading()
      }
    },
    
    // ä»ç›¸å†Œé€‰æ‹©
    async chooseImageFromAlbum() {
      await this.chooseAndUploadImage(['album'])
    },
    
    // æ‹ç…§
    async takePhoto() {
      await this.chooseAndUploadImage(['camera'])
    },
    
    // é€‰æ‹©å¹¶ä¸Šä¼ å›¾ç‰‡
    async chooseAndUploadImage(sourceType) {
      try {
        const res = await uni.chooseImage({
          count: 1,
          sizeType: ['compressed'],
          sourceType: sourceType
        })
        
        uni.showLoading({
          title: 'ä¸Šä¼ ä¸­...'
        })
        
        const tempFilePath = res.tempFilePaths[0]
        
        // ä¸Šä¼ åˆ°äº‘å­˜å‚¨
        const cloudPath = await this.uploadToCloud(tempFilePath)
        
        // æ›´æ–°æ•°æ®åº“
        await this.updateAvatar(cloudPath, 'custom')
        
        uni.hideLoading()
        uni.showToast({
          title: 'å¤´åƒå·²æ›´æ–°',
          icon: 'success'
        })
      } catch (err) {
        console.error('ä¸Šä¼ å¤±è´¥ï¼š', err)
        uni.hideLoading()
      }
    },
    
    // ä¸Šä¼ åˆ°äº‘å­˜å‚¨
    async uploadToCloud(filePath) {
      const cloudPath = `avatars/${Date.now()}-${Math.random().toString(36).substr(2, 9)}.jpg`
      
      const result = await wx.cloud.uploadFile({
        cloudPath: cloudPath,
        filePath: filePath
      })
      
      return result.fileID
    },
    
    // æ›´æ–°å¤´åƒ
    async updateAvatar(avatarUrl, type) {
      const res = await wx.cloud.callFunction({
        name: 'updateMyInfo',
        data: {
          updates: {
            [type === 'wechat' ? 'wechatAvatarUrl' : 'avatarUrl']: avatarUrl,
            avatarUpdateTime: new Date()
          }
        }
      })
      
      // æ›´æ–°æœ¬åœ°
      if (type === 'wechat') {
        this.userInfo.wechatAvatarUrl = avatarUrl
      } else {
        this.userInfo.avatarUrl = avatarUrl
      }
      
      this.avatarLoadError = false
      
      // æ›´æ–°ç¼“å­˜
      uni.setStorageSync('userInfo', this.userInfo)
    },
    
    // å¤´åƒåŠ è½½å¤±è´¥
    onAvatarError() {
      this.avatarLoadError = true
    }
  }
}
</script>

<style>
/* åŸæœ‰æ ·å¼ä¿æŒä¸å˜ */

/* ğŸ†• å¤´åƒå›¾ç‰‡æ ·å¼ */
.avatar-img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
}

/* ğŸ†• ç›¸æœºå›¾æ ‡ */
.camera-icon {
  position: absolute;
  bottom: 0;
  right: 0;
  width: 30rpx;
  height: 30rpx;
  background: #ffffff;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18rpx;
  box-shadow: 0 2rpx 8rpx rgba(0,0,0,0.2);
}
</style>
```

---

## ğŸ“± ç”¨æˆ·ä½¿ç”¨æµç¨‹

### æµç¨‹å›¾ï¼š

```
ç”¨æˆ·è¿›å…¥"æˆ‘çš„"é¡µé¢
      â†“
ç‚¹å‡»å¤´åƒ
      â†“
é€‰æ‹©è·å–æ–¹å¼ï¼š
â”œâ”€ è·å–å¾®ä¿¡å¤´åƒ
â”‚  â””â”€ æˆæƒ â†’ ä¸Šä¼  â†’ ä¿å­˜
â”œâ”€ ä»ç›¸å†Œé€‰æ‹©
â”‚  â””â”€ é€‰æ‹© â†’ ä¸Šä¼  â†’ ä¿å­˜
â””â”€ æ‹ç…§
   â””â”€ æ‹ç…§ â†’ ä¸Šä¼  â†’ ä¿å­˜
      â†“
âœ… å¤´åƒæ›´æ–°æˆåŠŸ
```

---

## ğŸ¯ ä¼˜åŒ–å»ºè®®

### 1. å¤´åƒå°ºå¯¸é™åˆ¶

```javascript
// å‹ç¼©å›¾ç‰‡
async compressImage(filePath) {
  const res = await uni.compressImage({
    src: filePath,
    quality: 80
  })
  return res.tempFilePath
}
```

### 2. å¤´åƒå®¡æ ¸ï¼ˆé˜²æ­¢è¿è§„ï¼‰

```javascript
// ä½¿ç”¨å¾®ä¿¡å†…å®¹å®‰å…¨API
async checkImage(fileID) {
  const result = await wx.cloud.callFunction({
    name: 'checkImage',
    data: {
      fileID: fileID
    }
  })
  return result.pass
}
```

### 3. å¤´åƒç¼“å­˜

```javascript
// ç¼“å­˜å¤´åƒåˆ°æœ¬åœ°
saveAvatarCache(avatarUrl) {
  uni.setStorageSync('userAvatar', avatarUrl)
}

// è¯»å–ç¼“å­˜
loadAvatarCache() {
  return uni.getStorageSync('userAvatar')
}
```

---

## âœ… å®æ–½æ­¥éª¤

### ç¬¬1æ­¥ï¼šå‡†å¤‡å·¥ä½œï¼ˆ5åˆ†é’Ÿï¼‰

```
â–¡ åœ¨äº‘å¼€å‘æ§åˆ¶å°å¼€å¯äº‘å­˜å‚¨
â–¡ åˆ›å»º avatars æ–‡ä»¶å¤¹
â–¡ é…ç½®å­˜å‚¨æƒé™
```

### ç¬¬2æ­¥ï¼šä¿®æ”¹æ•°æ®åº“ï¼ˆ2åˆ†é’Ÿï¼‰

```
â–¡ åœ¨ users è¡¨ä¸­æ·»åŠ å­—æ®µï¼š
  - avatarUrl
  - wechatAvatarUrl  
  - avatarUpdateTime
```

### ç¬¬3æ­¥ï¼šä¿®æ”¹å‰ç«¯ä»£ç ï¼ˆ15åˆ†é’Ÿï¼‰

```
â–¡ ä¿®æ”¹ pages/user/index.vue
â–¡ æ·»åŠ å¤´åƒé€‰æ‹©åŠŸèƒ½
â–¡ æ·»åŠ å¤´åƒä¸Šä¼ åŠŸèƒ½
â–¡ æ·»åŠ å¤´åƒæ˜¾ç¤ºé€»è¾‘
```

### ç¬¬4æ­¥ï¼šæµ‹è¯•ï¼ˆ5åˆ†é’Ÿï¼‰

```
â–¡ æµ‹è¯•è·å–å¾®ä¿¡å¤´åƒ
â–¡ æµ‹è¯•ä»ç›¸å†Œé€‰æ‹©
â–¡ æµ‹è¯•æ‹ç…§ä¸Šä¼ 
â–¡ æµ‹è¯•å¤´åƒæ˜¾ç¤º
```

---

**é¢„è®¡æ€»è€—æ—¶ï¼š** 30åˆ†é’Ÿ  
**éš¾åº¦çº§åˆ«ï¼š** â­â­â­ ä¸­ç­‰  
**æœ€åæ›´æ–°ï¼š** 2025å¹´11æœˆ10æ—¥


