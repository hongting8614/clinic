wechatdevtools_FWaM5lmUsX.png# ğŸš¨ ç´§æ€¥ä¿®å¤ï¼šScanner ç»„ä»¶é”™è¯¯

**é”™è¯¯**: `TypeError: Cannot read property 'call' of undefined`  
**å½±å“**: æ•´ä¸ªåº”ç”¨æ— æ³•å¯åŠ¨  
**çŠ¶æ€**: ğŸ”´ ä¸¥é‡

---

## âŒ é”™è¯¯ä¿¡æ¯

```
é¡µé¢ã€components/scanner/indexã€‘é”™è¯¯:
TypeError: Cannot read property 'call' of undefined
Page "pages/index/index" has not been registered yet.
```

**æ ¹æœ¬åŸå› **: 
- scanner ç»„ä»¶å¯èƒ½è¢«æŸä¸ªé¡µé¢å¼•ç”¨ä½†æœªæ­£ç¡®æ³¨å†Œ
- æˆ–ç»„ä»¶æ‰“åŒ…æ—¶å‡ºç°é—®é¢˜
- å¯¼è‡´æ•´ä¸ªåº”ç”¨å´©æºƒ

---

## âœ… å¿«é€Ÿä¿®å¤æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1: æ¸…ç†ç¼“å­˜é‡æ–°ç¼–è¯‘ï¼ˆæ¨èï¼‰

```bash
HBuilderX:
1. èœå• -> é¡¹ç›® -> æ¸…ç† -> æ¸…ç†é¡¹ç›®ç¼“å­˜
2. åˆ é™¤ unpackage æ–‡ä»¶å¤¹
3. é‡æ–°è¿è¡Œåˆ°å¾®ä¿¡å¼€å‘è€…å·¥å…·

å¾®ä¿¡å¼€å‘è€…å·¥å…·:
1. ç‚¹å‡»"æ¸…ç¼“å­˜" -> "æ¸…é™¤å·¥å…·ç¼“å­˜"
2. é‡å¯å¾®ä¿¡å¼€å‘è€…å·¥å…·
3. é‡æ–°æ‰“å¼€é¡¹ç›®
```

---

### æ–¹æ¡ˆ 2: ä¸´æ—¶ç§»é™¤ scanner ç»„ä»¶

å¦‚æœæ–¹æ¡ˆ1æ— æ•ˆï¼Œä¸´æ—¶ç§»é™¤ scanner ç»„ä»¶ï¼š

#### æ­¥éª¤1: é‡å‘½åç»„ä»¶æ–‡ä»¶å¤¹
```bash
å°† components/scanner é‡å‘½åä¸º components/scanner.bak
```

#### æ­¥éª¤2: é‡æ–°ç¼–è¯‘
```bash
HBuilderX: åœæ­¢ -> é‡æ–°è¿è¡Œ
```

#### æ­¥éª¤3: éªŒè¯
- åº”ç”¨åº”è¯¥èƒ½æ­£å¸¸å¯åŠ¨
- é¦–é¡µåº”è¯¥èƒ½æ­£å¸¸æ˜¾ç¤º

**æ³¨æ„**: scanner ç»„ä»¶åœ¨å…¥åº“æ¨¡å—ä¸­æœªä½¿ç”¨ï¼ˆå·²æ”¹ç”¨ in-entry-toolbarï¼‰ï¼Œç§»é™¤ä¸å½±å“å…¥åº“åŠŸèƒ½æµ‹è¯•ã€‚

---

### æ–¹æ¡ˆ 3: æ£€æŸ¥å¹¶ä¿®å¤å¼•ç”¨

å¦‚æœéœ€è¦ä¿ç•™ scanner ç»„ä»¶ï¼Œæ£€æŸ¥å“ªé‡Œå¼•ç”¨äº†å®ƒï¼š

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æœç´¢
æœç´¢æ–‡ä»¶å†…å®¹: "scanner" æˆ– "Scanner"
æ’é™¤: node_modules, unpackage

# å¯èƒ½çš„ä½ç½®:
- pages/index/index.vue
- pages/stock/index.vue
- components/*/index.vue
```

æ‰¾åˆ°åï¼Œç¡®ä¿æ­£ç¡®å¯¼å…¥å’Œæ³¨å†Œï¼š

```vue
<script>
import Scanner from '@/components/scanner/index.vue'

export default {
  components: {
    Scanner  // ç¡®ä¿æ³¨å†Œ
  }
}
</script>
```

---

## ğŸ¯ æ¨èæ‰§è¡Œé¡ºåº

1. **å…ˆå°è¯•æ–¹æ¡ˆ 1**ï¼ˆæ¸…ç†ç¼“å­˜ï¼‰
   - æœ€ç®€å•
   - ä¸ä¿®æ”¹ä»£ç 
   - 90% æƒ…å†µèƒ½è§£å†³

2. **å¦‚ä»å¤±è´¥ï¼Œå°è¯•æ–¹æ¡ˆ 2**ï¼ˆä¸´æ—¶ç§»é™¤ï¼‰
   - å¿«é€Ÿæ¢å¤åº”ç”¨è¿è¡Œ
   - ä¸å½±å“å…¥åº“åŠŸèƒ½æµ‹è¯•

3. **æµ‹è¯•å®Œæˆåï¼Œå†è°ƒæŸ¥æ–¹æ¡ˆ 3**ï¼ˆä¿®å¤å¼•ç”¨ï¼‰
   - å¦‚æœéœ€è¦ scanner ç»„ä»¶
   - ç”¨äºå…¶ä»–åŠŸèƒ½

---

## âœ… ä¿®å¤éªŒè¯

ä¿®å¤åï¼Œåº”è¯¥çœ‹åˆ°ï¼š

- âœ… **åº”ç”¨æ­£å¸¸å¯åŠ¨**
- âœ… **é¦–é¡µæ­£å¸¸æ˜¾ç¤º**
- âœ… **æ§åˆ¶å°æ—  "Cannot read property 'call'" é”™è¯¯**
- âœ… **äº‘å¼€å‘åˆå§‹åŒ–æˆåŠŸ**
- âœ… **å¯ä»¥å¯¼èˆªåˆ°å…¶ä»–é¡µé¢**

---

## ğŸ§ª æµ‹è¯•å…¥åº“åŠŸèƒ½

ä¿®å¤åï¼Œç«‹å³æµ‹è¯•å…¥åº“åŠŸèƒ½ï¼š

```bash
1. é¦–é¡µ -> å…¥åº“ç®¡ç†ï¼ˆå¦‚æœ‰å¿«æ·å…¥å£ï¼‰
2. æˆ–ç›´æ¥è®¿é—®: pages-sub/in/add
3. éªŒè¯é¡µé¢æ­£å¸¸åŠ è½½
4. å·¥å…·æ 3ä¸ªæŒ‰é’®æ˜¾ç¤ºæ­£å¸¸
5. è¡¨æ ¼ç»„ä»¶æ˜¾ç¤ºæ­£å¸¸
```

**é‡è¦**: å…¥åº“æ¨¡å—ä¸ä½¿ç”¨ scanner ç»„ä»¶ï¼Œç§»é™¤ä¸å½±å“æµ‹è¯•ï¼

---

## ğŸ“ è¯¦ç»†è¯´æ˜

### ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ä¸ªé”™è¯¯ï¼Ÿ

å¯èƒ½çš„åŸå› ï¼š
1. **ç»„ä»¶ä¾èµ–ç¼ºå¤±**: scanner ç»„ä»¶ä¾èµ–çš„æŸä¸ªæ¨¡å—æ‰¾ä¸åˆ°
2. **æ‰“åŒ…é”™è¯¯**: ç¼–è¯‘æ—¶ç»„ä»¶æ‰“åŒ…å‡ºé”™
3. **ç¼“å­˜é—®é¢˜**: æ—§çš„ç¼“å­˜æ–‡ä»¶ä¸æ–°ä»£ç å†²çª
4. **uView Plus é—®é¢˜**: scanner ç»„ä»¶ä½¿ç”¨äº† uView Plus çš„ u-buttonï¼Œä½† uView Plus æœªæ­£ç¡®å®‰è£…æˆ–æ³¨å†Œ

### å…¥åº“æ¨¡å—ä¸ºä»€ä¹ˆä¸å—å½±å“ï¼Ÿ

å…¥åº“æ¨¡å—ä½¿ç”¨çš„ç»„ä»¶ï¼š
- âœ… `in-entry-toolbar` - è‡ªå®šä¹‰å·¥å…·æ ï¼ˆåŒ…å«æ‰«ç æŒ‰é’®ï¼‰
- âœ… `in-entry-table` - å¯ç¼–è¾‘è¡¨æ ¼
- âœ… `signature` - ç­¾åç»„ä»¶

**ä¸ä½¿ç”¨** scanner ç»„ä»¶ï¼

### åç»­å»ºè®®

æµ‹è¯•å®Œå…¥åº“åŠŸèƒ½åï¼Œå¦‚éœ€ä½¿ç”¨ scanner ç»„ä»¶ï¼š
1. æ£€æŸ¥ uView Plus æ˜¯å¦æ­£ç¡®å®‰è£…
2. ç¡®ä¿ç»„ä»¶æ­£ç¡®å¯¼å…¥å’Œæ³¨å†Œ
3. æˆ–è€ƒè™‘ç›´æ¥åœ¨é¡µé¢ä¸­è°ƒç”¨ `uni.scanCode`ï¼Œä¸ä½¿ç”¨ç»„ä»¶å°è£…

---

## ğŸš€ ç°åœ¨å°±ä¿®å¤

**æ‰§è¡Œå‘½ä»¤**ï¼ˆæ–¹æ¡ˆ1ï¼‰:
```bash
# HBuilderX
1. åœæ­¢è¿è¡Œ
2. èœå• -> é¡¹ç›® -> æ¸…ç† -> æ¸…ç†é¡¹ç›®ç¼“å­˜
3. æ‰‹åŠ¨åˆ é™¤ D:\AK-PMS\unpackage æ–‡ä»¶å¤¹
4. é‡æ–°è¿è¡Œåˆ°å¾®ä¿¡å¼€å‘è€…å·¥å…·

# å¾®ä¿¡å¼€å‘è€…å·¥å…·
1. å·¥å…·æ  -> æ¸…ç¼“å­˜ -> æ¸…é™¤å·¥å…·ç¼“å­˜
2. é‡å¯å·¥å…·
3. é‡æ–°æ‰“å¼€é¡¹ç›®: D:\AK-PMS\unpackage\dist\dev\mp-weixin
```

**æˆ–æ‰§è¡Œ**ï¼ˆæ–¹æ¡ˆ2ï¼Œå¦‚æ–¹æ¡ˆ1æ— æ•ˆï¼‰:
```bash
# Windows PowerShell æˆ–æ–‡ä»¶ç®¡ç†å™¨
1. å¯¼èˆªåˆ° D:\AK-PMS\components
2. å°† scanner æ–‡ä»¶å¤¹é‡å‘½åä¸º scanner.bak
3. è¿”å› HBuilderX
4. é‡æ–°è¿è¡Œ
```

---

**ä¿®å¤å®Œæˆåï¼Œåº”ç”¨åº”è¯¥èƒ½æ­£å¸¸å¯åŠ¨ï¼Œç„¶åç»§ç»­æµ‹è¯•å…¥åº“åŠŸèƒ½ï¼** ğŸ¯

