{"version":3,"sources":["webpack:///D:/AK-PMS/components/signature/signature.vue?30c3","webpack:///D:/AK-PMS/components/signature/signature.vue?7b88","webpack:///D:/AK-PMS/components/signature/signature.vue?bfc8","webpack:///D:/AK-PMS/components/signature/signature.vue?3860","uni-app:///components/signature/signature.vue","webpack:///D:/AK-PMS/components/signature/signature.vue?cd80","webpack:///D:/AK-PMS/components/signature/signature.vue?5600"],"names":["name","data","ctx","isDrawing","lastX","lastY","mounted","setTimeout","methods","initCanvas","console","touchStart","touchMove","touchEnd","clearSignature","confirmSignature","uni","canvasId","success","fail","title","icon","closeModal"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkI;AAClI;AAC6D;AACL;AACsC;;;AAG9F;AAC4M;AAC5M,gBAAgB,gNAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,gGAAM;AACR,EAAE,yGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAsyB,CAAgB,kyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCmC1zB;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IAAA;IACA;IACA;MACAC;QACA;MACA;IACA;EACA;EACAC;IACAC;MACA;MACA;QACAC;QACA;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA;MACA;MACA;MAEAA;IACA;IAEAC;MACA;MACA;MACA;IACA;IAEAC;MACA;MAEA;MACA;MAEA;MACA;MACA;MACA;MACA;MAEA;MACA;IACA;IAEAC;MACA;IACA;IAEAC;MACA;MACA;IACA;IAEAC;MAAA;MACAC;QACAC;QACAC;UACA;QACA;QACAC;UACAT;UACAM;YACAI;YACAC;UACA;QACA;MACA;IACA;IAEAC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC5HA;AAAA;AAAA;AAAA;AAAqgD,CAAgB,q7CAAG,EAAC,C;;;;;;;;;;;ACAzhD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/signature/signature.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./signature.vue?vue&type=template&id=0f2094b6&scoped=true&\"\nvar renderjs\nimport script from \"./signature.vue?vue&type=script&lang=js&\"\nexport * from \"./signature.vue?vue&type=script&lang=js&\"\nimport style0 from \"./signature.vue?vue&type=style&index=0&id=0f2094b6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f2094b6\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/signature/signature.vue\"\nexport default component.exports","export * from \"-!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./signature.vue?vue&type=template&id=0f2094b6&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./signature.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./signature.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"signature-modal\" @tap=\"closeModal\" @touchmove.stop.prevent>\n    <view class=\"modal-content\" @tap.stop @touchmove.stop.prevent>\n      <view class=\"modal-header\">\n        <view class=\"header-title\">‚úçÔ∏è ÁîµÂ≠êÁ≠æÂêç</view>\n        <view class=\"header-desc\">ËØ∑Âú®‰∏ãÊñπÁ≠æÂêçÊùø‰∏äÁ≠æÂêç</view>\n      </view>\n\n      <view class=\"canvas-wrapper\" @touchmove.stop.prevent>\n        <canvas \n          canvas-id=\"signatureCanvas\" \n          class=\"signature-canvas\"\n          @touchstart=\"touchStart\"\n          @touchmove=\"touchMove\"\n          @touchend=\"touchEnd\"\n          @touchmove.stop.prevent\n        ></canvas>\n      </view>\n\n      <view class=\"modal-actions\">\n        <button class=\"action-btn clear-btn\" @click=\"clearSignature\">\n          üóëÔ∏è Ê∏ÖÁ©∫\n        </button>\n        <button class=\"action-btn cancel-btn\" @click=\"closeModal\">\n          ÂèñÊ∂à\n        </button>\n        <button class=\"action-btn confirm-btn\" @click=\"confirmSignature\">\n          ‚úÖ Á°ÆËÆ§\n        </button>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  name: 'Signature',\n  data() {\n    return {\n      ctx: null,\n      isDrawing: false,\n      lastX: 0,\n      lastY: 0\n    };\n  },\n  mounted() {\n    // Âª∂ËøüÂàùÂßãÂåñ,Á°Æ‰øùDOMÂ∑≤Ê∏≤Êüì\n    this.$nextTick(() => {\n      setTimeout(() => {\n        this.initCanvas();\n      }, 300);\n    });\n  },\n  methods: {\n    initCanvas() {\n      this.ctx = uni.createCanvasContext('signatureCanvas', this);\n      if (!this.ctx) {\n        console.error('Á≠æÂêçÁîªÂ∏ÉÂàùÂßãÂåñÂ§±Ë¥•');\n        return;\n      }\n      this.ctx.setStrokeStyle('#000000');\n      this.ctx.setLineWidth(3);\n      this.ctx.setLineCap('round');\n      this.ctx.setLineJoin('round');\n      \n      // ËÆæÁΩÆÁôΩËâ≤ËÉåÊôØ\n      this.ctx.setFillStyle('#ffffff');\n      this.ctx.fillRect(0, 0, 750, 400);\n      this.ctx.draw();\n      \n      console.log('Á≠æÂêçÁîªÂ∏ÉÂàùÂßãÂåñÊàêÂäü');\n    },\n\n    touchStart(e) {\n      this.isDrawing = true;\n      this.lastX = e.touches[0].x;\n      this.lastY = e.touches[0].y;\n    },\n\n    touchMove(e) {\n      if (!this.isDrawing) return;\n      \n      const x = e.touches[0].x;\n      const y = e.touches[0].y;\n      \n      this.ctx.beginPath();\n      this.ctx.moveTo(this.lastX, this.lastY);\n      this.ctx.lineTo(x, y);\n      this.ctx.stroke();\n      this.ctx.draw(true);\n      \n      this.lastX = x;\n      this.lastY = y;\n    },\n\n    touchEnd() {\n      this.isDrawing = false;\n    },\n\n    clearSignature() {\n      this.ctx.clearRect(0, 0, 750, 400);\n      this.ctx.draw();\n    },\n\n    confirmSignature() {\n      uni.canvasToTempFilePath({\n        canvasId: 'signatureCanvas',\n        success: (res) => {\n          this.$emit('confirm', res.tempFilePath);\n        },\n        fail: (err) => {\n          console.error('ÁîüÊàêÁ≠æÂêçÂõæÁâáÂ§±Ë¥•:', err);\n          uni.showToast({\n            title: 'Á≠æÂêçÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\n            icon: 'none'\n          });\n        }\n      }, this);\n    },\n\n    closeModal() {\n      this.$emit('close');\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.signature-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: white;\n  z-index: 9999;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden; /* Èò≤Ê≠¢Âú®Á≠æÂêçÊó∂ÊªöÂä®Á©øÈÄè */\n  touch-action: none; /* Á¶ÅÊ≠¢ÊµèËßàÂô®ÊâãÂäøÊªöÂä®/Áº©Êîæ */\n}\n\n.modal-content {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  background: white;\n}\n\n.modal-header {\n  padding: 40rpx 30rpx;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  text-align: center;\n}\n\n.header-title {\n  font-size: 36rpx;\n  font-weight: bold;\n  color: white;\n  margin-bottom: 12rpx;\n}\n\n.header-desc {\n  font-size: 24rpx;\n  color: rgba(255, 255, 255, 0.9);\n}\n\n.canvas-wrapper {\n  flex: 1;\n  padding: 30rpx;\n  background: #f5f5f5;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.signature-canvas {\n  width: 100%;\n  height: 100%;\n  background: white;\n  border-radius: 16rpx;\n  border: 3rpx dashed #d9d9d9;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.1);\n  touch-action: none; /* Èôç‰ΩéÊâãÂäøÂØπÂ∏ÉÂ±ÄÁöÑÂΩ±ÂìçÔºåÈÅøÂÖçÊôÉÂä® */\n  user-select: none;\n}\n\n.modal-actions {\n  display: flex;\n  gap: 16rpx;\n  padding: 30rpx;\n  background: white;\n}\n\n.action-btn {\n  flex: 1;\n  padding: 24rpx;\n  border-radius: 12rpx;\n  font-size: 28rpx;\n  font-weight: bold;\n  border: none;\n}\n\n.clear-btn {\n  background: #f0f0f0;\n  color: #666;\n}\n\n.cancel-btn {\n  background: white;\n  color: #666;\n  border: 2rpx solid #d9d9d9;\n}\n\n.confirm-btn {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  box-shadow: 0 4rpx 12rpx rgba(102, 126, 234, 0.4);\n}\n</style>\n\n","import mod from \"-!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./signature.vue?vue&type=style&index=0&id=0f2094b6&lang=scss&scoped=true&\"; export default mod; export * from \"-!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\google‰∏ãËΩΩËµÑÊñô\\\\HBuilderX.4.84.2025110307\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./signature.vue?vue&type=style&index=0&id=0f2094b6&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1764631784499\n      var cssReload = require(\"F:/google‰∏ãËΩΩËµÑÊñô/HBuilderX.4.84.2025110307/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}