{"version":3,"sources":["uni-app:///main.js","webpack:///D:/AK-PMS/pages-sub/in/review.vue?a122","webpack:///D:/AK-PMS/pages-sub/in/review.vue?3eb1","webpack:///D:/AK-PMS/pages-sub/in/review.vue?ad3a","webpack:///D:/AK-PMS/pages-sub/in/review.vue?4736","uni-app:///pages-sub/in/review.vue","webpack:///D:/AK-PMS/pages-sub/in/review.vue?2da8","webpack:///D:/AK-PMS/pages-sub/in/review.vue?db33"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","Signature","data","recordId","currentDate","record","recordNo","operator","operatorId","operatorSign","operatorSignTime","supplier","createTime","status","items","reviewerSign","showRejectReason","rejectReason","userInfo","computed","totalDrugs","totalQuantity","totalAmount","onLoad","methods","initPage","loadRecord","uni","title","mask","action","_id","result","item","console","icon","setTimeout","getStatusText","getExpiryClass","handleReject","scrollTop","duration","cancelReject","confirmReject","content","success","res","handleApprove","getOperatorRoleText","getRoleText","formatTime","getCurrentTime","submitReview","cachedUser","reviewerId","reviewerName","confirmText","cancelText","url","reviewer","reviewerSignTime"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AAC0K;AAC1K,gBAAgB,uLAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,kLAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvEA;AAAA;AAAA;AAAA;AAAsoB,CAAgB,kqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACgO1pB;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAEA;EACAC;IACAC;EACA;EAEAC;IACA;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;IACAC;MACA;IACA;IAEAC;MACA;MACA;QAAA;MAAA;IACA;IAEAC;MACA;MACA;QACA;MACA;IACA;EACA;EAEAC;IACA;MACA;IACA;IACA;IACA;EACA;EA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","file":"pages-sub/in/review.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages-sub/in/review.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./review.vue?vue&type=template&id=cf707de8&scoped=true&\"\nvar renderjs\nimport script from \"./review.vue?vue&type=script&lang=js&\"\nexport * from \"./review.vue?vue&type=script&lang=js&\"\nimport style0 from \"./review.vue?vue&type=style&index=0&id=cf707de8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cf707de8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages-sub/in/review.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./review.vue?vue&type=template&id=cf707de8&scoped=true&\"","var components\ntry {\n  components = {\n    signature: function () {\n      return import(\n        /* webpackChunkName: \"components/signature/index\" */ \"@/components/signature/index.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. æ’æŸ¥ç»„ä»¶åç§°æ‹¼å†™æ˜¯å¦æ­£ç¡®\")\n    console.error(\n      \"2. æ’æŸ¥ç»„ä»¶æ˜¯å¦ç¬¦åˆ easycom è§„èŒƒï¼Œæ–‡æ¡£ï¼šhttps://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. è‹¥ç»„ä»¶ä¸ç¬¦åˆ easycom è§„èŒƒï¼Œéœ€æ‰‹åŠ¨å¼•å…¥ï¼Œå¹¶åœ¨ components ä¸­æ³¨å†Œè¯¥ç»„ä»¶\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.getStatusText(_vm.record.status)\n  var g0 = _vm.record.items ? _vm.record.items.length : null\n  var l0 = _vm.__map(_vm.record.items, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var m1 = _vm.getExpiryClass(item.daysToExpiry)\n    var g1 = item.price ? (item.quantity * item.price).toFixed(2) : null\n    return {\n      $orig: $orig,\n      m1: m1,\n      g1: g1,\n    }\n  })\n  var g2 = _vm.totalAmount > 0 ? _vm.totalAmount.toFixed(2) : null\n  var m2 = _vm.getOperatorRoleText()\n  var m3 = _vm.getOperatorRoleText()\n  var m4 = _vm.formatTime(_vm.record.operatorSignTime || _vm.record.createTime)\n  var m5 = _vm.reviewerSign\n    ? _vm.getRoleText(_vm.userInfo && _vm.userInfo.role)\n    : null\n  var m6 = _vm.reviewerSign ? _vm.getCurrentTime() : null\n  var g3 = _vm.showRejectReason ? _vm.rejectReason.length : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        g0: g0,\n        l0: l0,\n        g2: g2,\n        m2: m2,\n        m3: m3,\n        m4: m4,\n        m5: m5,\n        m6: m6,\n        g3: g3,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./review.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./review.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"page\">\n\t\t<!-- é¡µé¢å¤´éƒ¨ -->\n\t\t<view class=\"page-header\">\n\t\t\t<view class=\"header-content\">\n\t\t\t\t<text class=\"header-title\">å…¥åº“å•å¤æ ¸</text>\n\t\t\t\t<text class=\"header-subtitle\">{{ currentDate }}</text>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- åŸºæœ¬ä¿¡æ¯å¡ç‰‡ -->\n\t\t<view class=\"info-card\">\n\t\t\t<view class=\"info-row\">\n\t\t\t\t<view class=\"info-item\">\n\t\t\t\t\t<text class=\"label\">å•å·</text>\n\t\t\t\t\t<text class=\"value\">{{ record.recordNo }}</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"info-item\">\n\t\t\t\t\t<text class=\"label\">çŠ¶æ€</text>\n\t\t\t\t\t<view :class=\"['status-badge', record.status]\">\n\t\t\t\t\t\t{{ getStatusText(record.status) }}\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"info-row\">\n\t\t\t\t<view class=\"info-item\">\n\t\t\t\t\t<text class=\"label\">æ“ä½œäºº</text>\n\t\t\t\t\t<text class=\"value\">{{ record.operator }}</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"info-item\">\n\t\t\t\t\t<text class=\"label\">åˆ›å»ºæ—¶é—´</text>\n\t\t\t\t\t<text class=\"value\">{{ record.createTime }}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"info-row\" v-if=\"record.supplier\">\n\t\t\t\t<view class=\"info-item full\">\n\t\t\t\t\t<text class=\"label\">ä¾›åº”å•†</text>\n\t\t\t\t\t<text class=\"value\">{{ record.supplier }}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- è¯ææ˜ç»† -->\n\t\t<view class=\"drug-section\">\n\t\t\t<view class=\"section-title\">\n\t\t\t\t<text class=\"title-text\">ğŸ“¦ è¯ææ˜ç»†</text>\n\t\t\t\t<text class=\"title-count\">å…± {{ record.items ? record.items.length : 0 }} ç§</text>\n\t\t\t</view>\n\n\t\t\t<view \n\t\t\t\tv-for=\"(item, index) in record.items\" \n\t\t\t\t:key=\"index\"\n\t\t\t\tclass=\"drug-card\"\n\t\t\t>\n\t\t\t\t<view class=\"drug-header\">\n\t\t\t\t\t<view class=\"drug-name\">{{ item.drugName }}</view>\n\t\t\t\t\t<view class=\"drug-index\">{{ index + 1 }}</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"drug-spec\">{{ item.specification }}</view>\n\t\t\t\t\n\t\t\t\t<view class=\"drug-details\">\n\t\t\t\t\t<view class=\"detail-row\">\n\t\t\t\t\t\t<text class=\"detail-label\">æ‰¹å·ï¼š</text>\n\t\t\t\t\t\t<text class=\"detail-value\">{{ item.batch }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"detail-row\">\n\t\t\t\t\t\t<text class=\"detail-label\">ç”Ÿäº§æ—¥æœŸï¼š</text>\n\t\t\t\t\t\t<text class=\"detail-value\">{{ item.productionDate }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"detail-row\">\n\t\t\t\t\t\t<text class=\"detail-label\">æœ‰æ•ˆæœŸï¼š</text>\n\t\t\t\t\t\t<text :class=\"['detail-value', getExpiryClass(item.daysToExpiry)]\">\n\t\t\t\t\t\t\t{{ item.expireDate }}\n\t\t\t\t\t\t\t<text v-if=\"item.daysToExpiry !== null\">({{ item.daysToExpiry }}å¤©)</text>\n\t\t\t\t\t\t</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"detail-row\">\n\t\t\t\t\t\t<text class=\"detail-label\">æ•°é‡ï¼š</text>\n\t\t\t\t\t\t<text class=\"detail-value highlight\">{{ item.quantity }} {{ item.unit }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"detail-row\" v-if=\"item.price\">\n\t\t\t\t\t\t<text class=\"detail-label\">å•ä»·ï¼š</text>\n\t\t\t\t\t\t<text class=\"detail-value\">Â¥{{ item.price }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"detail-row\" v-if=\"item.price\">\n\t\t\t\t\t\t<text class=\"detail-label\">é‡‘é¢ï¼š</text>\n\t\t\t\t\t\t<text class=\"detail-value amount\">Â¥{{ (item.quantity * item.price).toFixed(2) }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- ç»Ÿè®¡æ±‡æ€» -->\n\t\t<view class=\"summary-card\">\n\t\t\t<view class=\"summary-item\">\n\t\t\t\t<text class=\"summary-label\">å“ç§</text>\n\t\t\t\t<text class=\"summary-value\">{{ totalDrugs }} ç§</text>\n\t\t\t</view>\n\t\t\t<view class=\"summary-item\">\n\t\t\t\t<text class=\"summary-label\">æ€»æ•°é‡</text>\n\t\t\t\t<text class=\"summary-value\">{{ totalQuantity }}</text>\n\t\t\t</view>\n\t\t\t<view v-if=\"totalAmount > 0\" class=\"summary-item highlight\">\n\t\t\t\t<text class=\"summary-label\">æ€»é‡‘é¢</text>\n\t\t\t\t<text class=\"summary-value\">Â¥{{ totalAmount.toFixed(2) }}</text>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- åŒç­¾ååŒºåŸŸï¼ˆåˆå¹¶ï¼‰ -->\n\t\t<view class=\"dual-signature-section\">\n\t\t\t<view class=\"section-title\">\n\t\t\t\t<text class=\"title-text\">âœï¸ åŒç­¾åç¡®è®¤</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- æ“ä½œå‘˜ç­¾åï¼ˆå·²ç­¾ï¼‰ -->\n\t\t\t<view class=\"signature-card operator-card\">\n\t\t\t\t<view class=\"signature-header\">\n\t\t\t\t\t<view class=\"header-left\">\n\t\t\t\t\t\t<text class=\"signature-icon\">âœï¸</text>\n\t\t\t\t\t\t<text class=\"signature-label\">{{ getOperatorRoleText() }}ç­¾å</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"signature-status completed\">å·²ç­¾å</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"signature-display-box\">\n\t\t\t\t\t<image \n\t\t\t\t\t\tv-if=\"record.operatorSign\" \n\t\t\t\t\t\t:src=\"record.operatorSign\" \n\t\t\t\t\t\tmode=\"aspectFit\"\n\t\t\t\t\t\tclass=\"signature-img\"\n\t\t\t\t\t></image>\n\t\t\t\t\t<view v-else class=\"no-signature\">\n\t\t\t\t\t\t<text class=\"no-sig-icon\">âœï¸</text>\n\t\t\t\t\t\t<text class=\"no-sig-text\">æš‚æ— ç­¾å</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t<view class=\"signature-footer\">\n\t\t\t\t<view class=\"footer-item\">\n\t\t\t\t\t<text class=\"footer-label\">ç­¾åäºº</text>\n\t\t\t\t\t<text class=\"footer-value\">{{ record.operator }}ï¼ˆ{{ getOperatorRoleText() }}ï¼‰</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"footer-divider\"></view>\n\t\t\t\t<view class=\"footer-item\">\n\t\t\t\t\t<text class=\"footer-label\">ç­¾åæ—¶é—´</text>\n\t\t\t\t\t<text class=\"footer-value\">{{ formatTime(record.operatorSignTime || record.createTime) }}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- å¤æ ¸äººç­¾å -->\n\t\t\t<view class=\"signature-card reviewer-card\">\n\t\t\t\t<view class=\"signature-header\">\n\t\t\t\t\t<view class=\"header-left\">\n\t\t\t\t\t\t<text class=\"signature-icon\">âœ“</text>\n\t\t\t\t\t\t<text class=\"signature-label\">å¤æ ¸äººç­¾å</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view :class=\"['signature-status', reviewerSign ? 'completed' : 'pending']\">\n\t\t\t\t\t\t{{ reviewerSign ? 'å·²ç­¾å' : 'å¾…ç­¾å' }}\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"signature-display-box\">\n\t\t\t\t\t<signature \n\t\t\t\t\t\tv-model=\"reviewerSign\"\n\t\t\t\t\t\ttitle=\"\"\n\t\t\t\t\t\t:showTitle=\"false\"\n\t\t\t\t\t></signature>\n\t\t\t\t</view>\n\t\t\t<view v-if=\"reviewerSign\" class=\"signature-footer\">\n\t\t\t\t<view class=\"footer-item\">\n\t\t\t\t\t<text class=\"footer-label\">ç­¾åäºº</text>\n\t\t\t\t\t<text class=\"footer-value\">{{ (userInfo && userInfo.name) || 'æœªç™»å½•' }}ï¼ˆ{{ getRoleText(userInfo && userInfo.role) }}ï¼‰</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"footer-divider\"></view>\n\t\t\t\t<view class=\"footer-item\">\n\t\t\t\t\t<text class=\"footer-label\">ç­¾åæ—¶é—´</text>\n\t\t\t\t\t<text class=\"footer-value\">{{ getCurrentTime() }}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t</view>\n\n\t\t<!-- é©³å›åŸå› ï¼ˆå¦‚æœéœ€è¦é©³å›ï¼‰ -->\n\t\t<view v-if=\"showRejectReason\" class=\"reject-section\">\n\t\t\t<view class=\"section-title\">\n\t\t\t\t<text class=\"title-text\">ğŸ“ é©³å›åŸå› </text>\n\t\t\t\t<text class=\"required\">*</text>\n\t\t\t</view>\n\t\t\t<textarea \n\t\t\t\tclass=\"reject-textarea\"\n\t\t\t\tv-model=\"rejectReason\"\n\t\t\t\tplaceholder=\"è¯·è¾“å…¥é©³å›åŸå› \"\n\t\t\t\tmaxlength=\"200\"\n\t\t\t></textarea>\n\t\t\t<view class=\"char-count\">{{ rejectReason.length }}/200</view>\n\t\t</view>\n\n\t\t<!-- åº•éƒ¨æ“ä½œæ  -->\n\t\t<view class=\"action-bar\">\n\t\t\t<!-- é»˜è®¤çŠ¶æ€ï¼šé©³å› + é€šè¿‡ -->\n\t\t\t<template v-if=\"!showRejectReason\">\n\t\t\t\t<view class=\"action-btn btn-reject\" @tap=\"handleReject\">\n\t\t\t\t\t<text class=\"btn-text\">é©³å›</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"action-btn btn-approve\" @tap=\"handleApprove\">\n\t\t\t\t\t<text class=\"btn-text\">é€šè¿‡å¹¶å…¥åº“</text>\n\t\t\t\t</view>\n\t\t\t</template>\n\t\t\t\n\t\t\t<!-- é©³å›çŠ¶æ€ï¼šå–æ¶ˆ + ç¡®è®¤é©³å› -->\n\t\t\t<template v-else>\n\t\t\t\t<view class=\"action-btn btn-cancel\" @tap=\"cancelReject\">\n\t\t\t\t\t<text class=\"btn-text\">å–æ¶ˆ</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"action-btn btn-confirm-reject\" @tap=\"confirmReject\">\n\t\t\t\t\t<text class=\"btn-text\">ç¡®è®¤é©³å›</text>\n\t\t\t\t</view>\n\t\t\t</template>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nimport Signature from '@/components/signature/index.vue'\nimport Common from '@/utils/common.js'\n\nexport default {\n\tcomponents: {\n\t\tSignature\n\t},\n\t\n\tdata() {\n\t\treturn {\n\t\t\trecordId: '',\n\t\t\tcurrentDate: '',\n\t\t\trecord: {\n\t\t\t\trecordNo: '',\n\t\t\t\toperator: '',\n\t\t\t\toperatorId: '',\n\t\t\t\toperatorSign: '',\n\t\t\t\toperatorSignTime: '',\n\t\t\t\tsupplier: '',\n\t\t\t\tcreateTime: '',\n\t\t\t\tstatus: 'pending_review',\n\t\t\t\titems: []\n\t\t\t},\n\t\t\treviewerSign: '',\n\t\t\tshowRejectReason: false,\n\t\t\trejectReason: '',\n\t\t\tuserInfo: null\n\t\t}\n\t},\n\t\n\tcomputed: {\n\t\ttotalDrugs() {\n\t\t\treturn this.record.items ? this.record.items.length : 0\n\t\t},\n\t\t\n\t\ttotalQuantity() {\n\t\t\tif (!this.record.items) return 0\n\t\t\treturn this.record.items.reduce((sum, item) => sum + Number(item.quantity || 0), 0)\n\t\t},\n\t\t\n\t\ttotalAmount() {\n\t\t\tif (!this.record.items) return 0\n\t\t\treturn this.record.items.reduce((sum, item) => {\n\t\t\t\treturn sum + (Number(item.quantity || 0) * Number(item.price || 0))\n\t\t\t}, 0)\n\t\t}\n\t},\n\t\n\tonLoad(options) {\n\t\tif (options.id) {\n\t\t\tthis.recordId = options.id\n\t\t}\n\t\tthis.userInfo = uni.getStorageSync('userInfo') || null\n\t\tthis.initPage()\n\t},\n\t\n\tmethods: {\n\t\tinitPage() {\n\t\t\tconst now = new Date()\n\t\t\tthis.currentDate = Common.formatDate(now)\n\t\t\t\n\t\t\tif (this.recordId) {\n\t\t\t\tthis.loadRecord()\n\t\t\t}\n\t\t},\n\t\t\n\t\tasync loadRecord() {\n\t\t\tuni.showLoading({ title: 'åŠ è½½ä¸­...', mask: true })\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst result = await this.$api.callFunction('inRecords', {\n\t\t\t\t\taction: 'getDetail',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t_id: this.recordId\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tuni.hideLoading()\n\t\t\t\t\n\t\t\t\t// å…¼å®¹ä¸åŒçš„è¿”å›æ ¼å¼\n\t\t\t\tconst data = result.data || result\n\t\t\t\t\n\t\t\t\tif (data && data._id) {\n\t\t\t\t\tthis.record = data\n\t\t\t\t\t\n\t\t\t\t\t// è®¡ç®—æ•ˆæœŸ\n\t\t\t\t\tthis.record.items.forEach(item => {\n\t\t\t\t\t\tif (item.expireDate) {\n\t\t\t\t\t\t\tconst expireDate = new Date(item.expireDate)\n\t\t\t\t\t\t\tconst today = new Date()\n\t\t\t\t\t\t\tconst diffTime = expireDate - today\n\t\t\t\t\t\t\titem.daysToExpiry = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error('åŠ è½½å¤±è´¥')\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tuni.hideLoading()\n\t\t\t\tconsole.error('åŠ è½½å¤±è´¥:', err)\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'åŠ è½½å¤±è´¥',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tuni.navigateBack()\n\t\t\t\t}, 1500)\n\t\t\t}\n\t\t},\n\t\t\n\t\tgetStatusText(status) {\n\t\t\tconst statusMap = {\n\t\t\t\t'draft': 'è‰ç¨¿',\n\t\t\t\t'pending_review': 'å¾…å¤æ ¸',\n\t\t\t\t'completed': 'å·²å®Œæˆ',\n\t\t\t\t'rejected': 'å·²é©³å›'\n\t\t\t}\n\t\t\treturn statusMap[status] || status\n\t\t},\n\t\t\n\t\tgetExpiryClass(days) {\n\t\t\tif (days === null || days === undefined) return ''\n\t\t\tif (days < 0) return 'expired'\n\t\t\tif (days <= 30) return 'expiring-soon'\n\t\t\tif (days <= 90) return 'expiring'\n\t\t\treturn 'normal'\n\t\t},\n\t\t\n\t\thandleReject() {\n\t\t\t// æ˜¾ç¤ºé©³å›åŸå› è¾“å…¥æ¡†\n\t\t\tthis.showRejectReason = true\n\t\t\t// æ»šåŠ¨åˆ°åº•éƒ¨\n\t\t\tsetTimeout(() => {\n\t\t\t\tuni.pageScrollTo({\n\t\t\t\t\tscrollTop: 9999,\n\t\t\t\t\tduration: 300\n\t\t\t\t})\n\t\t\t}, 100)\n\t\t},\n\t\t\n\t\t// å–æ¶ˆé©³å›\n\t\tcancelReject() {\n\t\t\tthis.showRejectReason = false\n\t\t\tthis.rejectReason = ''\n\t\t},\n\t\t\n\t\t// ç¡®è®¤é©³å›\n\t\tasync confirmReject() {\n\t\t\t// æ£€æŸ¥é©³å›åŸå› \n\t\t\tif (!this.rejectReason.trim()) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'è¯·è¾“å…¥é©³å›åŸå› ',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\t\n\t\t\tuni.showModal({\n\t\t\t\ttitle: 'ç¡®è®¤é©³å›',\n\t\t\t\tcontent: `ç¡®å®šè¦é©³å›è¿™ä¸ªå…¥åº“å•å—ï¼Ÿ\\né©³å›åŸå› ï¼š${this.rejectReason}`,\n\t\t\t\tsuccess: async (res) => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tawait this.submitReview('reject')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\tasync handleApprove() {\n\t\t\t// éªŒè¯ç­¾å\n\t\t\tif (!this.reviewerSign) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'è¯·å…ˆç­¾å',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\t\n\t\t\tuni.showModal({\n\t\t\t\ttitle: 'ç¡®è®¤é€šè¿‡',\n\t\t\t\tcontent: 'ç¡®è®¤é€šè¿‡å¹¶å…¥åº“å—ï¼Ÿå…¥åº“åå°†æ›´æ–°åº“å­˜ã€‚',\n\t\t\t\tsuccess: async (res) => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tawait this.submitReview('approve')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\t// è·å–æ“ä½œå‘˜è§’è‰²æ–‡æœ¬ï¼ˆæ ¹æ®æ“ä½œå‘˜å§“åä»ç”¨æˆ·åˆ—è¡¨ä¸­æŸ¥æ‰¾ï¼‰\n\t\tgetOperatorRoleText() {\n\t\t\t// å¦‚æœæœ‰operatorRoleå­—æ®µï¼Œç›´æ¥ä½¿ç”¨\n\t\t\tif (this.record.operatorRole) {\n\t\t\t\treturn this.getRoleText(this.record.operatorRole)\n\t\t\t}\n\t\t\t// å¦åˆ™é»˜è®¤æ˜¾ç¤º\"æ“ä½œå‘˜\"\n\t\t\treturn 'æ“ä½œå‘˜'\n\t\t},\n\t\t\n\t\t// è·å–è§’è‰²æ–‡æœ¬\n\t\tgetRoleText(role) {\n\t\t\tconst roleMap = {\n\t\t\t\t'admin': 'ç®¡ç†å‘˜',\n\t\t\t\t'project_manager': 'é¡¹ç›®ç»ç†',\n\t\t\t\t'doctor': 'åŒ»ç”Ÿ',\n\t\t\t\t'pharmacy': 'è¯å¸ˆ',\n\t\t\t\t'viewer': 'æŸ¥çœ‹è€…'\n\t\t\t}\n\t\t\treturn roleMap[role] || 'æ“ä½œå‘˜'\n\t\t},\n\t\t\n\t\t// æ ¼å¼åŒ–æ—¶é—´\n\t\tformatTime(timeStr) {\n\t\t\tif (!timeStr) return '--'\n\t\t\tconst date = new Date(timeStr)\n\t\t\tconst month = String(date.getMonth() + 1).padStart(2, '0')\n\t\t\tconst day = String(date.getDate()).padStart(2, '0')\n\t\t\tconst hours = String(date.getHours()).padStart(2, '0')\n\t\t\tconst minutes = String(date.getMinutes()).padStart(2, '0')\n\t\t\treturn `${month}-${day} ${hours}:${minutes}`\n\t\t},\n\t\t\n\t\t// è·å–å½“å‰æ—¶é—´\n\t\tgetCurrentTime() {\n\t\t\treturn this.formatTime(new Date().toISOString())\n\t\t},\n\t\t\n\t\tasync submitReview(action) {\n\t\t\t// å¦‚æœæ˜¯é©³å›ï¼Œæ£€æŸ¥é©³å›åŸå› \n\t\t\tif (action === 'reject' && !this.rejectReason.trim()) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'è¯·è¾“å…¥é©³å›åŸå› ',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\t\n\t\t\tuni.showLoading({ title: 'æäº¤ä¸­...', mask: true })\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst cachedUser = this.userInfo || uni.getStorageSync('userInfo') || null\n\t\t\t\tif (cachedUser && !this.userInfo) {\n\t\t\t\t\tthis.userInfo = cachedUser\n\t\t\t\t}\n\t\t\t\tconst reviewerId = cachedUser && (cachedUser.userId || cachedUser._id || '')\n\t\t\t\tconst reviewerName = cachedUser && cachedUser.name ? cachedUser.name : ''\n\t\t\t\t\n\t\t\t\t// ç™»å½•æ ¡éªŒï¼ˆé¿å…äº‘å‡½æ•°å›  reviewerId ä¸ºç©ºè€Œæç¤ºâ€œå…ˆç™»å½•â€ï¼‰\n\t\t\t\tif (!cachedUser || !reviewerName || !reviewerId) {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: 'è¯·å…ˆç™»å½•',\n\t\t\t\t\t\tcontent: 'å¤æ ¸æäº¤éœ€è¦ç™»å½•è´¦å·ï¼Œè¯·å‰å¾€â€œæˆ‘çš„â€å®Œæˆç™»å½•åå†è¯•ã€‚',\n\t\t\t\t\t\tconfirmText: 'å‰å¾€ç™»å½•',\n\t\t\t\t\t\tcancelText: 'å–æ¶ˆ',\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\tuni.switchTab({ url: '/pages/mine/index' })\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconst result = await this.$api.callFunction('inRecords', {\n\t\t\t\t\taction: action === 'approve' ? 'approve' : 'reject',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t_id: this.recordId,\n\t\t\t\t\t\treviewer: reviewerName,\n\t\t\t\t\t\treviewerId: reviewerId,\n\t\t\t\t\t\treviewerSign: this.reviewerSign,\n\t\t\t\t\t\treviewerSignTime: new Date().toISOString(),\n\t\t\t\t\t\trejectReason: action === 'reject' ? this.rejectReason : ''\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tuni.hideLoading()\n\t\t\t\t\n\t\t\t\tif (result && result.success) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: action === 'approve' ? 'å·²é€šè¿‡å¹¶å…¥åº“' : 'å·²é©³å›',\n\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tuni.navigateBack()\n\t\t\t\t\t}, 1500)\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(result.message || 'æäº¤å¤±è´¥')\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tuni.hideLoading()\n\t\t\t\tconsole.error('æäº¤å¤±è´¥:', err)\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: err.message || 'æäº¤å¤±è´¥',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.page {\n\tmin-height: 100vh;\n\tbackground: #f8f8f8;\n\tpadding-bottom: 120rpx;\n}\n\n// é¡µé¢å¤´éƒ¨\n.page-header {\n\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\tpadding: 40rpx 30rpx;\n\t\n\t.header-content {\n\t\t.header-title {\n\t\t\tdisplay: block;\n\t\t\tfont-size: 40rpx;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: white;\n\t\t\tmargin-bottom: 10rpx;\n\t\t}\n\t\t\n\t\t.header-subtitle {\n\t\t\tdisplay: block;\n\t\t\tfont-size: 26rpx;\n\t\t\tcolor: rgba(255, 255, 255, 0.9);\n\t\t}\n\t}\n}\n\n// ä¿¡æ¯å¡ç‰‡\n.info-card {\n\tbackground: white;\n\tmargin: 20rpx 30rpx;\n\tpadding: 30rpx;\n\tborder-radius: 16rpx;\n\tbox-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.04);\n\t\n\t.info-row {\n\t\tdisplay: flex;\n\t\tmargin-bottom: 20rpx;\n\t\t\n\t\t&:last-child {\n\t\t\tmargin-bottom: 0;\n\t\t}\n\t\t\n\t\t.info-item {\n\t\t\tflex: 1;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tgap: 10rpx;\n\t\t\t\n\t\t\t&.full {\n\t\t\t\tflex: 1 1 100%;\n\t\t\t}\n\t\t\t\n\t\t\t.label {\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: #969799;\n\t\t\t}\n\t\t\t\n\t\t\t.value {\n\t\t\t\tfont-size: 28rpx;\n\t\t\t\tcolor: #323233;\n\t\t\t\tfont-weight: 500;\n\t\t\t}\n\t\t\t\n\t\t\t.status-badge {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tpadding: 8rpx 20rpx;\n\t\t\t\tborder-radius: 20rpx;\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tfont-weight: 500;\n\t\t\t\t\n\t\t\t\t&.pending_review {\n\t\t\t\t\tbackground: #fff3e0;\n\t\t\t\t\tcolor: #ff9800;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t&.completed {\n\t\t\t\t\tbackground: #e8f5e9;\n\t\t\t\t\tcolor: #4caf50;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t&.rejected {\n\t\t\t\t\tbackground: #ffebee;\n\t\t\t\t\tcolor: #f44336;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n// è¯ææ˜ç»†\n.drug-section {\n\tpadding: 0 30rpx;\n\t\n\t.section-title {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tmargin-bottom: 20rpx;\n\t\t\n\t\t.title-text {\n\t\t\tfont-size: 32rpx;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #323233;\n\t\t}\n\t\t\n\t\t.title-count {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #969799;\n\t\t}\n\t}\n}\n\n.drug-card {\n\tbackground: white;\n\tpadding: 30rpx;\n\tborder-radius: 16rpx;\n\tmargin-bottom: 20rpx;\n\tbox-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.04);\n\t\n\t.drug-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tmargin-bottom: 15rpx;\n\t\t\n\t\t.drug-name {\n\t\t\tfont-size: 32rpx;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #323233;\n\t\t}\n\t\t\n\t\t.drug-index {\n\t\t\twidth: 48rpx;\n\t\t\theight: 48rpx;\n\t\t\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\t\t\tcolor: white;\n\t\t\tborder-radius: 50%;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tfont-size: 24rpx;\n\t\t\tfont-weight: bold;\n\t\t}\n\t}\n\t\n\t.drug-spec {\n\t\tfont-size: 26rpx;\n\t\tcolor: #969799;\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t.drug-details {\n\t\t.detail-row {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tmargin-bottom: 12rpx;\n\t\t\t\n\t\t\t&:last-child {\n\t\t\t\tmargin-bottom: 0;\n\t\t\t}\n\t\t\t\n\t\t\t.detail-label {\n\t\t\t\tfont-size: 26rpx;\n\t\t\t\tcolor: #646566;\n\t\t\t\twidth: 150rpx;\n\t\t\t}\n\t\t\t\n\t\t\t.detail-value {\n\t\t\t\tflex: 1;\n\t\t\t\tfont-size: 26rpx;\n\t\t\t\tcolor: #323233;\n\t\t\t\t\n\t\t\t\t&.highlight {\n\t\t\t\t\tfont-size: 30rpx;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tcolor: #667eea;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t&.amount {\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tcolor: #667eea;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t&.normal {\n\t\t\t\t\tcolor: #323233;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t&.expiring {\n\t\t\t\t\tcolor: #ff9800;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t&.expiring-soon {\n\t\t\t\t\tcolor: #ff5722;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t&.expired {\n\t\t\t\t\tcolor: #f44336;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n// åŒç­¾ååŒºåŸŸï¼ˆé‡æ–°è®¾è®¡ï¼‰\n.dual-signature-section {\n\tpadding: 0 30rpx;\n\tmargin-top: 30rpx;\n\t\n\t.section-title {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 10rpx;\n\t\tmargin-bottom: 25rpx;\n\t\t\n\t\t.title-text {\n\t\t\tfont-size: 32rpx;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #323233;\n\t\t}\n\t}\n\t\n\t.signature-card {\n\t\tbackground: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);\n\t\tborder-radius: 20rpx;\n\t\tpadding: 30rpx;\n\t\tmargin-bottom: 25rpx;\n\t\tbox-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.06);\n\t\tborder: 2rpx solid #f0f0f0;\n\t\tposition: relative;\n\t\toverflow: hidden;\n\t\t\n\t\t// è£…é¥°æ€§èƒŒæ™¯\n\t\t&::before {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\ttop: -50rpx;\n\t\t\tright: -50rpx;\n\t\t\twidth: 150rpx;\n\t\t\theight: 150rpx;\n\t\t\tbackground: radial-gradient(circle, rgba(102, 126, 234, 0.05) 0%, transparent 70%);\n\t\t\tborder-radius: 50%;\n\t\t}\n\t\t\n\t\t// æ“ä½œå‘˜å¡ç‰‡ä¸»é¢˜è‰²\n\t\t&.operator-card {\n\t\t\tborder-left: 4rpx solid #667eea;\n\t\t}\n\t\t\n\t\t// å¤æ ¸äººå¡ç‰‡ä¸»é¢˜è‰²\n\t&.reviewer-card {\n\t\tborder-left: 4rpx solid #4caf50;\n\t\t\n\t\t// è¦†ç›– signature ç»„ä»¶çš„æ ·å¼ï¼Œè®©å®ƒåœ¨å¤æ ¸é¡µé¢ä¸­æ›´å¤§\n\t\t::v-deep .signature-container {\n\t\t\theight: 160rpx !important;\n\t\t}\n\t\t\n\t\t::v-deep .placeholder-icon {\n\t\t\tfont-size: 40rpx !important;\n\t\t}\n\t\t\n\t\t::v-deep .placeholder-text {\n\t\t\tfont-size: 28rpx !important;\n\t\t}\n\t\t\n\t\t::v-deep .signature-preview {\n\t\t\theight: 160rpx !important;\n\t\t}\n\t}\n\t\t\n\t\t.signature-header {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\t\t\tmargin-bottom: 25rpx;\n\t\t\tposition: relative;\n\t\t\tz-index: 1;\n\t\t\t\n\t\t\t.header-left {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tgap: 12rpx;\n\t\t\t\t\n\t\t\t.signature-icon {\n\t\t\t\twidth: 56rpx;\n\t\t\t\theight: 56rpx;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tfont-size: 30rpx;\n\t\t\t\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\t\t\t\tcolor: white;\n\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\tbox-shadow: 0 4rpx 12rpx rgba(102, 126, 234, 0.3);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t.signature-label {\n\t\t\t\tfont-size: 36rpx;\n\t\t\t\tfont-weight: bold;\n\t\t\t\tcolor: #323233;\n\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t.signature-status {\n\t\t\tpadding: 10rpx 28rpx;\n\t\t\tborder-radius: 32rpx;\n\t\t\tfont-size: 30rpx;\n\t\t\tfont-weight: 600;\n\t\t\t\t\n\t\t\t\t&.completed {\n\t\t\t\t\tbackground: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);\n\t\t\t\t\tcolor: #2e7d32;\n\t\t\t\t\tbox-shadow: 0 2rpx 8rpx rgba(76, 175, 80, 0.2);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t&.pending {\n\t\t\t\t\tbackground: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);\n\t\t\t\t\tcolor: #e65100;\n\t\t\t\t\tbox-shadow: 0 2rpx 8rpx rgba(255, 152, 0, 0.2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t// ç­¾åæ˜¾ç¤ºåŒºåŸŸï¼ˆç»Ÿä¸€é«˜åº¦å’Œæ ·å¼ï¼‰\n\t.signature-display-box {\n\t\theight: 160rpx;\n\t\tbackground: #ffffff;\n\t\tborder-radius: 16rpx;\n\t\tpadding: 0;\n\t\tmargin-bottom: 20rpx;\n\t\tborder: 2rpx solid #e8e8e8;\n\t\tposition: relative;\n\t\tz-index: 1;\n\t\toverflow: hidden;\n\t\t\n\t\t.signature-img {\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tobject-fit: contain;\n\t\t\tpadding: 10rpx;\n\t\t}\n\t\t\n\t\t.no-signature {\n\t\t\theight: 100%;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tgap: 15rpx;\n\t\t\t\n\t\t\t.no-sig-icon {\n\t\t\t\tfont-size: 60rpx;\n\t\t\t\topacity: 0.3;\n\t\t\t}\n\t\t\t\n\t\t\t.no-sig-text {\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: #c8c9cc;\n\t\t\t}\n\t\t}\n\t}\n\t\t\n\t\t// ç­¾åä¿¡æ¯åº•éƒ¨\n\t\t.signature-footer {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tbackground: rgba(102, 126, 234, 0.04);\n\t\t\tborder-radius: 12rpx;\n\t\t\tpadding: 20rpx;\n\t\t\tposition: relative;\n\t\t\tz-index: 1;\n\t\t\t\n\t\t\t.footer-item {\n\t\t\t\tflex: 1;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tgap: 8rpx;\n\t\t\t\t\n\t\t\t\t.footer-label {\n\t\t\t\t\tfont-size: 22rpx;\n\t\t\t\t\tcolor: #969799;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.footer-value {\n\t\t\t\t\tfont-size: 26rpx;\n\t\t\t\t\tcolor: #323233;\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.footer-divider {\n\t\t\t\twidth: 2rpx;\n\t\t\t\theight: 40rpx;\n\t\t\t\tbackground: #e0e0e0;\n\t\t\t\tmargin: 0 20rpx;\n\t\t\t}\n\t\t}\n\t}\n}\n\n// ç»Ÿè®¡æ±‡æ€»\n.summary-card {\n\tbackground: white;\n\tmargin: 30rpx 30rpx 0;\n\tpadding: 30rpx;\n\tborder-radius: 16rpx;\n\tbox-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.04);\n\tdisplay: flex;\n\tjustify-content: space-around;\n\t\n\t.summary-item {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tgap: 10rpx;\n\t\t\n\t\t&.highlight {\n\t\t\t.summary-value {\n\t\t\t\tcolor: #667eea;\n\t\t\t}\n\t\t}\n\t\t\n\t\t.summary-label {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #969799;\n\t\t}\n\t\t\n\t\t.summary-value {\n\t\t\tfont-size: 32rpx;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #323233;\n\t\t}\n\t}\n}\n\n// é©³å›åŸå› \n.reject-section {\n\tpadding: 0 30rpx;\n\tmargin-top: 30rpx;\n\t\n\t.section-title {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 10rpx;\n\t\tmargin-bottom: 20rpx;\n\t\t\n\t\t.title-text {\n\t\t\tfont-size: 32rpx;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #323233;\n\t\t}\n\t\t\n\t\t.required {\n\t\t\tcolor: #ee0a24;\n\t\t\tfont-size: 28rpx;\n\t\t}\n\t}\n\t\n\t.reject-textarea {\n\t\twidth: 100%;\n\t\tbackground: white;\n\t\tborder-radius: 16rpx;\n\t\tpadding: 30rpx;\n\t\tmin-height: 200rpx;\n\t\tfont-size: 28rpx;\n\t\tcolor: #323233;\n\t\tbox-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.04);\n\t}\n\t\n\t.char-count {\n\t\ttext-align: right;\n\t\tfont-size: 24rpx;\n\t\tcolor: #969799;\n\t\tmargin-top: 10rpx;\n\t}\n}\n\n// åº•éƒ¨æ“ä½œæ \n.action-bar {\n\tposition: fixed;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tdisplay: flex;\n\tgap: 20rpx;\n\tpadding: 20rpx 30rpx;\n\tbackground: white;\n\tbox-shadow: 0 -2rpx 12rpx rgba(0, 0, 0, 0.08);\n\tz-index: 100;\n\t\n\t.action-btn {\n\t\tflex: 1;\n\t\theight: 88rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tborder-radius: 44rpx;\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\ttransition: all 0.3s;\n\t\t/* ç»Ÿä¸€èƒ¶å›ŠæŒ‰é’®ï¼šé’è“æ¸å˜èƒŒæ™¯ + ç™½è‰²æ–‡å­— */\n\t\tbackground: linear-gradient(135deg, #00c9ff 0%, #00a0ff 100%);\n\t\tcolor: #ffffff;\n\t\tbox-shadow: 0 6rpx 16rpx rgba(0, 160, 255, 0.25);\n\t\t\n\t\t&.btn-reject {\n\t\t\t&:active {\n\t\t\t\topacity: 0.9;\n\t\t\t}\n\t\t}\n\t\t\n\t\t&.btn-approve {\n\t\t\t&:active {\n\t\t\t\topacity: 0.9;\n\t\t\t}\n\t\t}\n\t\t\n\t\t&.btn-cancel {\n\t\t\t&:active {\n\t\t\t\topacity: 0.9;\n\t\t\t}\n\t\t}\n\t\t\n\t\t&.btn-confirm-reject {\n\t\t\t&:active {\n\t\t\t\topacity: 0.9;\n\t\t\t}\n\t\t}\n\t}\n}\n\n// ç­¾åå¼¹çª—\n.signature-popup {\n\tbackground: white;\n\tborder-radius: 24rpx;\n\toverflow: hidden;\n\t\n\t.popup-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tpadding: 30rpx;\n\t\tborder-bottom: 1rpx solid #ebedf0;\n\t\t\n\t\t.popup-title {\n\t\t\tfont-size: 32rpx;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: #323233;\n\t\t}\n\t\t\n\t\t.popup-close {\n\t\t\tfont-size: 40rpx;\n\t\t\tcolor: #969799;\n\t\t\twidth: 60rpx;\n\t\t\theight: 60rpx;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t}\n\t}\n}\n</style>\n\n","import mod from \"-!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./review.vue?vue&type=style&index=0&id=cf707de8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./review.vue?vue&type=style&index=0&id=cf707de8&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1767406263864\n      var cssReload = require(\"D:/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}