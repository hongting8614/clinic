{"version":3,"sources":["uni-app:///main.js","webpack:///D:/AK-PMS/pages-sub/out/list.vue?0b5e","webpack:///D:/AK-PMS/pages-sub/out/list.vue?24b3","webpack:///D:/AK-PMS/pages-sub/out/list.vue?2143","webpack:///D:/AK-PMS/pages-sub/out/list.vue?7c14","uni-app:///pages-sub/out/list.vue","webpack:///D:/AK-PMS/pages-sub/out/list.vue?8e9e","webpack:///D:/AK-PMS/pages-sub/out/list.vue?45c2"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","currentTab","tabs","label","value","count","currentLocation","locationFilters","recordList","page","pageSize","hasMore","currentUserId","onLoad","onShow","onPullDownRefresh","setTimeout","uni","methods","initPage","goTransfer","url","switchTab","switchLocation","getTabName","loadRecords","title","action","status","location","result","newData","console","icon","loadCounts","tab","refreshList","loadMore","getStatusText","draft","pending_review","completed","rejected","canReview","canEdit","item","goDetail","goReview","goEdit","goReport","goAdd","goParkStock","getMockData","_id","recordNo","locationName","dispenser","dispenserId","createTime","remark","items","drugName","spec","quantity","receiver","receiverId","completeTime","rejectReason","filtered"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACwD;AACL;AACsC;;;AAGzF;AAC0K;AAC1K,gBAAgB,uLAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClCA;AAAA;AAAA;AAAA;AAAooB,CAAgB,gqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACsHxpB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAC;IACA;MACAC;MACAC,OACA;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;QAAAC;MAAA,EACA;MACAC;MACAC,kBACA;QAAAJ;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,EACA;MACAI;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;IACA;IACA;MACA;IACA;IACA;EACA;EAEAC;IACA;EACA;EAEAC;IACA;IACAC;MACAC;IACA;EACA;EAEAC;IACAC;MACA;MACA;MAEA;MACA;IACA;IAEAC;MACAH;QACAI;MACA;IACA;IAEAC;MACA;MAEA;MACA;MACA;MACA;MACA;IACA;IAEAC;MACA;MAEA;MACA;MACA;MACA;MACA;IACA;IAEAC;MAAA;MACA;QAAA;MAAA;MACA;IACA;IAEAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAR;kBAAAS;gBAAA;gBAAA;gBAAA;gBAAA,OAGA;kBACAC;kBACA3B;oBACA4B;oBACAC;oBACApB;oBACAC;kBACA;gBACA;cAAA;gBARAoB;gBAAA,KAUAA;kBAAA;kBAAA;gBAAA;gBACAC;gBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA,MAEA;cAAA;gBAGAd;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAe;gBACAf;gBACAA;kBACAS;kBACAO;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEA;kBACAP;kBACA3B;gBACA;cAAA;gBAHA8B;gBAKA;kBACA;kBACA;oBACA;sBACAK;oBACA;sBACAA;oBACA;sBACAA;oBACA;sBACAA;oBACA;sBACAA;oBACA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAH;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEAI;MACA;MACA;MACA;MACA;MACA;IACA;IAEAC;MACA;MACA;MACA;IACA;IAEAC;MACA;QACAC;QACAC;QACAC;QACAC;MACA;MACA;IACA;IAEAC;MACA;MACA;MACA;IACA;IAEAC;MACA,kEACAC;IACA;IAEAC;MACA7B;QACAI;MACA;IACA;IAEA0B;MACA9B;QACAI;MACA;IACA;IAEA2B;MACA/B;QACAI;MACA;IACA;IAEA4B;MACAhC;QACAI;MACA;IACA;IAEA6B;MACAjC;QACAI;MACA;IACA;IAEA8B;MACAlC;QACAI;MACA;IACA;IAEA;IACA+B;MAAA;MACA,gBACA;QACAC;QACAC;QACA1B;QACAC;QACA0B;QACAC;QACAC;QACAC;QACAC;QACAC,QACA;UAAAC;UAAAC;UAAAC;QAAA,GACA;UAAAF;UAAAC;UAAAC;QAAA;MAEA,GACA;QACAV;QACAC;QACA1B;QACAC;QACA0B;QACAC;QACAC;QACAO;QACAC;QACAP;QACAQ;QACAP;QACAC,QACA;UAAAC;UAAAC;UAAAC;QAAA;MAEA,GACA;QACAV;QACAC;QACA1B;QACAC;QACA0B;QACAC;QACAC;QACAC;QACAC;QACAC,QACA;UAAAC;UAAAC;UAAAC;QAAA;MAEA,GACA;QACAV;QACAC;QACA1B;QACAC;QACA0B;QACAC;QACAC;QACAO;QACAC;QACAP;QACAS;QACAR;QACAC,QACA;UAAAC;UAAAC;UAAAC;QAAA;MAEA,EACA;;MAEA;MACA;MAEA;QACAK;UAAA;QAAA;MACA;MAEA;QACAA;UAAA;QAAA;MACA;MAEA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACjaA;AAAA;AAAA;AAAA;AAAmuC,CAAgB,+sCAAG,EAAC,C;;;;;;;;;;;ACAvvC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages-sub/out/list.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages-sub/out/list.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./list.vue?vue&type=template&id=6afba0b6&scoped=true&\"\nvar renderjs\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=6afba0b6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6afba0b6\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages-sub/out/list.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./list.vue?vue&type=template&id=6afba0b6&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.recordList, function (item, __i2__) {\n    var $orig = _vm.__get_orig(item)\n    var m0 = _vm.getStatusText(item.status)\n    var g0 = item.items.length\n    var m1 = item.status === \"rejected\" && _vm.canEdit(item)\n    return {\n      $orig: $orig,\n      m0: m0,\n      g0: g0,\n      m1: m1,\n    }\n  })\n  var g1 = _vm.recordList.length\n  var m2 = g1 === 0 ? _vm.getTabName() : null\n  var g2 = !_vm.hasMore ? _vm.recordList.length : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        g1: g1,\n        m2: m2,\n        g2: g2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./list.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"container\">\n\t\t<!-- È°µÈù¢Â§¥ÈÉ®Ôºö‰∏éÂÖ•Â∫ìÂçïÂàóË°®È£éÊ†º‰∏ÄËá¥ -->\n\t\t<view class=\"page-header\">\n\t\t\t<view class=\"page-header-title\">\n\t\t\t\t<text class=\"page-title\">Âá∫Â∫ìÁÆ°ÁêÜ</text>\n\t\t\t</view>\n\t\t\t<view class=\"page-actions\">\n\t\t\t\t<view class=\"header-btn primary\" @tap=\"goTransfer\">Â∫ìÂ≠òË∞ÉÊã®</view>\n\t\t\t\t<view class=\"header-btn primary\" @tap=\"goAdd\">Êñ∞Âª∫Âá∫Â∫ìÂçï</view>\n\t\t\t\t<view class=\"header-btn primary\" @tap=\"goParkStock\">Âõ≠Âå∫Â∫ìÂ≠òÊòéÁªÜ</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- Áä∂ÊÄÅÁ≠õÈÄâTabÊ†èÔºà‰∏éÂÖ•Â∫ìÂàóË°®Áªü‰∏ÄÊ†∑ÂºèÔºâ -->\n\t\t<view class=\"status-tabs\">\n\t\t\t<view\n\t\t\t\tv-for=\"tab in tabs\"\n\t\t\t\t:key=\"tab.value\"\n\t\t\t\tclass=\"status-tab\"\n\t\t\t\t:class=\"{ active: currentTab === tab.value }\"\n\t\t\t\t@tap=\"switchTab(tab.value)\"\n\t\t\t>\n\t\t\t\t<text class=\"status-name\">{{ tab.label }}</text>\n\t\t\t\t<text class=\"count\" v-if=\"tab.count > 0\">{{ tab.count }}</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- Âõ≠Âå∫Á≠õÈÄâ -->\n\t\t<view class=\"location-filter\">\n\t\t\t<view \n\t\t\t\tv-for=\"loc in locationFilters\" \n\t\t\t\t:key=\"loc.value\"\n\t\t\t\t:class=\"['location-item', { active: currentLocation === loc.value }]\"\n\t\t\t\t@click=\"switchLocation(loc.value)\"\n\t\t\t>\n\t\t\t\t<text>{{ loc.label }}</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- ÂàóË°® -->\n\t\t<view class=\"list-container\">\n\t\t\t<view \n\t\t\t\tv-for=\"item in recordList\" \n\t\t\t\t:key=\"item._id\"\n\t\t\t\tclass=\"record-card\"\n\t\t\t\t@click=\"goDetail(item._id)\"\n\t\t\t>\n\t\t\t\t<!-- ÂçïÂè∑ÂíåÁä∂ÊÄÅ -->\n\t\t\t\t<view class=\"record-header\">\n\t\t\t\t\t<view class=\"record-no\">{{ item.recordNo }}</view>\n\t\t\t\t\t<view :class=\"['record-status', `status-${item.status}`]\">\n\t\t\t\t\t\t{{ getStatusText(item.status) }}\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- Âõ≠Âå∫Ê†áÁ≠æ -->\n\t\t\t\t<view class=\"location-badge\">\n\t\t\t\t\t<text>{{ item.locationName }}</text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- Âü∫Êú¨‰ø°ÊÅØ -->\n\t\t\t\t<view class=\"record-info\">\n\t\t\t\t\t<view class=\"info-item\">\n\t\t\t\t\t\t<text class=\"info-label\">ÂèëÊîæ‰∫∫Ôºö</text>\n\t\t\t\t\t\t<text class=\"info-value\">{{ item.dispenser }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"info-item\">\n\t\t\t\t\t\t<text class=\"info-label\">ÂàõÂª∫Êó∂Èó¥Ôºö</text>\n\t\t\t\t\t\t<text class=\"info-value\">{{ item.createTime }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"info-item\">\n\t\t\t\t\t\t<text class=\"info-label\">ËçØÊùêÁßçÁ±ªÔºö</text>\n\t\t\t\t\t\t<text class=\"info-value\">{{ item.items.length }} Áßç</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"info-item\" v-if=\"item.remark\">\n\t\t\t\t\t\t<text class=\"info-label\">Â§áÊ≥®Ôºö</text>\n\t\t\t\t\t\t<text class=\"info-value\">{{ item.remark }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- ÂæÖÊé•Êî∂Êó∂ÊòæÁ§∫Êìç‰ΩúÊåâÈíÆÔºöËá™ÂÆö‰πâÊ†∑ÂºèÊåâÈíÆÔºåÈÅøÂÖçÁªÑ‰ª∂ÂÖºÂÆπÈóÆÈ¢ò -->\n\t\t\t\t<view v-if=\"item.status === 'pending_review'\" class=\"record-actions\">\n\t\t\t\t\t<view class=\"record-action-btn\" @tap.stop=\"goReview(item._id)\">\n\t\t\t\t\t\tÂéªÊé•Êî∂\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- Â∑≤È©≥ÂõûÊó∂ÊòæÁ§∫Êìç‰ΩúÊåâÈíÆ -->\n\t\t\t\t<view v-if=\"item.status === 'rejected' && canEdit(item)\" class=\"record-actions\">\n\t\t\t\t\t<view class=\"reject-reason\">È©≥ÂõûÂéüÂõ†Ôºö{{ item.rejectReason }}</view>\n\t\t\t\t\t<u-button \n\t\t\t\t\t\ttext=\"ÈáçÊñ∞ÁºñËæë\" \n\t\t\t\t\t\ttype=\"warning\" \n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t@click.stop=\"goEdit(item._id)\"\n\t\t\t\t\t></u-button>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- Á©∫Áä∂ÊÄÅ -->\n\t\t\t<view v-if=\"recordList.length === 0\" class=\"empty-state\">\n\t\t\t\t<text class=\"empty-icon\">üìã</text>\n\t\t\t\t<text class=\"empty-text\">ÊöÇÊó†{{ getTabName() }}ÂçïÊçÆ</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- Âä†ËΩΩÊõ¥Â§ö -->\n\t\t\t<view v-if=\"hasMore\" class=\"load-more\" @click=\"loadMore\">\n\t\t\t\t<text>Âä†ËΩΩÊõ¥Â§ö</text>\n\t\t\t</view>\n\t\t\t<view v-else-if=\"recordList.length > 0\" class=\"no-more\">\n\t\t\t\t<text>Ê≤°ÊúâÊõ¥Â§ö‰∫Ü</text>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nimport { callFunction } from '@/utils/request.js'\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tcurrentTab: 'all',\n\t\t\ttabs: [\n\t\t\t\t{ label: 'ÂÖ®ÈÉ®', value: 'all', count: 0 },\n\t\t\t\t{ label: 'ËçâÁ®ø', value: 'draft', count: 0 },\n\t\t\t\t{ label: 'ÂæÖÊé•Êî∂', value: 'pending_review', count: 0 },\n\t\t\t\t{ label: 'Â∑≤È©≥Âõû', value: 'rejected', count: 0 }\n\t\t\t],\n\t\t\tcurrentLocation: 'all',\n\t\t\tlocationFilters: [\n\t\t\t\t{ label: 'ÂÖ®ÈÉ®Âõ≠Âå∫', value: 'all' },\n\t\t\t\t{ label: 'ÈôÜÂõ≠', value: 'land_park' },\n\t\t\t\t{ label: 'Ê∞¥Âõ≠', value: 'water_park' }\n\t\t\t],\n\t\t\trecordList: [],\n\t\t\tpage: 1,\n\t\t\tpageSize: 10,\n\t\t\thasMore: true,\n\t\t\tcurrentUserId: ''\n\t\t}\n\t},\n\t\n\tonLoad(options) {\n\t\t// Â¶ÇÊûú‰ªéÈ¶ñÈ°µÊàñËçØÊùêÁÆ°ÁêÜÈ°µÈù¢Â∏¶‰∫ÜÁä∂ÊÄÅÂèÇÊï∞Ôºà‰æãÂ¶Ç status=pending_reviewÔºâÔºå‰ºòÂÖà‰ΩøÁî®ËØ•Áä∂ÊÄÅ\n\t\tif (options && options.status) {\n\t\t\tthis.currentTab = options.status\n\t\t}\n\t\tthis.initPage()\n\t},\n\t\n\tonShow() {\n\t\tthis.refreshList()\n\t},\n\t\n\tonPullDownRefresh() {\n\t\tthis.refreshList()\n\t\tsetTimeout(() => {\n\t\t\tuni.stopPullDownRefresh()\n\t\t}, 1000)\n\t},\n\t\n\tmethods: {\n\t\tinitPage() {\n\t\t\tconst userInfo = uni.getStorageSync('userInfo')\n\t\t\tthis.currentUserId = userInfo?._id || ''\n\t\t\t\n\t\t\tthis.loadRecords()\n\t\t\tthis.loadCounts()\n\t\t},\n\t\t\n\t\tgoTransfer() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages-sub/transfer/list'\n\t\t\t})\n\t\t},\n\t\t\n\t\tswitchTab(value) {\n\t\t\tif (this.currentTab === value) return\n\t\t\t\n\t\t\tthis.currentTab = value\n\t\t\tthis.page = 1\n\t\t\tthis.recordList = []\n\t\t\tthis.hasMore = true\n\t\t\tthis.loadRecords()\n\t\t},\n\t\t\n\t\tswitchLocation(value) {\n\t\t\tif (this.currentLocation === value) return\n\t\t\t\n\t\t\tthis.currentLocation = value\n\t\t\tthis.page = 1\n\t\t\tthis.recordList = []\n\t\t\tthis.hasMore = true\n\t\t\tthis.loadRecords()\n\t\t},\n\t\t\n\t\tgetTabName() {\n\t\t\tconst tab = this.tabs.find(t => t.value === this.currentTab)\n\t\t\treturn tab ? tab.label : ''\n\t\t},\n\t\t\n\t\tasync loadRecords() {\n\t\t\tuni.showLoading({ title: 'Âä†ËΩΩ‰∏≠...' })\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst result = await this.$api.callFunction('outRecords', {\n\t\t\t\t\taction: 'getList',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tstatus: this.currentTab === 'all' ? 'all' : this.currentTab,\n\t\t\t\t\t\tlocation: this.currentLocation === 'all' ? 'all' : this.currentLocation,\n\t\t\t\t\t\tpage: this.page,\n\t\t\t\t\t\tpageSize: this.pageSize\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tif (result.success) {\n\t\t\t\t\tconst newData = result.data || []\n\t\t\t\t\tthis.recordList = this.page === 1 ? newData : [...this.recordList, ...newData]\n\t\t\t\t\tthis.hasMore = newData.length >= this.pageSize\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(result.message || 'Âä†ËΩΩÂ§±Ë¥•')\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tuni.hideLoading()\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Âä†ËΩΩÂ§±Ë¥•:', err)\n\t\t\t\tuni.hideLoading()\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: err.message || 'Âä†ËΩΩÂ§±Ë¥•',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t\n\t\tasync loadCounts() {\n\t\t\ttry {\n\t\t\t\tconst result = await this.$api.callFunction('outRecords', {\n\t\t\t\t\taction: 'getCounts',\n\t\t\t\t\tdata: {}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tif (result.success) {\n\t\t\t\t\t// Êõ¥Êñ∞ÂêÑÊ†áÁ≠æÁöÑÊï∞Èáè\n\t\t\t\t\tthis.tabs.forEach(tab => {\n\t\t\t\t\t\tif (tab.value === 'all') {\n\t\t\t\t\t\t\ttab.count = result.all || 0\n\t\t\t\t\t\t} else if (tab.value === 'draft') {\n\t\t\t\t\t\t\ttab.count = result.draft || 0\n\t\t\t\t\t\t} else if (tab.value === 'pending_review') {\n\t\t\t\t\t\t\ttab.count = result.pending_review || 0\n\t\t\t\t\t\t} else if (tab.value === 'completed') {\n\t\t\t\t\t\t\ttab.count = result.completed || 0\n\t\t\t\t\t\t} else if (tab.value === 'rejected') {\n\t\t\t\t\t\t\ttab.count = result.rejected || 0\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Âä†ËΩΩÊï∞ÈáèÂ§±Ë¥•:', err)\n\t\t\t}\n\t\t},\n\t\t\n\t\trefreshList() {\n\t\t\tthis.page = 1\n\t\t\tthis.recordList = []\n\t\t\tthis.hasMore = true\n\t\t\tthis.loadRecords()\n\t\t\tthis.loadCounts()\n\t\t},\n\t\t\n\t\tloadMore() {\n\t\t\tif (!this.hasMore) return\n\t\t\tthis.page++\n\t\t\tthis.loadRecords()\n\t\t},\n\t\t\n\t\tgetStatusText(status) {\n\t\t\tconst statusMap = {\n\t\t\t\tdraft: 'ËçâÁ®ø',\n\t\t\t\tpending_review: 'ÂæÖÊé•Êî∂',\n\t\t\t\tcompleted: 'Â∑≤ÂÆåÊàê',\n\t\t\t\trejected: 'Â∑≤È©≥Âõû'\n\t\t\t}\n\t\t\treturn statusMap[status] || status\n\t\t},\n\t\t\n\t\tcanReview(item) {\n\t\t\t// ÂºÄÂèëÈò∂ÊÆµÔºöÊîæÂÆΩÈôêÂà∂ÔºåÂÖÅËÆ∏Ëá™Â∑±Êé•Êî∂Ëá™Â∑±ÂàõÂª∫ÁöÑÂæÖÊé•Êî∂Âá∫Â∫ìÂçï\n\t\t\t// Â¶ÇÈúÄÊÅ¢Â§ç‰∏•Ê†ºÊùÉÈôêÊéßÂà∂ÔºåÂèØÊîπÂõûÂêåÊó∂Âà§Êñ≠ dispenserId !== currentUserId\n\t\t\treturn item.status === 'pending_review'\n\t\t},\n\t\t\n\t\tcanEdit(item) {\n\t\t\treturn (item.status === 'draft' || item.status === 'rejected') && \n\t\t\t       item.dispenserId === this.currentUserId\n\t\t},\n\t\t\n\t\tgoDetail(id) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages-sub/out/detail?id=${id}`\n\t\t\t})\n\t\t},\n\t\t\n\t\tgoReview(id) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages-sub/out/detail?id=${id}&action=review`\n\t\t\t})\n\t\t},\n\t\t\n\t\tgoEdit(id) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages-sub/out/add?id=${id}`\n\t\t\t})\n\t\t},\n\t\t\n\t\tgoReport() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages-sub/report/outbound'\n\t\t\t})\n\t\t},\n\t\t\n\t\tgoAdd() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages-sub/out/add'\n\t\t\t})\n\t\t},\n\t\t\n\t\tgoParkStock() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages-sub/stock/park'\n\t\t\t})\n\t\t},\n\t\t\n\t\t// Ê®°ÊãüÊï∞ÊçÆ\n\t\tgetMockData() {\n\t\t\tconst mockList = [\n\t\t\t\t{\n\t\t\t\t\t_id: 'out_001',\n\t\t\t\t\trecordNo: 'CK20251028001',\n\t\t\t\t\tstatus: 'pending_review',\n\t\t\t\t\tlocation: 'land_park',\n\t\t\t\t\tlocationName: 'ÈôÜÂõ≠',\n\t\t\t\t\tdispenser: 'Âº†‰∏â',\n\t\t\t\t\tdispenserId: 'user_001',\n\t\t\t\t\tcreateTime: '2025-10-28 10:30:00',\n\t\t\t\t\tremark: '',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{ drugName: 'ÈòøËé´Ë•øÊûóËÉ∂Âõä', spec: '0.25g*24Á≤í', quantity: 50 },\n\t\t\t\t\t\t{ drugName: 'Â∏ÉÊ¥õËä¨ÁºìÈáäËÉ∂Âõä', spec: '0.3g*20Á≤í', quantity: 30 }\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t_id: 'out_002',\n\t\t\t\t\trecordNo: 'CK20251028002',\n\t\t\t\t\tstatus: 'completed',\n\t\t\t\t\tlocation: 'water_park',\n\t\t\t\t\tlocationName: 'Ê∞¥Âõ≠',\n\t\t\t\t\tdispenser: 'ÊùéÂõõ',\n\t\t\t\t\tdispenserId: 'user_002',\n\t\t\t\t\treceiver: 'Áéã‰∫î',\n\t\t\t\t\treceiverId: 'user_003',\n\t\t\t\t\tcreateTime: '2025-10-27 15:20:00',\n\t\t\t\t\tcompleteTime: '2025-10-27 16:00:00',\n\t\t\t\t\tremark: '',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{ drugName: 'ÊÑüÂÜíÁÅµÈ¢óÁ≤í', spec: '10g*10Ë¢ã', quantity: 100 }\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t_id: 'out_003',\n\t\t\t\t\trecordNo: 'CK20251027001',\n\t\t\t\t\tstatus: 'draft',\n\t\t\t\t\tlocation: 'land_park',\n\t\t\t\t\tlocationName: 'ÈôÜÂõ≠',\n\t\t\t\t\tdispenser: 'Âº†‰∏â',\n\t\t\t\t\tdispenserId: 'user_001',\n\t\t\t\t\tcreateTime: '2025-10-27 11:00:00',\n\t\t\t\t\tremark: 'Á¥ßÊÄ•Âá∫Â∫ì',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{ drugName: 'ÈÄüÊïàÊïëÂøÉ‰∏∏', spec: '40mg*60Á≤í', quantity: 10 }\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t_id: 'out_004',\n\t\t\t\t\trecordNo: 'CK20251026001',\n\t\t\t\t\tstatus: 'rejected',\n\t\t\t\t\tlocation: 'land_park',\n\t\t\t\t\tlocationName: 'ÈôÜÂõ≠',\n\t\t\t\t\tdispenser: 'ÊùéÂõõ',\n\t\t\t\t\tdispenserId: 'user_002',\n\t\t\t\t\treceiver: 'Âº†‰∏â',\n\t\t\t\t\treceiverId: 'user_001',\n\t\t\t\t\tcreateTime: '2025-10-26 17:00:00',\n\t\t\t\t\trejectReason: 'Êï∞ÈáèÂ°´ÂÜôÈîôËØØ',\n\t\t\t\t\tremark: '',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{ drugName: 'Áª¥ÁîüÁ¥†CÁâá', spec: '0.1g*100Áâá', quantity: 50 }\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t\t\n\t\t\t// Ê†πÊçÆÁ≠õÈÄâÊù°‰ª∂ËøáÊª§\n\t\t\tlet filtered = mockList\n\t\t\t\n\t\t\tif (this.currentTab !== 'all') {\n\t\t\t\tfiltered = filtered.filter(item => item.status === this.currentTab)\n\t\t\t}\n\t\t\t\n\t\t\tif (this.currentLocation !== 'all') {\n\t\t\t\tfiltered = filtered.filter(item => item.location === this.currentLocation)\n\t\t\t}\n\t\t\t\n\t\t\treturn filtered\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n\tmin-height: 100vh;\n\t/* ‰∏éÂÖ•Â∫ìÂàóË°®Á≠âÈ°µÈù¢Áªü‰∏ÄÁöÑËìùËâ≤Ê∏êÂèòËÉåÊôØ */\n\tbackground: linear-gradient(180deg, #00c9ff 0%, #00a0ff 35%, #e5e7eb 100%);\n\tpadding: 24rpx 24rpx 120rpx;\n}\n\n.page-header {\n\t/* È°∂ÈÉ®Ê†áÈ¢òÂç°ÁâáÔºö702rpx Ë±°ÁâôÁôΩÂç°Áâá */\n\tmax-width: 702rpx;\n\tmargin: 10rpx auto 8rpx;\n\tpadding: 22rpx 22rpx 18rpx;\n\tbackground: #FFFFF0;\n\tborder-radius: 22rpx;\n\tbox-shadow:\n\t\t0 1rpx 0 rgba(255, 255, 255, 0.9) inset,\n\t\t0 -1rpx 0 rgba(15, 23, 42, 0.06) inset,\n\t\t0 18rpx 40rpx rgba(15, 23, 42, 0.14);\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: flex-start;\n}\n\n.page-header-title {\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n}\n\n.page-title {\n\tdisplay: block;\n\tfont-size: 36rpx;\n\tfont-weight: 700;\n\tcolor: #111827;\n}\n\n.page-actions {\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\tgap: 16rpx;\n\tmargin-top: 18rpx;\n}\n\n.header-btn {\n\tmin-width: 150rpx;\n\tpadding: 18rpx 30rpx;\n\tborder-radius: 999rpx;\n\tfont-size: 26rpx;\n\tfont-weight: 600;\n\ttext-align: center;\n}\n\n.header-btn.ghost {\n\tbackground: linear-gradient(135deg, #00c9ff 0%, #00a0ff 100%);\n\tcolor: #ffffff;\n\tborder: none;\n\tbox-shadow: 0 6rpx 16rpx rgba(0, 160, 255, 0.25);\n}\n\n.header-btn.primary {\n\tbackground: linear-gradient(135deg, #00c9ff 0%, #00a0ff 100%);\n\tcolor: #ffffff;\n\tbox-shadow: 0 6rpx 16rpx rgba(0, 160, 255, 0.25);\n}\n\n.status-tabs {\n\tmax-width: 702rpx;\n\tmargin: 0 auto 8rpx;\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tpadding: 12rpx 20rpx;\n\tbackground: #FFFFF0;\n\tgap: 10rpx;\n\tjustify-content: space-between;\n\tborder-radius: 22rpx;\n\tbox-shadow: 0 8rpx 20rpx rgba(15, 23, 42, 0.12);\n}\n\n.status-tab {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 8rpx 10rpx;\n\tbackground: #ffffff;\n\tborder-radius: 40rpx;\n\tfont-size: 16rpx;\n\tcolor: #646566;\n\tbox-shadow: 0 3rpx 10rpx rgba(15, 23, 42, 0.06);\n\ttransition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\tflex: 1 0 18%;\n\tmin-width: 0;\n\tborder: 2rpx solid transparent;\n\n\t&.active {\n\t\tbackground: linear-gradient(135deg, #00c9ff 0%, #00a0ff 100%);\n\t\tcolor: #ffffff;\n\t\tfont-weight: bold;\n\t\tbox-shadow: 0 6rpx 20rpx rgba(0, 160, 255, 0.35);\n\t\ttransform: scale(1.02);\n\t\tborder-color: #00a0ff;\n\t}\n\n\t.status-name {\n\t\tmargin-right: 4rpx;\n\t\twhite-space: nowrap;\n\t}\n\n\t.count {\n\t\tdisplay: inline-flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmin-width: 28rpx;\n\t\theight: 28rpx;\n\t\tpadding: 0 6rpx;\n\t\tbackground: rgba(0, 0, 0, 0.08);\n\t\tborder-radius: 14rpx;\n\t\tfont-size: 18rpx;\n\t\tline-height: 1;\n\t\tfont-weight: bold;\n\t}\n\n\t&.active .count {\n\t\tbackground: rgba(255, 255, 255, 0.3);\n\t\tcolor: #ffffff;\n\t}\n}\n\n.location-filter {\n\tmax-width: 702rpx;\n\tmargin: 0 auto 8rpx;\n\tdisplay: flex;\n\tgap: 15rpx;\n\tpadding: 16rpx 20rpx;\n\tbackground-color: #FFFFF0;\n\tborder-radius: 22rpx;\n\tbox-shadow: 0 8rpx 20rpx rgba(15, 23, 42, 0.12);\n}\n\n.location-item {\n\tflex: 1;\n\ttext-align: center;\n\tpadding: 15rpx 0;\n\tbackground-color: #f8f8f8;\n\tborder-radius: 10rpx;\n\tfont-size: 26rpx;\n\tcolor: #666666;\n}\n\n.location-item.active {\n\tbackground-color: #ff6b6b;\n\tcolor: #ffffff;\n}\n\n.list-container {\n\tmax-width: 702rpx;\n\tmargin: 0 auto 8rpx;\n\tpadding: 0;\n}\n\n.record-card {\n\tbackground-color: #FFFFF0;\n\tpadding: 26rpx 24rpx 24rpx;\n\tborder-radius: 20rpx;\n\tmargin-bottom: 8rpx;\n\tbox-shadow: 0 8rpx 20rpx rgba(15, 23, 42, 0.12);\n\tposition: relative;\n}\n\n.record-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 20rpx;\n\tpadding-bottom: 20rpx;\n\tborder-bottom: 1px solid #f0f0f0;\n}\n\n.record-no {\n\tfont-size: 30rpx;\n\tfont-weight: bold;\n\tcolor: #333333;\n}\n\n.record-status {\n\tfont-size: 24rpx;\n\tpadding: 8rpx 20rpx;\n\tborder-radius: 20rpx;\n\tcolor: #ffffff;\n}\n\n.status-draft {\n\tbackground-color: #999999;\n}\n\n.status-pending_review {\n\tbackground-color: #ff9800;\n}\n\n.status-completed {\n\tbackground-color: #4caf50;\n}\n\n.status-rejected {\n\tbackground-color: #ff6b6b;\n}\n\n.location-badge {\n\tposition: absolute;\n\ttop: 25rpx;\n\tright: 25rpx;\n\tbackground-color: #e3f2fd;\n\tcolor: #2196f3;\n\tfont-size: 22rpx;\n\tpadding: 6rpx 15rpx;\n\tborder-radius: 15rpx;\n}\n\n.record-info {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 12rpx;\n}\n\n.info-item {\n\tdisplay: flex;\n\tfont-size: 26rpx;\n}\n\n.info-label {\n\tcolor: #999999;\n\tmin-width: 140rpx;\n}\n\n.info-value {\n\tcolor: #333333;\n\tflex: 1;\n}\n\n.record-actions {\n\tmargin-top: 20rpx;\n\tpadding-top: 20rpx;\n\tborder-top: 1px solid #f0f0f0;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n}\n\n.record-action-btn {\n\tmin-width: 180rpx;\n\tpadding: 14rpx 30rpx;\n\tborder-radius: 999rpx;\n\tbackground: linear-gradient(135deg, #00c9ff 0%, #00a0ff 100%);\n\tcolor: #ffffff;\n\tfont-size: 26rpx;\n\tfont-weight: 600;\n\ttext-align: center;\n\tbox-shadow: 0 4rpx 12rpx rgba(255, 107, 107, 0.35);\n}\n\n.record-action-btn:active {\n\topacity: 0.9;\n\ttransform: scale(0.97);\n}\n\n.reject-reason {\n\tflex: 1;\n\tfont-size: 24rpx;\n\tcolor: #ff6b6b;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.empty-state {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 100rpx 0;\n}\n\n.empty-icon {\n\tfont-size: 100rpx;\n\tmargin-bottom: 20rpx;\n}\n\n.empty-text {\n\tfont-size: 28rpx;\n\tcolor: #999999;\n}\n\n.load-more,\n.no-more {\n\ttext-align: center;\n\tpadding: 30rpx 0;\n\tfont-size: 26rpx;\n\tcolor: #999999;\n}\n\n.fab-button {\n\tposition: fixed;\n\tright: 30rpx;\n\tbottom: 100rpx;\n\twidth: 100rpx;\n\theight: 100rpx;\n\tbackground: linear-gradient(135deg, #00c9ff 0%, #00a0ff 100%);\n\tborder-radius: 50%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tbox-shadow: 0 4rpx 20rpx rgba(255, 107, 107, 0.4);\n\tz-index: 1000;\n}\n\n.fab-icon {\n\tfont-size: 60rpx;\n\tcolor: #ffffff;\n\tfont-weight: 300;\n}\n</style>\n","import mod from \"-!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./list.vue?vue&type=style&index=0&id=6afba0b6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./list.vue?vue&type=style&index=0&id=6afba0b6&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1766563616883\n      var cssReload = require(\"D:/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}