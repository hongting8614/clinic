{"version":3,"sources":["uni-app:///main.js","webpack:///D:/AK-PMS/pages/user/index.vue?7207","webpack:///D:/AK-PMS/pages/user/index.vue?40d9","webpack:///D:/AK-PMS/pages/user/index.vue?62f7","webpack:///D:/AK-PMS/pages/user/index.vue?79ef","uni-app:///pages/user/index.vue","webpack:///D:/AK-PMS/pages/user/index.vue?c089","webpack:///D:/AK-PMS/pages/user/index.vue?6782"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","userInfo","name","role","roleText","department","avatarUrl","wechatAvatarUrl","lastUpdateTime","isLoading","isLoggedIn","avatarLoadError","showWechatBindDialog","wechatIdInput","computed","displayAvatar","onLoad","console","onShow","methods","checkAndLogin","isLogin","result","uni","title","icon","duration","cancelWechatBind","confirmWechatBind","loadUserInfo","handleLogin","logoutUser","updateTime","goToPage","content","showCancel","confirmText","confirmColor","success","url","fail","showComingSoon","goToUserManage","showAbout","showAvatarOptions","itemList","chooseImageFromAlbum","takePhoto","chooseAndUploadImage","count","sizeType","sourceType","res","tempFilePath","cloudPath","uploadToCloud","filePath","updateAvatar","type","storedUserInfo","onAvatarError"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AAC0K;AAC1K,gBAAgB,uLAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAqoB,CAAgB,iqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;AC2NzpB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAC;IACA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;IACA;EACA;EAEAC;IACA;IACAC;MACA;QACA;MACA;MACA;MACA;IACA;EACA;EAEAC;IACAC;IACA;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAH;gBACA;gBACAI;gBACApB;gBACAgB;kBAAAI;kBAAApB;gBAAA;gBAAA,MAEAoB;kBAAA;kBAAA;gBAAA;gBACA;gBACA;gBACA;gBAAA;cAAA;gBAIA;gBACA;gBACA;gBAAA;gBAAA;gBAAA,OAGA;cAAA;gBAAAC;gBACAL;gBAEA;kBACA;kBACA;kBACA;kBACAA;kBACAM;oBACAC;oBACAC;oBACAC;kBACA;gBACA;kBACA;kBACAT;kBACA;kBACA;oBACAf;oBACAC;oBACAC;oBACAC;oBACAC;oBACAC;kBACA;kBACA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAU;gBACA;gBACA;kBACAf;kBACAC;kBACAE;gBACA;gBAEAkB;kBACAC;kBACAC;kBACAC;gBACA;cAAA;gBAAA;gBAEA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAC;MACA;MACA;IACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBACAL;kBACAC;kBACAC;gBACA;gBAAA;cAAA;gBAGA;gBAAA;gBAAA;gBAAA,OAEA;cAAA;gBAAAH;gBACA;kBACA;kBACA;kBACA;kBACAC;oBACAC;oBACAC;kBACA;gBACA;kBACAF;oBACAC;oBACAC;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAR;gBACAM;kBACAC;kBACAC;gBACA;cAAA;gBAAA;gBAEA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAI;MACA;MACA;QACA;UACA3B;UACA;UACAC;UACA;UACAC;UACAC;QACA;MACA;QACA;UACAH;UACAC;UACAC;UACAC;QACA;MACA;IACA;IAEA;IACAyB;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACAb;gBACA;gBACA;kBACA;oBACAM;oBACAA;oBACAA;oBACAA;kBACA;gBACA;kBACAN;gBACA;gBACA;gBAAA;gBAAA,OACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACAc;MACA;QACA;UACAR;UACAA;UACAA;UACAA;QACA;UACA5B;UACAA;UACAA;UACAA;QACA;MACA;QACAsB;MACA;MACA;MACA;QACAf;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACA;MACA;MACA;MACAgB;QACAC;QACAC;MACA;IACA;IAEAO;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IAEAC;MAAA;MACA;MACA;QACAV;UACAC;UACAU;UACAC;UACAC;UACAC;UACAC;YACA;UACA;QACA;QACA;MACA;;MAEA;MACA;MACA;MAEA;QACAf;UACAgB;UACAC;YACAvB;YACAM;cACAC;cACAC;YACA;UACA;QACA;MACA;QACAF;UACAgB;UACAC;YACAvB;YACAM;cACAC;cACAC;YACA;UACA;QACA;MACA;IACA;IAEAgB;MACAlB;QACAC;QACAU;QACAC;QACAC;QACAC;MACA;IACA;IAEAK;MACA;MACAnB;QACAC;QACAC;MACA;IACA;IAEAkB;MACApB;QACAC;QACAU;QACAC;QACAC;QACAC;MACA;IACA;IAEA;IACAO;MAAA;MACA;QACArB;UACAC;UACAC;QACA;QACA;MACA;MAEAF;QACAsB;QACAP;UACA;YACA;UACA;YACA;UACA;QACA;MACA;IACA;IAEA;IACAQ;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEAzB;kBACA0B;kBACAC;kBACAC;gBACA;cAAA;gBAJAC;gBAMA7B;kBACAC;gBACA;gBAEA6B,qCAEA;gBAAA;gBAAA,OACA;cAAA;gBAAAC;gBAAA;gBAAA,OAGA;cAAA;gBAEA/B;gBACAA;kBACAC;kBACAC;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAR;gBACAM;gBACA;kBACAA;oBACAC;oBACAC;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACA8B;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAD;gBAAA;gBAAA,OAEA3D;kBACA2D;kBACAE;gBACA;cAAA;gBAHAlC;gBAAA,kCAKAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACAmC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA9D;kBACAO;kBACAF,wCACA0D;gBAEA;cAAA;gBALAN;gBAOA;gBACA;kBACA;gBACA;kBACA;gBACA;gBAEA;;gBAEA;gBACAO;gBACA;kBACA;oBACAA;kBACA;oBACAA;kBACA;kBACApC;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACAqC;MACA3C;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACvoBA;AAAA;AAAA;AAAA;AAAs6B,CAAgB,06BAAG,EAAC,C;;;;;;;;;;;ACA17B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/user/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/user/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=137d5072&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/user/index.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=137d5072&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"page\">\n\t\t<!-- Áî®Êà∑‰ø°ÊÅØÂç°Áâá - ÁßëÊäÄÈ£éÊ†º -->\n\t\t<view class=\"user-profile\">\n\t\t\t<view class=\"profile-bg\">\n\t\t\t\t<view class=\"bg-pattern\"></view>\n\t\t\t</view>\n\t\t\t<view class=\"profile-content\">\n\t\t\t\t<view class=\"avatar-wrapper\" @tap=\"showAvatarOptions\">\n\t\t\t\t\t<view class=\"avatar-circle\">\n\t\t\t\t\t\t<!-- ÊòæÁ§∫ÁúüÂÆûÂ§¥ÂÉèÊàñÈªòËÆ§ÂõæÊ†á -->\n\t\t\t\t\t\t<image \n\t\t\t\t\t\t\tv-if=\"displayAvatar\" \n\t\t\t\t\t\t\t:src=\"displayAvatar\" \n\t\t\t\t\t\t\tclass=\"avatar-img\"\n\t\t\t\t\t\t\tmode=\"aspectFill\"\n\t\t\t\t\t\t\t@error=\"onAvatarError\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<text v-else class=\"avatar-icon\">üë§</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"online-indicator\"></view>\n\t\t\t\t\t<!-- Áõ∏Êú∫ÂõæÊ†áÊèêÁ§∫ÂèØÁÇπÂáª -->\n\t\t\t\t\t<view v-if=\"isLoggedIn\" class=\"camera-icon\">üì∑</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"user-details\">\n\t\t\t\t\t<text class=\"user-name\">{{ userInfo.name }}</text>\n\t\t\t\t\t<text class=\"user-role\">{{ userInfo.roleText }}</text>\n\t\t\t\t\t<!-- ÁôªÂΩïÊåâÈíÆ -->\n\t\t\t\t\t<view v-if=\"!isLoggedIn\" class=\"login-btn-wrapper\">\n\t\t\t\t\t\t<view class=\"login-btn\" @tap=\"handleLogin\" :class=\"{ 'loading': isLoading }\">\n\t\t\t\t\t\t\t<text class=\"login-btn-text\">{{ isLoading ? 'ÁôªÂΩï‰∏≠...' : 'ÁÇπÂáªÁôªÂΩï' }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view v-else class=\"logout-btn-wrapper\">\n\t\t\t\t\t\t<view class=\"logout-btn\" @tap=\"logoutUser\" :class=\"{ 'loading': isLoading }\">\n\t\t\t\t\t\t\t<text class=\"logout-btn-text\">{{ isLoading ? 'Â§ÑÁêÜ‰∏≠...' : 'ÈÄÄÂá∫ÁôªÂΩï' }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- ÂäüËÉΩËèúÂçï - ‰∏ì‰∏öÂàÜÁªÑÔºå‰ΩøÁî®Â§ßÂç°ÁâáÈ£éÊ†º -->\n\t\t<view class=\"menu-section\">\n\t\t\t<view class=\"menu-group\">\n\t\t\t\t<view class=\"group-header\">\n\t\t\t\t\t<text class=\"group-icon\"></text>\n\t\t\t\t\t<text class=\"group-title\">Ê†∏ÂøÉ‰∏öÂä°</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"menu-items\">\n\t\t\t\t\t<view class=\"menu-item\" @tap=\"goToPage('/pages-sub/in/list')\">\n\t\t\t\t\t\t<view class=\"menu-icon-wrapper blue\">\n\t\t\t\t\t\t\t<text class=\"menu-icon\">üì•</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"menu-content\">\n\t\t\t\t\t\t\t<text class=\"menu-title\">ÂÖ•Â∫ìÁÆ°ÁêÜ</text>\n\t\t\t\t\t\t\t<text class=\"menu-desc\">ËçØÊùêÂÖ•Â∫ì„ÄÅÂ§çÊ†∏ÂÆ°Êâπ</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"menu-arrow\">‚Üí</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"menu-item\" @tap=\"goToPage('/pages-sub/out/list')\">\n\t\t\t\t\t\t<view class=\"menu-icon-wrapper green\">\n\t\t\t\t\t\t\t<text class=\"menu-icon\">üì§</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"menu-content\">\n\t\t\t\t\t\t\t<text class=\"menu-title\">Âõ≠Âå∫È¢ÜÁî®</text>\n\t\t\t\t\t\t\t<text class=\"menu-desc\">Ê∞¥Âõ≠¬∑ÈôÜÂõ≠¬∑Âõ≠Âå∫È°πÁõÆ</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"menu-arrow\">‚Üí</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"menu-item\" @tap=\"goToPage('/pages-sub/consume/list')\">\n\t\t\t\t\t\t<view class=\"menu-icon-wrapper orange\">\n\t\t\t\t\t\t\t<text class=\"menu-icon\">üìä</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"menu-content\">\n\t\t\t\t\t\t\t<text class=\"menu-title\">Êó•Ê∂àËÄóÁÆ°ÁêÜ</text>\n\t\t\t\t\t\t\t<text class=\"menu-desc\">Ê∞¥Âõ≠¬∑ÈôÜÂõ≠ÊØèÊó•Ê∂àËÄó</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"menu-arrow\">‚Üí</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"menu-item\" @tap=\"goToPage('/pages/stock/index')\">\n\t\t\t\t\t\t<view class=\"menu-icon-wrapper purple\">\n\t\t\t\t\t\t\t<text class=\"menu-icon\">üì¶</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"menu-content\">\n\t\t\t\t\t\t\t<text class=\"menu-title\">Â∫ìÂ≠òÁÆ°ÁêÜ</text>\n\t\t\t\t\t\t\t<text class=\"menu-desc\">ÂÆûÊó∂Â∫ìÂ≠ò„ÄÅÊâπÊ¨°Êü•ËØ¢</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"menu-arrow\">‚Üí</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<view class=\"menu-group\">\n\t\t\t\t<view class=\"group-header\">\n\t\t\t\t\t<text class=\"group-icon\"></text>\n\t\t\t\t\t<text class=\"group-title\">Êï∞ÊçÆÂàÜÊûê</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"menu-items\">\n\t\t\t\t\t<view class=\"menu-item\" @tap=\"goToPage('/pages-sub/report/index')\">\n\t\t\t\t\t\t<view class=\"menu-icon-wrapper orange\">\n\t\t\t\t\t\t\t<text class=\"menu-icon\">üìà</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"menu-content\">\n\t\t\t\t\t\t\t<text class=\"menu-title\">Êï∞ÊçÆÊä•Ë°®</text>\n\t\t\t\t\t\t\t<text class=\"menu-desc\">Êó•Êä•„ÄÅÂë®Êä•„ÄÅÊúàÊä•</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"menu-arrow\">‚Üí</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"menu-item\" @tap=\"goToPage('/pages/index/index')\">\n\t\t\t\t\t\t<view class=\"menu-icon-wrapper teal\">\n\t\t\t\t\t\t\t<text class=\"menu-icon\">üìâ</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"menu-content\">\n\t\t\t\t\t\t\t<text class=\"menu-title\">ÁªüËÆ°ÂàÜÊûê</text>\n\t\t\t\t\t\t\t<text class=\"menu-desc\">Êï∞ÊçÆÁªüËÆ°„ÄÅË∂ãÂäøÂàÜÊûê</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"menu-arrow\">‚Üí</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<view class=\"menu-group\">\n\t\t\t\t<view class=\"group-header\">\n\t\t\t\t\t<text class=\"group-icon\"></text>\n\t\t\t\t\t<text class=\"group-title\">Á≥ªÁªüËÆæÁΩÆ</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"menu-items\">\n\t\t\t\t\t<view class=\"menu-item\" @tap=\"goToPage('/pages-sub/setting/user-list')\">\n\t\t\t\t\t\t<view class=\"menu-icon-wrapper gray\">\n\t\t\t\t\t\t\t<text class=\"menu-icon\">üë•</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"menu-content\">\n\t\t\t\t\t\t\t<text class=\"menu-title\">Áî®Êà∑ÁÆ°ÁêÜ</text>\n\t\t\t\t\t\t\t<text class=\"menu-desc\">Áî®Êà∑ÊùÉÈôê„ÄÅËßíËâ≤ÁÆ°ÁêÜ</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"menu-arrow\">‚Üí</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"menu-item\" @tap=\"showAbout\">\n\t\t\t\t\t\t<view class=\"menu-icon-wrapper indigo\">\n\t\t\t\t\t\t\t<text class=\"menu-icon\">‚ÑπÔ∏è</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"menu-content\">\n\t\t\t\t\t\t\t<text class=\"menu-title\">ÂÖ≥‰∫éÁ≥ªÁªü</text>\n\t\t\t\t\t\t\t<text class=\"menu-desc\">ÁâàÊú¨‰ø°ÊÅØ„ÄÅÂ∏ÆÂä©ÊñáÊ°£</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"menu-arrow\">‚Üí</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"menu-item\" @tap=\"goToPage('/pages/about/index')\">\n\t\t\t\t\t\t<view class=\"menu-icon-wrapper teal\">\n\t\t\t\t\t\t\t<text class=\"menu-icon\">üìò</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"menu-content\">\n\t\t\t\t\t\t\t<text class=\"menu-title\">ÂÖ≥‰∫éÈ°πÁõÆ</text>\n\t\t\t\t\t\t\t<text class=\"menu-desc\">È°πÁõÆËØ¥Êòé„ÄÅÁîµÂ≠êÁ≠æÂêçÈ°ªÁü•</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"menu-arrow\">‚Üí</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- Á≥ªÁªü‰ø°ÊÅØÈù¢Êùø -->\n\t\t<view class=\"system-panel\">\n\t\t\t<view class=\"panel-header\">\n\t\t\t\t<text class=\"panel-title\">Á≥ªÁªü‰ø°ÊÅØ</text>\n\t\t\t</view>\n\t\t\t<view class=\"info-grid\">\n\t\t\t\t<view class=\"info-item\">\n\t\t\t\t\t<view class=\"info-icon-wrapper\">\n\t\t\t\t\t\t<text class=\"info-icon\">üì±</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<text class=\"info-label\">Á≥ªÁªüÁâàÊú¨</text>\n\t\t\t\t\t<text class=\"info-value\">v1.0.0</text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"info-item\">\n\t\t\t\t\t<view class=\"info-icon-wrapper\">\n\t\t\t\t\t\t<text class=\"info-icon\">üïê</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<text class=\"info-label\">ÊúÄÂêéÊõ¥Êñ∞</text>\n\t\t\t\t\t<text class=\"info-value\">{{ lastUpdateTime }}</text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"info-item\">\n\t\t\t\t\t<view class=\"info-icon-wrapper online\">\n\t\t\t\t\t\t<text class=\"info-icon\">‚úì</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<text class=\"info-label\">ËøêË°åÁä∂ÊÄÅ</text>\n\t\t\t\t\t<text class=\"info-value success\">Ê≠£Â∏∏ËøêË°å</text>\n\t\t\t\t</view>\n\t\t</view>\n\t\t</view>\n\n\t\t<!-- È¶ñÊ¨°ÁôªÂΩïÁªëÂÆöÂæÆ‰ø°Âè∑ÂºπÁ™ó -->\n\t\t<view v-if=\"showWechatBindDialog\" class=\"bind-mask\">\n\t\t\t<view class=\"bind-dialog\">\n\t\t\t\t<text class=\"bind-title\">ÁªëÂÆöÂæÆ‰ø°Âè∑</text>\n\t\t\t\t<text class=\"bind-desc\">ÊÇ®Â∞öÊú™Âú®Á≥ªÁªü‰∏≠ÁªëÂÆöË¥¶Âè∑ÔºåËØ∑ËæìÂÖ•ÁÆ°ÁêÜÂëòÂ∑≤ÂΩïÂÖ•ÁöÑÂæÆ‰ø°Âè∑‰ª•ÂÆåÊàêÁªëÂÆö„ÄÇ</text>\n\t\t\t\t<input\n\t\t\t\t\tclass=\"bind-input\"\n\t\t\t\t\tv-model=\"wechatIdInput\"\n\t\t\t\t\tplaceholder=\"ËØ∑ËæìÂÖ•ÊÇ®ÁöÑÂæÆ‰ø°Âè∑\"\n\t\t\t\t/>\n\t\t\t\t<view class=\"bind-actions\">\n\t\t\t\t\t<button class=\"bind-btn cancel\" @tap=\"cancelWechatBind\">ÂèñÊ∂à</button>\n\t\t\t\t\t<button class=\"bind-btn confirm\" @tap=\"confirmWechatBind\">ÁªëÂÆöÂπ∂ÁôªÂΩï</button>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nimport { login, checkLogin, getUserInfo } from '@/utils/auth.js'\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tuserInfo: {\n\t\t\t\tname: 'Êú™ÁôªÂΩï',\n\t\t\t\trole: 'ËØ∑ÂÖàÁôªÂΩï',\n\t\t\t\troleText: 'ËØ∑ÂÖàÁôªÂΩï',\n\t\t\t\tdepartment: 'Âåó‰∫¨Ê¨¢‰πêË∞∑ÂåªÂä°ÂÆ§',\n\t\t\t\tavatarUrl: '',\n\t\t\t\twechatAvatarUrl: ''\n\t\t\t},\n\t\t\tlastUpdateTime: '',\n\t\t\tisLoading: false,\n\t\t\tisLoggedIn: false,\n\t\t\tavatarLoadError: false,\n\t\t\t// È¶ñÊ¨°ÁôªÂΩïÁªëÂÆöÂæÆ‰ø°Âè∑ÂºπÁ™ó\n\t\t\tshowWechatBindDialog: false,\n\t\t\twechatIdInput: ''\n\t\t}\n\t},\n\t\n\tcomputed: {\n\t\t// ËÆ°ÁÆóÊòæÁ§∫ÁöÑÂ§¥ÂÉè\n\t\tdisplayAvatar() {\n\t\t\tif (this.avatarLoadError) {\n\t\t\t\treturn ''\n\t\t\t}\n\t\t\t// ‰ºòÂÖàÁ∫ßÔºöËá™ÂÆö‰πâÂ§¥ÂÉè > ÂæÆ‰ø°Â§¥ÂÉè\n\t\t\treturn this.userInfo.avatarUrl || this.userInfo.wechatAvatarUrl || ''\n\t\t}\n\t},\n\t\n\tonLoad() {\n\t\tconsole.log('===== ÊàëÁöÑÈ°µÈù¢ onLoad =====')\n\t\tthis.updateTime()\n\t\tthis.checkAndLogin()\n\t},\n\tonShow() {\n\t\t// ÊØèÊ¨°ÊòæÁ§∫È°µÈù¢Êó∂Ê£ÄÊü•ÁôªÂΩïÁä∂ÊÄÅ\n\t\tthis.checkAndLogin()\n\t},\n\tmethods: {\n\t\t// Ê£ÄÊü•Âπ∂ÁôªÂΩï\n\t\tasync checkAndLogin() {\n\t\t\tconsole.log('checkAndLogin Ë∞ÉÁî®')\n\t\t\t// Ê£ÄÊü•ÊòØÂê¶Â∑≤ÁôªÂΩï\n\t\t\tconst isLogin = checkLogin()\n\t\t\tconst userInfo = getUserInfo()\n\t\t\tconsole.log('Êú¨Âú∞ÁºìÂ≠òÁôªÂΩïÁä∂ÊÄÅ:', { isLogin, userInfo })\n\t\t\t\n\t\t\tif (isLogin && userInfo) {\n\t\t\t\t// Â∑≤ÁôªÂΩïÔºåÂä†ËΩΩÁî®Êà∑‰ø°ÊÅØ\n\t\t\t\tthis.isLoggedIn = true\n\t\t\t\tthis.loadUserInfo()\n\t\t\t\treturn\n\t\t\t}\n\t\t\t\n\t\t\t// Êú™ÁôªÂΩïÔºåÂ∞ùËØïËá™Âä®ÁôªÂΩï\n\t\t\tthis.isLoggedIn = false\n\t\t\tthis.isLoading = true\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst result = await login()\n\t\t\t\tconsole.log('login ‰∫ëÂáΩÊï∞ËøîÂõû:', result)\n\t\t\t\t\n\t\t\t\tif (result.success) {\n\t\t\t\t\t// ÁôªÂΩïÊàêÂäü\n\t\t\t\t\tthis.isLoggedIn = true\n\t\t\t\t\tthis.loadUserInfo()\n\t\t\t\t\tconsole.log('ÁôªÂΩïÊàêÂäüÔºåÂ∑≤Êõ¥Êñ∞Áî®Êà∑‰ø°ÊÅØ')\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'ÁôªÂΩïÊàêÂäü',\n\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\tduration: 1500\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\t// ÁôªÂΩïÂ§±Ë¥•ÔºöÂΩìÂâç openid Êú™ÁªëÂÆö‰ªª‰ΩïÁî®Êà∑ÔºåÂú®Êú¨È°µÂºπÂá∫ÁªëÂÆöÂæÆ‰ø°Âè∑ÂØπËØùÊ°Ü\n\t\t\t\t\tconsole.log('ÁôªÂΩïÂ§±Ë¥•ÔºåÂáÜÂ§áÂºπÂá∫ÁªëÂÆöÂæÆ‰ø°Âè∑ÂØπËØùÊ°ÜÔºåÂéüÂõ†:', result && result.message)\n\t\t\t\t\tthis.isLoggedIn = false\n\t\t\t\t\tthis.userInfo = {\n\t\t\t\t\t\tname: 'Êú™ÁôªÂΩï',\n\t\t\t\t\t\trole: 'ËØ∑ÂÖàÁôªÂΩï',\n\t\t\t\t\t\troleText: 'ËØ∑ÂÖàÁôªÂΩï',\n\t\t\t\t\t\tdepartment: 'Âåó‰∫¨Ê¨¢‰πêË∞∑ÂåªÂä°ÂÆ§',\n\t\t\t\t\t\tavatarUrl: '',\n\t\t\t\t\t\twechatAvatarUrl: ''\n\t\t\t\t\t}\n\t\t\t\t\tthis.wechatIdInput = ''\n\t\t\t\t\tthis.showWechatBindDialog = true\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('ÁôªÂΩïÂ§±Ë¥•:', err)\n\t\t\t\tthis.isLoggedIn = false\n\t\t\t\tthis.userInfo = {\n\t\t\t\t\tname: 'Êú™ÁôªÂΩï',\n\t\t\t\t\trole: 'ÁôªÂΩïÂ§±Ë¥•',\n\t\t\t\t\tdepartment: 'Âåó‰∫¨Ê¨¢‰πêË∞∑ÂåªÂä°ÂÆ§'\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'ÁôªÂΩïÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\tduration: 2000\n\t\t\t\t})\n\t\t\t} finally {\n\t\t\t\tthis.isLoading = false\n\t\t\t}\n\t\t},\n\n\t\t// ÂèñÊ∂àÁªëÂÆöÂæÆ‰ø°Âè∑\n\t\tcancelWechatBind() {\n\t\t\tthis.showWechatBindDialog = false\n\t\t\tthis.wechatIdInput = ''\n\t\t},\n\t\t// Á°ÆËÆ§ÁªëÂÆöÂæÆ‰ø°Âè∑Âπ∂ÈáçËØïÁôªÂΩï\n\t\tasync confirmWechatBind() {\n\t\t\tif (!this.wechatIdInput) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'ËØ∑ËæìÂÖ•ÂæÆ‰ø°Âè∑',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.isLoading = true\n\t\t\ttry {\n\t\t\t\tconst result = await login(this.wechatIdInput.trim())\n\t\t\t\tif (result.success) {\n\t\t\t\t\tthis.isLoggedIn = true\n\t\t\t\t\tthis.showWechatBindDialog = false\n\t\t\t\t\tthis.loadUserInfo()\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'ÁªëÂÆöÂπ∂ÁôªÂΩïÊàêÂäü',\n\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: result.message || 'ÁªëÂÆöÂ§±Ë¥•ÔºåËØ∑ËÅîÁ≥ªÁÆ°ÁêÜÂëò',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('ÁªëÂÆöÂæÆ‰ø°Âè∑Â§±Ë¥•:', err)\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'ÁªëÂÆöÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t} finally {\n\t\t\t\tthis.isLoading = false\n\t\t\t}\n\t\t},\n\t\t\n\t\t// Âä†ËΩΩÁî®Êà∑‰ø°ÊÅØ\n\t\tloadUserInfo() {\n\t\t\tconst userInfo = getUserInfo()\n\t\t\tif (userInfo) {\n\t\t\t\tthis.userInfo = {\n\t\t\t\t\tname: userInfo.realName || userInfo.name || 'Êú™ËÆæÁΩÆ',\n\t\t\t\t\t// Ëã±ÊñáËßíËâ≤ÂÄºÔºàadmin/project_manager/doctor/viewerÔºâÔºåÂ§áÁî®\n\t\t\t\t\trole: userInfo.role,\n\t\t\t\t\t// ‰∏≠ÊñáËßíËâ≤ÊñáÊú¨ÔºàÁÆ°ÁêÜÂëò/È°πÁõÆÁªèÁêÜ/ÂåªÂä°‰∫∫Âëò/Êü•ÁúãËÄÖÔºâÔºåÁî®‰∫éÂ±ïÁ§∫\n\t\t\t\t\troleText: userInfo.roleText || 'Êú™Áü•ËßíËâ≤',\n\t\t\t\t\tdepartment: 'Âåó‰∫¨Ê¨¢‰πêË∞∑ÂåªÂä°ÂÆ§'\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.userInfo = {\n\t\t\t\t\tname: 'Êú™ÁôªÂΩï',\n\t\t\t\t\trole: '',\n\t\t\t\t\troleText: 'ËØ∑ÂÖàÁôªÂΩï',\n\t\t\t\t\tdepartment: 'Âåó‰∫¨Ê¨¢‰πêË∞∑ÂåªÂä°ÂÆ§'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\n\t\t// ÊâãÂä®ÁôªÂΩï\n\t\tasync handleLogin() {\n\t\t\tconsole.log('handleLogin Ë¢´ÁÇπÂáª')\n\t\t\t// ÊâãÂä®ÁÇπÂáªÁôªÂΩïÊó∂ÔºåÊ∏ÖÈô§Êú¨Âú∞ÊóßÁöÑÁôªÂΩïÁºìÂ≠òÔºåÂº∫Âà∂ÈáçÊñ∞Ëµ∞‰∫ëÂáΩÊï∞ÁôªÂΩï\n\t\t\ttry {\n\t\t\t\tif (typeof uni !== 'undefined') {\n\t\t\t\t\tuni.removeStorageSync('isLogin')\n\t\t\t\t\tuni.removeStorageSync('userInfo')\n\t\t\t\t\tuni.removeStorageSync('userRole')\n\t\t\t\t\tuni.removeStorageSync('userId')\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log('Ê∏ÖÈô§Êú¨Âú∞ÁôªÂΩïÁºìÂ≠òÂ§±Ë¥•:', e)\n\t\t\t}\n\t\t\tthis.isLoading = true\n\t\t\tawait this.checkAndLogin()\n\t\t},\n\n\t\t// ÈÄÄÂá∫ÁôªÂΩï\n\t\tlogoutUser() {\n\t\t\ttry {\n\t\t\t\tif (typeof uni !== 'undefined') {\n\t\t\t\t\tuni.removeStorageSync('isLogin')\n\t\t\t\t\tuni.removeStorageSync('userInfo')\n\t\t\t\t\tuni.removeStorageSync('userRole')\n\t\t\t\t\tuni.removeStorageSync('userId')\n\t\t\t\t} else if (typeof wx !== 'undefined') {\n\t\t\t\t\twx.removeStorageSync('isLogin')\n\t\t\t\t\twx.removeStorageSync('userInfo')\n\t\t\t\t\twx.removeStorageSync('userRole')\n\t\t\t\t\twx.removeStorageSync('userId')\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log('ÈÄÄÂá∫ÁôªÂΩïÊó∂Ê∏ÖÈô§ÁºìÂ≠òÂ§±Ë¥•:', e)\n\t\t\t}\n\t\t\tthis.isLoggedIn = false\n\t\t\tthis.userInfo = {\n\t\t\t\tname: 'Êú™ÁôªÂΩï',\n\t\t\t\trole: '',\n\t\t\t\troleText: 'ËØ∑ÂÖàÁôªÂΩï',\n\t\t\t\tdepartment: 'Âåó‰∫¨Ê¨¢‰πêË∞∑ÂåªÂä°ÂÆ§',\n\t\t\t\tavatarUrl: '',\n\t\t\t\twechatAvatarUrl: ''\n\t\t\t}\n\t\t\tthis.avatarLoadError = false\n\t\t\tthis.wechatIdInput = ''\n\t\t\tthis.showWechatBindDialog = false\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'Â∑≤ÈÄÄÂá∫ÁôªÂΩï',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t},\n\t\t\n\t\tupdateTime() {\n\t\t\tconst now = new Date()\n\t\t\t// Ê†ºÂºèÂåñ‰∏∫Ôºö2025/11/9\n\t\t\tconst year = now.getFullYear()\n\t\t\tconst month = now.getMonth() + 1\n\t\t\tconst day = now.getDate()\n\t\t\tthis.lastUpdateTime = `${year}/${month}/${day}`\n\t\t},\n\t\t\n\t\tgoToPage(url) {\n\t\t\t// Ê£ÄÊü•ÁôªÂΩïÁä∂ÊÄÅ\n\t\t\tif (!this.isLoggedIn) {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'ÈúÄË¶ÅÁôªÂΩï',\n\t\t\t\t\tcontent: 'ËØ∑ÂÖàÁôªÂΩïÂêéÂÜç‰ΩøÁî®Ê≠§ÂäüËÉΩ',\n\t\t\t\t\tshowCancel: false,\n\t\t\t\t\tconfirmText: 'ÂéªÁôªÂΩï',\n\t\t\t\t\tconfirmColor: '#667eea',\n\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\tthis.handleLogin()\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\t\n\t\t\t// Âà§Êñ≠ÊòØÂê¶ÊòØtabbarÈ°µÈù¢\n\t\t\tconst tabbarPages = ['/pages/index/index', '/pages/stock/index', '/pages/record/index', '/pages/user/index']\n\t\t\tconst isTabbar = tabbarPages.includes(url)\n\t\t\t\n\t\t\tif (isTabbar) {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: url,\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log('È°µÈù¢Ë∑≥ËΩ¨Â§±Ë¥•:', err)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'Ë∑≥ËΩ¨Â§±Ë¥•',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: url,\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log('È°µÈù¢Ë∑≥ËΩ¨Â§±Ë¥•:', err)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'È°µÈù¢ÂºÄÂèë‰∏≠',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t\n\t\tshowComingSoon() {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: 'ÂäüËÉΩÂç≥Â∞ÜÊé®Âá∫',\n\t\t\t\tcontent: 'ËØ•ÂäüËÉΩÊ≠£Âú®ÂºÄÂèë‰∏≠ÔºåÊï¨ËØ∑ÊúüÂæÖÔºÅ',\n\t\t\t\tshowCancel: false,\n\t\t\t\tconfirmText: 'Áü•ÈÅì‰∫Ü',\n\t\t\t\tconfirmColor: '#667eea'\n\t\t\t})\n\t\t},\n\t\t\n\t\tgoToUserManage() {\n\t\t\t// ‰∏¥Êó∂ÊñπÊ°àÔºöË∑≥ËΩ¨Âà∞ËÆæÁΩÆÈ°µÈù¢ÊàñÊòæÁ§∫ÊèêÁ§∫\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'Áî®Êà∑ÁÆ°ÁêÜÂäüËÉΩÂºÄÂèë‰∏≠',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t},\n\t\t\n\t\tshowAbout() {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: 'ÂÖ≥‰∫éÁ≥ªÁªü',\n\t\t\t\tcontent: 'Âåó‰∫¨Ê¨¢‰πêË∞∑ÂåªÂä°ÂÆ§ÁÆ°ÁêÜÁ≥ªÁªü\\n\\nÁâàÊú¨Ôºöv1.1.2\\nÂºÄÂèëËÄÖÔºö‰∫éÂª∫ÂçéÔºàÂæÆ‰ø°ÔºöbjkfjzÔºâ',\n\t\t\t\tshowCancel: false,\n\t\t\t\tconfirmText: 'Á°ÆÂÆö',\n\t\t\t\tconfirmColor: '#667eea'\n\t\t\t})\n\t\t},\n\t\t\n\t\t// ÊòæÁ§∫Â§¥ÂÉèÈÄâÈ°π\n\t\tshowAvatarOptions() {\n\t\t\tif (!this.isLoggedIn) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'ËØ∑ÂÖàÁôªÂΩï',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\t\n\t\t\tuni.showActionSheet({\n\t\t\t\titemList: ['‰ªéÁõ∏ÂÜåÈÄâÊã©', 'ÊãçÁÖß'],\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.tapIndex === 0) {\n\t\t\t\t\t\tthis.chooseImageFromAlbum()\n\t\t\t\t\t} else if (res.tapIndex === 1) {\n\t\t\t\t\t\tthis.takePhoto()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\t// ‰ªéÁõ∏ÂÜåÈÄâÊã©\n\t\tasync chooseImageFromAlbum() {\n\t\t\tawait this.chooseAndUploadImage(['album'])\n\t\t},\n\t\t\n\t\t// ÊãçÁÖß\n\t\tasync takePhoto() {\n\t\t\tawait this.chooseAndUploadImage(['camera'])\n\t\t},\n\t\t\n\t\t// ÈÄâÊã©Âπ∂‰∏ä‰º†ÂõæÁâá\n\t\tasync chooseAndUploadImage(sourceType) {\n\t\t\ttry {\n\t\t\t\tconst res = await uni.chooseImage({\n\t\t\t\t\tcount: 1,\n\t\t\t\t\tsizeType: ['compressed'],\n\t\t\t\t\tsourceType: sourceType\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '‰∏ä‰º†‰∏≠...'\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tconst tempFilePath = res.tempFilePaths[0]\n\t\t\t\t\n\t\t\t\t// ‰∏ä‰º†Âà∞‰∫ëÂ≠òÂÇ®\n\t\t\t\tconst cloudPath = await this.uploadToCloud(tempFilePath)\n\t\t\t\t\n\t\t\t\t// Êõ¥Êñ∞Êï∞ÊçÆÂ∫ì\n\t\t\t\tawait this.updateAvatar(cloudPath, 'custom')\n\t\t\t\t\n\t\t\t\tuni.hideLoading()\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'Â§¥ÂÉèÂ∑≤Êõ¥Êñ∞',\n\t\t\t\t\ticon: 'success'\n\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('‰∏ä‰º†Â§±Ë¥•Ôºö', err)\n\t\t\t\tuni.hideLoading()\n\t\t\t\tif (err.errMsg && !err.errMsg.includes('cancel')) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '‰∏ä‰º†Â§±Ë¥•',\n\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\n\t\t// ‰∏ä‰º†Âà∞‰∫ëÂ≠òÂÇ®\n\t\tasync uploadToCloud(filePath) {\n\t\t\tconst cloudPath = `avatars/${Date.now()}-${Math.random().toString(36).substr(2, 9)}.jpg`\n\t\t\t\n\t\t\tconst result = await wx.cloud.uploadFile({\n\t\t\t\tcloudPath: cloudPath,\n\t\t\t\tfilePath: filePath\n\t\t\t})\n\t\t\t\n\t\t\treturn result.fileID\n\t\t},\n\t\t\n\t\t// Êõ¥Êñ∞Â§¥ÂÉè\n\t\tasync updateAvatar(avatarUrl, type) {\n\t\t\tconst res = await wx.cloud.callFunction({\n\t\t\t\tname: 'updateMyInfo',\n\t\t\t\tdata: {\n\t\t\t\t\t[type === 'wechat' ? 'wechatAvatarUrl' : 'avatarUrl']: avatarUrl\n\t\t\t\t}\n\t\t\t})\n\t\t\t\n\t\t\t// Êõ¥Êñ∞Êú¨Âú∞\n\t\t\tif (type === 'wechat') {\n\t\t\t\tthis.userInfo.wechatAvatarUrl = avatarUrl\n\t\t\t} else {\n\t\t\t\tthis.userInfo.avatarUrl = avatarUrl\n\t\t\t}\n\t\t\t\n\t\t\tthis.avatarLoadError = false\n\t\t\t\n\t\t\t// Êõ¥Êñ∞ÁºìÂ≠ò\n\t\t\tconst storedUserInfo = uni.getStorageSync('userInfo')\n\t\t\tif (storedUserInfo) {\n\t\t\t\tif (type === 'wechat') {\n\t\t\t\t\tstoredUserInfo.wechatAvatarUrl = avatarUrl\n\t\t\t\t} else {\n\t\t\t\t\tstoredUserInfo.avatarUrl = avatarUrl\n\t\t\t\t}\n\t\t\t\tuni.setStorageSync('userInfo', storedUserInfo)\n\t\t\t}\n\t\t},\n\t\t\n\t\t// Â§¥ÂÉèÂä†ËΩΩÂ§±Ë¥•\n\t\tonAvatarError() {\n\t\t\tconsole.log('Â§¥ÂÉèÂä†ËΩΩÂ§±Ë¥•')\n\t\t\tthis.avatarLoadError = true\n\t\t}\n\t}\n}\n</script>\n\n<style>\n.page {\n\tmin-height: 100vh;\n\t/* ‰ΩøÁî®‰∏éÊä•Ë°®È°µÁõ∏‰ººÁöÑËìùËâ≤Ê∏êÂèòËÉåÊôØ */\n\tbackground: linear-gradient(180deg, #00c9ff 0%, #00a0ff 35%, #e5e7eb 100%);\n\t/* ÂÖºÂÆπÂ∫ïÈÉ®ÂÆâÂÖ®Âå∫ÔºåÈÅøÂÖçË¢´ Tab Ë¶ÜÁõñ */\n\tpadding-bottom: calc(30rpx + constant(safe-area-inset-bottom));\n\tpadding-bottom: calc(30rpx + env(safe-area-inset-bottom));\n}\n\n/* Áî®Êà∑‰ø°ÊÅØÂç°Áâá - ÂåªÁñóÂ∑•‰ΩúÂè∞È£éÊ†º */\n.user-profile {\n\tposition: relative;\n\tpadding: 40rpx 0 16rpx;\n\tbackground: #FFFFF0;\n\tborder-radius: 22rpx;\n\tbox-shadow: 0 8rpx 20rpx rgba(15, 23, 42, 0.12);\n\tmargin-bottom: 10rpx;\n}\n\n.profile-bg {\n\tdisplay: none;\n}\n\n.bg-pattern {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground-image: \n\t\trepeating-linear-gradient(45deg, transparent, transparent 35rpx, rgba(255,255,255,0.05) 35rpx, rgba(255,255,255,0.05) 70rpx);\n}\n\n.profile-content {\n\tmargin: 0 auto;\n\tmax-width: 702rpx;\n\tbackground: #FFFFF0;\n\tborder-radius: 22rpx;\n\tpadding: 30rpx 26rpx;\n\tbox-shadow:\n\t\t0 1rpx 0 rgba(255,255,255,0.9) inset,\n\t\t0 -1rpx 0 rgba(15,23,42,0.06) inset,\n\t\t0 18rpx 40rpx rgba(15, 23, 42, 0.14);\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 20rpx;\n}\n\n.avatar-wrapper {\n\tposition: relative;\n}\n\n.avatar-circle {\n\twidth: 100rpx;\n\theight: 100rpx;\n\t/* Â§¥ÂÉèÂúÜ‰ΩøÁî®‰∏éÈ¶ñÈ°µ Logo Áõ∏ËøëÁöÑËìùÁªøÊ∏êÂèò */\n\tbackground: linear-gradient(145deg, #2a91e9 0%, #22c1c3 45%, #e0f7ff 100%);\n\tborder-radius: 50%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tbox-shadow: 0 10rpx 24rpx rgba(15, 23, 42, 0.3);\n\tborder: 5rpx solid #ffffff;\n\toverflow: hidden;\n}\n\n.avatar-img {\n\twidth: 100%;\n\theight: 100%;\n\tborder-radius: 50%;\n}\n\n.avatar-icon {\n\tfont-size: 50rpx;\n\tcolor: #ffffff;\n\tfilter: drop-shadow(0 2rpx 4rpx rgba(0,0,0,0.2));\n}\n\n.camera-icon {\n\tposition: absolute;\n\tbottom: 0;\n\tright: 0;\n\twidth: 30rpx;\n\theight: 30rpx;\n\tbackground: #ffffff;\n\tborder-radius: 50%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tfont-size: 18rpx;\n\tbox-shadow: 0 2rpx 8rpx rgba(0,0,0,0.2);\n\tz-index: 2;\n}\n\n.online-indicator {\n\tposition: absolute;\n\tbottom: 3rpx;\n\tright: 3rpx;\n\twidth: 20rpx;\n\theight: 20rpx;\n\tbackground: #10b981;\n\tborder-radius: 50%;\n\tborder: 3rpx solid #ffffff;\n\tbox-shadow: 0 0 0 4rpx rgba(16, 185, 129, 0.3);\n}\n\n.user-details {\n\tflex: 1;\n}\n\n.user-name {\n\tdisplay: block;\n\tfont-size: 34rpx;\n\tfont-weight: 700;\n\tcolor: #1e293b;\n\tmargin-bottom: 10rpx;\n}\n\n.user-role {\n\tdisplay: block;\n\tfont-size: 26rpx;\n\tcolor: #64748b;\n\tmargin-bottom: 15rpx;\n}\n\n.user-dept-tag {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tgap: 8rpx;\n\tbackground: linear-gradient(135deg, #f0f4f8 0%, #e2e8f0 100%);\n\tpadding: 8rpx 16rpx;\n\tborder-radius: 20rpx;\n}\n\n.dept-icon {\n\tfont-size: 20rpx;\n}\n\n.dept-text {\n\tfont-size: 22rpx;\n\tcolor: #475569;\n}\n\n/* ÂäüËÉΩËèúÂçï */\n.menu-section {\n\tmargin-top: 24rpx;\n\tpadding: 0 20rpx 36rpx;\n}\n\n.menu-group {\n\tmargin: 0 auto 26rpx;\n\tmax-width: 710rpx;\n\tbackground: #FFFFF0;\n\tborder-radius: 24rpx;\n\tpadding: 22rpx 18rpx 10rpx;\n\tbox-shadow: 0 8rpx 20rpx rgba(15, 23, 42, 0.12);\n}\n\n.group-header {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 12rpx;\n\tmargin-bottom: 15rpx;\n}\n\n.group-icon {\n\tfont-size: 28rpx;\n}\n\n.group-title {\n\tfont-size: 28rpx;\n\tfont-weight: 600;\n\tcolor: #2c3e50;\n}\n\n.menu-items {\n\t/* ÂÆπÂô®Êú¨Ë∫´‰∏çÂÜç‰Ωú‰∏∫‰∏ÄÊï¥ÂùóÂç°ÁâáÔºå‰ªÖË¥üË¥£ÂûÇÁõ¥ÊéíÂàóÂ≠êÂç°Áâá */\n\tbackground: transparent;\n}\n\n.menu-item {\n\tdisplay: flex;\n\talign-items: center;\n\tpadding: 18rpx 22rpx;\n\tmargin: 4rpx 2rpx 10rpx;\n\tborder-radius: 18rpx;\n\tbackground: rgba(255, 255, 255, 0.96);\n\tborder: 1rpx solid #e2e8f0;\n\tbox-shadow: 0 2rpx 6rpx rgba(15, 23, 42, 0.06);\n\ttransition: all 0.3s;\n\tposition: relative;\n}\n\n.menu-item:last-child {\n\tmargin-bottom: 0;\n}\n\n.menu-item:active {\n\tbackground: #f8fafc;\n}\n\n.menu-icon-wrapper {\n\twidth: 64rpx;\n\theight: 64rpx;\n\tborder-radius: 16rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 20rpx;\n\tflex-shrink: 0;\n}\n\n.menu-icon-wrapper.blue { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }\n.menu-icon-wrapper.green { background: linear-gradient(135deg, #10b981 0%, #059669 100%); }\n.menu-icon-wrapper.pink { background: linear-gradient(135deg, #ec4899 0%, #be185d 100%); }\n.menu-icon-wrapper.purple { background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); }\n.menu-icon-wrapper.orange { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); }\n.menu-icon-wrapper.teal { background: linear-gradient(135deg, #14b8a6 0%, #0d9488 100%); }\n.menu-icon-wrapper.gray { background: linear-gradient(135deg, #64748b 0%, #475569 100%); }\n.menu-icon-wrapper.indigo { background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%); }\n\n.menu-icon {\n\tfont-size: 26rpx;\n}\n\n.menu-content {\n\tflex: 1;\n}\n\n.menu-title {\n\tdisplay: block;\n\tfont-size: 30rpx;\n\tfont-weight: 650;\n\tcolor: #1e293b;\n\tmargin-bottom: 6rpx;\n}\n\n.menu-desc {\n\tdisplay: block;\n\tfont-size: 22rpx;\n\tcolor: #94a3b8;\n}\n\n.menu-arrow {\n\tfont-size: 24rpx;\n\tcolor: #cbd5e1;\n\tfont-weight: bold;\n\tmargin-left: 15rpx;\n}\n\n/* Á≥ªÁªü‰ø°ÊÅØÈù¢Êùø */\n.system-panel {\n\tpadding: 0 24rpx 30rpx;\n\tmargin-top: 12rpx;\n}\n\n.panel-header {\n\tmargin-bottom: 15rpx;\n}\n\n.panel-title {\n\tfont-size: 28rpx;\n\tfont-weight: bold;\n\tcolor: #2c3e50;\n}\n\n.info-grid {\n\tbackground: #FFFFF0;\n\tborder-radius: 20rpx;\n\tpadding: 25rpx 26rpx;\n\tbox-shadow:\n\t\t0 1rpx 0 rgba(255,255,255,0.9) inset,\n\t\t0 -1rpx 0 rgba(15,23,42,0.04) inset,\n\t\t0 14rpx 32rpx rgba(15,23,42,0.12);\n\tdisplay: grid;\n\tgrid-template-columns: repeat(3, 1fr);\n\tgap: 25rpx;\n}\n\n.info-item {\n\ttext-align: center;\n}\n\n.info-icon-wrapper {\n\twidth: 56rpx;\n\theight: 56rpx;\n\tbackground: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);\n\tborder-radius: 14rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin: 0 auto 12rpx;\n}\n\n.info-icon-wrapper.online {\n\tbackground: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);\n}\n\n.info-icon {\n\tfont-size: 28rpx;\n\tcolor: #64748b;\n}\n\n.info-icon-wrapper.online .info-icon {\n\tcolor: #10b981;\n\tfont-weight: bold;\n}\n\n.info-label {\n\tdisplay: block;\n\tfont-size: 22rpx;\n\tcolor: #94a3b8;\n\tmargin-bottom: 6rpx;\n}\n\n.info-value {\n\tdisplay: block;\n\tfont-size: 24rpx;\n\tfont-weight: 600;\n\tcolor: #475569;\n}\n\n.info-value.success {\n\tcolor: #10b981;\n}\n\n/* ÁôªÂΩïÊåâÈíÆ */\n.login-btn-wrapper {\n\tmargin-top: 20rpx;\n}\n\n.login-btn {\n\tbackground: linear-gradient(135deg, #2a91e9 0%, #22c1c3 100%);\n\tpadding: 16rpx 32rpx;\n\tborder-radius: 40rpx;\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n\tbox-shadow: 0 4rpx 12rpx rgba(37, 99, 235, 0.35);\n\ttransition: all 0.3s;\n}\n\n.login-btn.loading {\n\topacity: 0.7;\n}\n\n.login-btn:active:not(.loading) {\n\ttransform: scale(0.98);\n\tbox-shadow: 0 2rpx 8rpx rgba(102, 126, 234, 0.4);\n}\n\n.login-btn-text {\n\tcolor: #ffffff;\n\tfont-size: 26rpx;\n\tfont-weight: 500;\n}\n\n/* ÁªëÂÆöÂæÆ‰ø°Âè∑ÂºπÁ™ó */\n.bind-mask {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground: rgba(0, 0, 0, 0.45);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tz-index: 9999;\n}\n\n.bind-dialog {\n\twidth: 80%;\n\tmax-width: 640rpx;\n\tbackground: #ffffff;\n\tborder-radius: 20rpx;\n\tpadding: 32rpx 28rpx 24rpx;\n\tbox-shadow: 0 16rpx 40rpx rgba(15, 23, 42, 0.25);\n}\n\n.bind-title {\n\tdisplay: block;\n\tfont-size: 32rpx;\n\tfont-weight: 600;\n\tcolor: #111827;\n\tmargin-bottom: 12rpx;\n}\n\n.bind-desc {\n\tdisplay: block;\n\tfont-size: 24rpx;\n\tcolor: #6b7280;\n\tline-height: 1.5;\n\tmargin-bottom: 20rpx;\n}\n\n.bind-input {\n\twidth: 100%;\n\tbox-sizing: border-box;\n\tborder: 1rpx solid #e5e7eb;\n\tborder-radius: 999rpx;\n\tpadding: 14rpx 22rpx;\n\tfont-size: 26rpx;\n\tmargin-bottom: 24rpx;\n\tbackground-color: #f9fafb;\n}\n\n.bind-actions {\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tgap: 16rpx;\n}\n\n.bind-btn {\n\tmin-width: 140rpx;\n\tpadding: 12rpx 20rpx;\n\tborder-radius: 999rpx;\n\tfont-size: 26rpx;\n\tline-height: 1.4;\n\ttext-align: center;\n}\n\n.bind-btn.cancel {\n\tbackground-color: #e5e7eb;\n\tcolor: #374151;\n}\n\n.bind-btn.confirm {\n\tbackground: linear-gradient(135deg, #2a91e9 0%, #22c1c3 100%);\n\tcolor: #ffffff;\n}\n</style>","import mod from \"-!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1767327913268\n      var cssReload = require(\"D:/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}