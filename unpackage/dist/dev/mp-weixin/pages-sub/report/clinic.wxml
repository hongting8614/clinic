<view class="container data-v-0f40b62d"><view class="page-header data-v-0f40b62d"><view class="page-header-inner data-v-0f40b62d"><text class="page-title data-v-0f40b62d">{{reportTitle}}</text></view></view><view class="filter-card data-v-0f40b62d"><view class="filter-row data-v-0f40b62d"><view class="filter-item data-v-0f40b62d"><text class="label data-v-0f40b62d">å¼€å§‹æ—¥æœŸ</text><picker mode="date" value="{{filters.startDate}}" data-event-opts="{{[['change',[['onStartDateChange',['$event']]]]]}}" bindchange="__e" class="data-v-0f40b62d"><view class="picker-text data-v-0f40b62d">{{filters.startDate||'è¯·é€‰æ‹©'}}</view></picker></view><view class="filter-item data-v-0f40b62d"><text class="label data-v-0f40b62d">ç»“æŸæ—¥æœŸ</text><picker mode="date" value="{{filters.endDate}}" data-event-opts="{{[['change',[['onEndDateChange',['$event']]]]]}}" bindchange="__e" class="data-v-0f40b62d"><view class="picker-text data-v-0f40b62d">{{filters.endDate||'è¯·é€‰æ‹©'}}</view></picker></view></view><view class="filter-row data-v-0f40b62d"><view class="filter-item data-v-0f40b62d"><text class="label data-v-0f40b62d">å§“å</text><input class="input data-v-0f40b62d" placeholder="è¾“å…¥å§“åï¼Œæ”¯æŒæ¨¡ç³ŠæŸ¥è¯¢" data-event-opts="{{[['confirm',[['fetchRecords',['$event']]]],['input',[['__set_model',['$0','name','$event',['trim']],['filters']]]],['blur',[['$forceUpdate']]]]}}" value="{{filters.name}}" bindconfirm="__e" bindinput="__e" bindblur="__e"/></view><view class="filter-item data-v-0f40b62d"><text class="label data-v-0f40b62d">å›­åŒº</text><picker mode="selector" range="{{locationOptions}}" value="{{locationIndex}}" data-event-opts="{{[['change',[['onLocationChange',['$event']]]]]}}" bindchange="__e" class="data-v-0f40b62d"><view class="picker-text data-v-0f40b62d">{{currentLocationLabel}}</view></picker></view></view><view class="filter-actions data-v-0f40b62d"><button data-event-opts="{{[['tap',[['resetFilters',['$event']]]]]}}" class="btn ghost data-v-0f40b62d" bindtap="__e">é‡ç½®</button><button data-event-opts="{{[['tap',[['fetchRecords',['$event']]]]]}}" class="btn primary data-v-0f40b62d" bindtap="__e">æŸ¥è¯¢</button><button data-event-opts="{{[['tap',[['openExportOptions',['$event']]]]]}}" class="btn export data-v-0f40b62d" bindtap="__e">å¯¼å‡º â–¾</button></view></view><view class="list-section data-v-0f40b62d"><block wx:if="{{$root.g0}}"><view class="record-list data-v-0f40b62d"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="record-card data-v-0f40b62d"><view class="record-header data-v-0f40b62d"><text class="record-time data-v-0f40b62d">{{item.m0}}</text><block wx:if="{{item.$orig.location}}"><view class="record-location-wrap data-v-0f40b62d"><text class="record-location data-v-0f40b62d">{{item.$orig.location==='land_park'?'é™†å›­':item.$orig.location==='water_park'?'æ°´å›­':'ä¸é™å›­åŒº'}}</text></view></block></view><view class="record-main-row data-v-0f40b62d"><view class="record-main-left data-v-0f40b62d"><text class="record-name data-v-0f40b62d">{{item.$orig.name||'-'}}</text><block wx:if="{{item.$orig.gender||item.$orig.age}}"><text class="record-sub data-v-0f40b62d">{{''+(item.$orig.gender||'')}}<block wx:if="{{item.$orig.gender&&item.$orig.age}}"><text class="data-v-0f40b62d"> Â· </text></block>{{(item.$orig.age?item.$orig.age+'å²':'')+''}}</text></block></view><view class="record-main-right data-v-0f40b62d"><block wx:if="{{item.$orig.identity}}"><text class="record-tag data-v-0f40b62d">{{item.$orig.identity}}</text></block><block wx:if="{{item.$orig.isOutcall||item.$orig.visitType}}"><text class="record-tag type data-v-0f40b62d">{{''+(item.$orig.isOutcall||item.$orig.visitType==='outcall'?'å‡ºè¯Š':'é—¨è¯Š')+''}}</text></block></view></view><block wx:if="{{item.$orig.chiefComplaint}}"><view class="record-field data-v-0f40b62d"><text class="field-label data-v-0f40b62d">ä¸»è¯‰</text><text class="field-value data-v-0f40b62d">{{item.$orig.chiefComplaint}}</text></view></block><block wx:if="{{item.$orig.diagnosis}}"><view class="record-field data-v-0f40b62d"><text class="field-label data-v-0f40b62d">è¯Šæ–­</text><text class="field-value data-v-0f40b62d">{{item.$orig.diagnosis}}</text></view></block><block wx:if="{{(item.$orig.isOutcall||item.$orig.visitType==='outcall')&&item.$orig.injuryLocation}}"><view class="record-field data-v-0f40b62d"><text class="field-label data-v-0f40b62d">å‡ºè¯Šåœ°ç‚¹</text><text class="field-value data-v-0f40b62d">{{item.$orig.injuryLocation}}</text></view></block><block wx:if="{{item.m1}}"><view class="record-field data-v-0f40b62d"><text class="field-label data-v-0f40b62d">ç”¨è¯</text><text class="field-value data-v-0f40b62d">{{item.m2}}</text></view></block><block wx:if="{{item.$orig.remark}}"><view class="record-field data-v-0f40b62d"><text class="field-label data-v-0f40b62d">å¤‡æ³¨</text><text class="field-value data-v-0f40b62d">{{item.$orig.remark}}</text></view></block><view class="record-footer data-v-0f40b62d"><text class="field-label data-v-0f40b62d">åŒ»ç”Ÿ</text><text class="field-value data-v-0f40b62d">{{item.$orig.doctorName||'-'}}</text></view></view></block></view></block><block wx:else><view class="empty-state data-v-0f40b62d"><text class="empty-icon data-v-0f40b62d">ğŸ“‹</text><text class="empty-text data-v-0f40b62d">æš‚æ— é—¨è¯Šè®°å½•</text><text class="empty-hint data-v-0f40b62d">è¯·é€‰æ‹©å§“å / å›­åŒº / æ—¶é—´æ®µåç‚¹å‡»æŸ¥è¯¢</text></view></block></view></view>