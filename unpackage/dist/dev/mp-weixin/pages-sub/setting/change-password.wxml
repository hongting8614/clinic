<view class="page data-v-040980e3"><view class="page-header data-v-040980e3"><view class="header-content data-v-040980e3"><text class="header-title data-v-040980e3">修改密码</text></view><view data-event-opts="{{[['tap',[['goResetPassword',['$event']]]]]}}" class="forgot-password-link data-v-040980e3" bindtap="__e"><text class="link-text data-v-040980e3">忘记密码？</text></view></view><view class="form-card data-v-040980e3"><view class="form-item data-v-040980e3"><view class="form-label data-v-040980e3"><text class="label-text data-v-040980e3">当前密码</text><block wx:if="{{hasPassword}}"><text class="required data-v-040980e3">*</text></block><block wx:else><text class="optional data-v-040980e3">（首次设置可留空）</text></block></view><input class="form-input data-v-040980e3" type="password" placeholder="{{hasPassword?'请输入当前密码':'首次设置密码可留空'}}" password="{{!showOldPassword}}" data-event-opts="{{[['input',[['__set_model',['$0','oldPassword','$event',[]],['form']]]]]}}" value="{{form.oldPassword}}" bindinput="__e"/><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="password-toggle data-v-040980e3" bindtap="__e"><text class="toggle-icon data-v-040980e3">{{showOldPassword?'👁️':'👁️‍🗨️'}}</text></view></view><view class="form-item data-v-040980e3"><view class="form-label data-v-040980e3"><text class="label-text data-v-040980e3">新密码</text><text class="required data-v-040980e3">*</text></view><input class="form-input data-v-040980e3" type="password" placeholder="请输入新密码（不少于8位，包含大小写字母和数字）" password="{{!showNewPassword}}" data-event-opts="{{[['input',[['__set_model',['$0','newPassword','$event',[]],['form']]]]]}}" value="{{form.newPassword}}" bindinput="__e"/><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="password-toggle data-v-040980e3" bindtap="__e"><text class="toggle-icon data-v-040980e3">{{showNewPassword?'👁️':'👁️‍🗨️'}}</text></view></view><block wx:if="{{form.newPassword}}"><view class="password-tips data-v-040980e3"><view class="{{['tip-item','data-v-040980e3',(hasLength)?'valid':'']}}"><text class="tip-icon data-v-040980e3">{{hasLength?'✓':'○'}}</text><text class="tip-text data-v-040980e3">至少8位</text></view><view class="{{['tip-item','data-v-040980e3',(hasUpperCase)?'valid':'']}}"><text class="tip-icon data-v-040980e3">{{hasUpperCase?'✓':'○'}}</text><text class="tip-text data-v-040980e3">包含大写字母</text></view><view class="{{['tip-item','data-v-040980e3',(hasLowerCase)?'valid':'']}}"><text class="tip-icon data-v-040980e3">{{hasLowerCase?'✓':'○'}}</text><text class="tip-text data-v-040980e3">包含小写字母</text></view><view class="{{['tip-item','data-v-040980e3',(hasNumber)?'valid':'']}}"><text class="tip-icon data-v-040980e3">{{hasNumber?'✓':'○'}}</text><text class="tip-text data-v-040980e3">包含数字</text></view></view></block><view class="form-item data-v-040980e3"><view class="form-label data-v-040980e3"><text class="label-text data-v-040980e3">确认新密码</text><text class="required data-v-040980e3">*</text></view><input class="form-input data-v-040980e3" type="password" placeholder="请再次输入新密码" password="{{!showConfirmPassword}}" data-event-opts="{{[['input',[['__set_model',['$0','confirmPassword','$event',[]],['form']]]]]}}" value="{{form.confirmPassword}}" bindinput="__e"/><view data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" class="password-toggle data-v-040980e3" bindtap="__e"><text class="toggle-icon data-v-040980e3">{{showConfirmPassword?'👁️':'👁️‍🗨️'}}</text></view></view><block wx:if="{{form.confirmPassword&&form.newPassword!==form.confirmPassword}}"><view class="error-tip data-v-040980e3"><text class="error-icon data-v-040980e3">⚠️</text><text class="error-text data-v-040980e3">两次输入的密码不一致</text></view></block></view><view class="submit-container data-v-040980e3"><view data-event-opts="{{[['tap',[['handleSubmit',['$event']]]]]}}" class="submit-btn data-v-040980e3" bindtap="__e"><text class="submit-text data-v-040980e3">确认修改</text></view></view></view>