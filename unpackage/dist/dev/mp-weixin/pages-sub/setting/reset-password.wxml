<view class="page data-v-162f2ade"><view class="page-header data-v-162f2ade"><view class="header-content data-v-162f2ade"><text class="header-title data-v-162f2ade">重置密码</text></view></view><view class="form-card data-v-162f2ade"><view class="form-item data-v-162f2ade"><view class="form-label data-v-162f2ade"><text class="label-text data-v-162f2ade">微信号</text><text class="required data-v-162f2ade">*</text></view><input class="form-input data-v-162f2ade" placeholder="请输入您的微信号" disabled="{{step>1}}" data-event-opts="{{[['input',[['__set_model',['$0','wechatId','$event',[]],['form']]]]]}}" value="{{form.wechatId}}" bindinput="__e"/><view class="form-hint data-v-162f2ade"><text class="hint-text data-v-162f2ade">请输入您注册时使用的微信号</text></view></view><block wx:if="{{step>=2}}"><view class="form-item data-v-162f2ade"><view class="form-label data-v-162f2ade"><text class="label-text data-v-162f2ade">验证码</text><text class="required data-v-162f2ade">*</text></view><view class="code-input-row data-v-162f2ade"><input class="form-input code-input data-v-162f2ade" placeholder="请输入6位验证码" type="number" maxlength="6" data-event-opts="{{[['input',[['__set_model',['$0','verifyCode','$event',[]],['form']]]]]}}" value="{{form.verifyCode}}" bindinput="__e"/><view data-event-opts="{{[['tap',[['sendVerifyCode',['$event']]]]]}}" class="{{['send-code-btn','data-v-162f2ade',(countdown>0)?'disabled':'']}}" bindtap="__e"><text class="code-btn-text data-v-162f2ade">{{countdown>0?countdown+'秒后重发':'发送验证码'}}</text></view></view><view class="form-hint data-v-162f2ade"><text class="hint-text data-v-162f2ade">验证码已发送到您的微信，请查收</text></view></view></block><block wx:if="{{step>=3}}"><view class="form-item data-v-162f2ade"><view class="form-label data-v-162f2ade"><text class="label-text data-v-162f2ade">新密码</text><text class="required data-v-162f2ade">*</text></view><input class="form-input data-v-162f2ade" type="password" placeholder="请输入新密码（不少于8位，包含大小写字母和数字）" password="{{!showNewPassword}}" data-event-opts="{{[['input',[['__set_model',['$0','newPassword','$event',[]],['form']]]]]}}" value="{{form.newPassword}}" bindinput="__e"/><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="password-toggle data-v-162f2ade" bindtap="__e"><text class="toggle-icon data-v-162f2ade">{{showNewPassword?'👁️':'👁️‍🗨️'}}</text></view></view></block><block wx:if="{{step>=3&&form.newPassword}}"><view class="password-tips data-v-162f2ade"><view class="{{['tip-item','data-v-162f2ade',(hasLength)?'valid':'']}}"><text class="tip-icon data-v-162f2ade">{{hasLength?'✓':'○'}}</text><text class="tip-text data-v-162f2ade">至少8位</text></view><view class="{{['tip-item','data-v-162f2ade',(hasUpperCase)?'valid':'']}}"><text class="tip-icon data-v-162f2ade">{{hasUpperCase?'✓':'○'}}</text><text class="tip-text data-v-162f2ade">包含大写字母</text></view><view class="{{['tip-item','data-v-162f2ade',(hasLowerCase)?'valid':'']}}"><text class="tip-icon data-v-162f2ade">{{hasLowerCase?'✓':'○'}}</text><text class="tip-text data-v-162f2ade">包含小写字母</text></view><view class="{{['tip-item','data-v-162f2ade',(hasNumber)?'valid':'']}}"><text class="tip-icon data-v-162f2ade">{{hasNumber?'✓':'○'}}</text><text class="tip-text data-v-162f2ade">包含数字</text></view></view></block><block wx:if="{{step>=3}}"><view class="form-item data-v-162f2ade"><view class="form-label data-v-162f2ade"><text class="label-text data-v-162f2ade">确认新密码</text><text class="required data-v-162f2ade">*</text></view><input class="form-input data-v-162f2ade" type="password" placeholder="请再次输入新密码" password="{{!showConfirmPassword}}" data-event-opts="{{[['input',[['__set_model',['$0','confirmPassword','$event',[]],['form']]]]]}}" value="{{form.confirmPassword}}" bindinput="__e"/><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="password-toggle data-v-162f2ade" bindtap="__e"><text class="toggle-icon data-v-162f2ade">{{showConfirmPassword?'👁️':'👁️‍🗨️'}}</text></view></view></block><block wx:if="{{step>=3&&form.confirmPassword&&form.newPassword!==form.confirmPassword}}"><view class="error-tip data-v-162f2ade"><text class="error-icon data-v-162f2ade">⚠️</text><text class="error-text data-v-162f2ade">两次输入的密码不一致</text></view></block></view><view class="submit-container data-v-162f2ade"><block wx:if="{{step===1}}"><view data-event-opts="{{[['tap',[['handleNext',['$event']]]]]}}" class="submit-btn data-v-162f2ade" bindtap="__e"><text class="submit-text data-v-162f2ade">下一步：发送验证码</text></view></block><block wx:if="{{step===2}}"><view data-event-opts="{{[['tap',[['handleVerify',['$event']]]]]}}" class="submit-btn data-v-162f2ade" bindtap="__e"><text class="submit-text data-v-162f2ade">验证验证码</text></view></block><block wx:if="{{step===3}}"><view data-event-opts="{{[['tap',[['handleReset',['$event']]]]]}}" class="submit-btn data-v-162f2ade" bindtap="__e"><text class="submit-text data-v-162f2ade">确认重置密码</text></view></block></view></view>