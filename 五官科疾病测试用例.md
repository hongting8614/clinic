# 🧪 五官科疾病测试用例

> **测试目标**：验证五官科外伤及常见疾病的症状识别和诊断建议功能  
> **测试日期**：2025-12-26  
> **版本**：v3.17.0

---

## 📋 测试准备

### 环境要求
- 微信开发者工具
- 已部署 clinicRecords 云函数
- symptomStandardizer.js 已更新

### 测试账号
- 测试医生账号
- 测试园区：陆园/水园

---

## 🔬 测试用例

### 一、眼科疾病测试

#### 测试用例 1.1：眼部异物
**测试场景**：游客眼睛进沙子

| 项目 | 内容 |
|------|------|
| **主诉** | 眼睛进沙子 |
| **预期症状编码** | ENT101（眼部异物感） |
| **预期诊断** | 眼部异物 (ENT-01) |
| **预期处置** | 冲洗眼部、取出异物、抗生素眼药水 |
| **预期用药** | 生理盐水、左氧氟沙星滴眼液、红霉素眼膏 |
| **紧急程度** | urgent: true |

**测试步骤**：
```
1. 进入门诊登记页面
2. 输入主诉："眼睛进沙子"
3. 点击"获取诊断建议"
4. 验证诊断建议是否为"眼部异物"
5. 验证用药���议是否包含"生理盐水"、"左氧氟沙星滴眼液"
```

**预期结果**：
- ✅ 识别出 ENT101 症状编码
- ✅ 匹配到 ENT-01 疾病规则
- ✅ 显示正确的处置方案
- ✅ 标记为紧急情况

---

#### 测试用例 1.2：急性结膜炎（红眼病）
**测试场景**：游客眼睛红、有分泌物

| 项目 | 内容 |
|------|------|
| **主诉** | 眼睛红、眼屎多 |
| **预期症状编码** | ENT103（眼红）、ENT107（眼部分泌物） |
| **预期诊断** | 急性结膜炎（红眼病） (ENT-02) |
| **预期处置** | 抗生素或抗病毒眼药水、避免揉眼 |
| **预期用药** | 左氧氟沙星滴眼液、利巴韦林滴眼液、红霉素眼膏 |
| **紧急程度** | urgent: false |

**测试步骤**：
```
1. 输入主诉："眼睛红、眼屎多"
2. 获取诊断建议
3. 验证诊断和用药
```

---

#### 测试用例 1.3：眼部外伤
**测试场景**：碰撞导致眼部受伤

| 项目 | 内容 |
|------|------|
| **主诉** | 眼睛痛、眼睛红 |
| **预期症状编码** | ENT102（眼痛）、ENT103（眼红） |
| **预期诊断** | 眼部外伤 (ENT-03) |
| **预期处置** | 冷敷、抗生素眼药水、必要时转诊眼科 |
| **预期用药** | 左氧氟沙星滴眼液、红霉素眼膏 |
| **紧急程度** | urgent: true |

---

### 二、耳科疾病测试

#### 测试用例 2.1：耳道异物
**测试场景**：虫子飞进耳朵

| 项目 | 内容 |
|------|------|
| **主诉** | 虫子飞进耳朵 |
| **预期症状编码** | ENT206（耳部异物感） |
| **预期诊断** | 耳道异物 (ENT-05) |
| **预期处置** | 取出异物、冲洗耳道、抗生素滴耳 |
| **预期用药** | 氧氟沙星滴耳液 |
| **紧急程度** | urgent: true |

**测试步骤**：
```
1. 输入主诉："虫子飞进耳朵"
2. 获取诊断建议
3. 验证诊断为"耳道异物"
4. 验证标记为紧急情况
```

---

#### 测试用例 2.2：急性中耳炎
**测试场景**：游泳后耳朵痛

| 项目 | 内容 |
|------|------|
| **主诉** | 耳朵痛、听不清 |
| **预期症状编码** | ENT201（耳痛）、ENT203（听力下降） |
| **预期诊断** | 急性中耳炎 (ENT-04) |
| **预期处置** | 抗生素、止痛、局部滴耳 |
| **预期用药** | 阿莫西林、布洛芬、氧氟沙星滴耳液 |
| **紧急程度** | urgent: false |

---

#### 测试用例 2.3：外耳道炎
**测试场景**：掏耳不当导致发炎

| 项目 | 内容 |
|------|------|
| **主诉** | 耳朵痛、耳朵堵 |
| **预期症状编码** | ENT201（耳痛）、ENT205（耳闷） |
| **预期诊断** | 外耳道炎 (ENT-06) |
| **预期处置** | 局部清洁、抗生素滴耳、止痛 |
| **预期用药** | 氧氟沙星滴耳液、布洛芬 |
| **紧急程度** | urgent: false |

---

### 三、鼻科疾病测试

#### 测试用例 3.1：鼻出血
**测试场景**：碰撞后流鼻血

| 项目 | 内容 |
|------|------|
| **主诉** | 流鼻血 |
| **预期症状编码** | ENT301（鼻出血） |
| **预期诊断** | 鼻出血 (ENT-07) |
| **预期处置** | 压迫止血、冷敷、填塞止血 |
| **预期用药** | 云南白药、肾上腺素棉片、凝血酶 |
| **紧急程度** | urgent: true |

**测试步骤**：
```
1. 输入主诉："流鼻血"
2. 获取诊断建议
3. 验证诊断为"鼻出血"
4. 验证标记为紧急情况
5. 验证处置方案包含"压迫止血"
```

---

#### 测试用例 3.2：急性鼻炎
**测试场景**：感冒后鼻塞流涕

| 项目 | 内容 |
|------|------|
| **主诉** | 鼻子堵、流鼻涕 |
| **预期症状编码** | ENT302（鼻塞）、ENT303（流涕） |
| **预期诊断** | 急性鼻炎 (ENT-08) |
| **预期处置** | 对症治疗、鼻腔冲洗、抗过敏 |
| **预期用药** | 氯雷他定、布地奈德鼻喷剂、生理盐水鼻喷 |
| **紧急程度** | urgent: false |

---

#### 测试用例 3.3：鼻腔异物
**测试场景**：儿童鼻子塞入异物

| 项目 | 内容 |
|------|------|
| **主诉** | 鼻子进东西 |
| **预期症状编码** | ENT306（鼻部异物） |
| **预期诊断** | 鼻腔异物 (ENT-09) |
| **预期处置** | 取出异物、冲洗鼻腔 |
| **预期用药** | 生理盐水、抗生素鼻喷剂 |
| **紧急程度** | urgent: true |

---

### 四、咽喉科疾病测试

#### 测试用例 4.1：急性咽炎
**测试场景**：受凉后喉咙痛

| 项目 | 内容 |
|------|------|
| **主诉** | 喉咙痛 |
| **预期症状编码** | ENT401（咽痛） |
| **预期诊断** | 急性咽炎 (ENT-10) |
| **预期处置** | 抗生素、含片、多饮水 |
| **预期用药** | 阿莫西林、西瓜霜含片、布洛芬 |
| **紧急程度** | urgent: false |

**测试步骤**：
```
1. 输入主诉："喉咙痛"
2. 获取诊断建议
3. 验证诊断为"急性咽炎"
4. 验证用药包含"西瓜霜含片"
```

---

#### 测试用例 4.2：急性扁桃体炎
**测试场景**：喉咙痛伴发烧

| 项目 | 内容 |
|------|------|
| **主诉** | 喉咙痛、发烧 |
| **预期症状编码** | ENT401（咽痛）、GE001（发热） |
| **预期诊断** | 急性扁桃体炎 (ENT-11) |
| **预期处置** | 抗生素、退热、止痛 |
| **预期用药** | 阿莫西林、对乙酰氨基酚、西瓜霜含片 |
| **紧急程度** | urgent: false |

---

#### 测试用例 4.3：咽部异物（鱼刺卡喉）
**测试场景**：吃鱼时鱼刺卡喉

| 项目 | 内容 |
|------|------|
| **主诉** | 鱼刺卡喉 |
| **预期症状编码** | ENT402（咽部异物感） |
| **预期诊断** | 咽部异物（鱼刺卡喉） (ENT-12) |
| **预期处置** | 取出异物、必要时转诊耳鼻喉科 |
| **预期用药** | 利多卡因喷雾 |
| **紧急程度** | urgent: true |

**测试步骤**：
```
1. 输入主诉："鱼刺卡喉"
2. 获取诊断建议
3. 验证诊断为"咽部异物（鱼刺卡喉）"
4. 验证标记为紧急情况
5. 验证处置包含"转诊耳鼻喉科"
```

---

### 五、口腔科疾病测试

#### 测试用例 5.1：急性牙痛
**��试场景**：龋齿导致牙痛

| 项目 | 内容 |
|------|------|
| **主诉** | 牙疼 |
| **预期症状编码** | ENT501（牙痛） |
| **预期诊断** | 急性牙痛 (ENT-13) |
| **预期处置** | 止痛、抗生素、建议转诊牙科 |
| **预期用药** | 布洛芬、甲硝唑、人工牛黄甲硝唑 |
| **紧急程度** | urgent: false |

**测试步骤**：
```
1. 输入主诉："牙疼"
2. 获取诊断建议
3. 验证诊断为"急性牙痛"
4. 验证处置包含"建议转诊牙科"
```

---

#### 测试用例 5.2：口腔溃疡
**测试场景**：上火导致口腔溃疡

| 项目 | 内容 |
|------|------|
| **主诉** | 嘴里溃疡 |
| **预期症状编码** | ENT504（口腔溃疡） |
| **预期诊断** | 口腔溃疡 (ENT-14) |
| **预期处置** | 局部用药、维生素补充 |
| **预期用药** | 西瓜霜喷剂、维生素B2、口腔溃疡贴 |
| **紧急程度** | urgent: false |

---

#### 测试用例 5.3：急性牙龈炎
**测试场景**：牙龈肿痛出血

| 项目 | 内容 |
|------|------|
| **主诉** | 牙龈肿痛 |
| **预期症状编码** | ENT503（牙龈肿痛） |
| **预期诊断** | 急性牙龈炎 (ENT-15) |
| **预期处置** | 抗生素、漱口水、止痛 |
| **预期用药** | 甲硝唑、氯己定漱口水、布洛芬 |
| **紧急程度** | urgent: false |

---

## 🧪 综合测试场景

### 场景 1：复合症状测试
**主诉**：眼睛进沙子、眼睛痛、流眼泪

**预期结果**：
- 识别�� ENT101、ENT102、ENT104
- 诊断为"眼部异物"
- 标记为紧急

### 场景 2：相似症状区分
**主诉A**：喉咙痛  
**主诉B**：喉咙痛、发烧

**预期结果**：
- A 诊断为"急性咽炎"
- B 诊断为"急性扁桃体炎"

### 场景 3：儿童常见问题
**主诉**：鼻子进东西

**预期结果**：
- 诊断为"鼻腔异物"
- 标记为紧急
- 典型场景："儿童塞入异物"

---

## ✅ 测试检查清单

### 症状识别测试
- [ ] 眼部症状（8个编码）全部能识别
- [ ] 耳部症状（6个编码）全部能识别
- [ ] 鼻部症状（6个编码）全部能识别
- [ ] 咽喉症状（5个��码）全部能识别
- [ ] 口腔症状（6个编码）全部能识别

### 疾病匹配测试
- [ ] 眼科疾病（3个）全部能匹配
- [ ] 耳科疾病（3个）全部能匹配
- [ ] 鼻科疾病（3个）全部能匹配
- [ ] 咽喉疾病（3个）全部能匹配
- [ ] 口腔疾病（3个）全部能匹配

### 紧急程度测试
- [ ] 眼部异物标记为紧急
- [ ] 眼部外伤标记为紧急
- [ ] 耳道异物标记为紧急
- [ ] 鼻出血标记为紧急
- [ ] 鼻腔异物标记为紧急
- [ ] 鱼刺卡喉标记为紧急

### 用药建议测试
- [ ] 每个疾病都有对应的用药建议
- [ ] 用药建议符合临床实际
- [ ] 紧急情况有明确的处置方案

---

## 📊 测试报告模板

### 测试执行记录

| 测试用例 | 执行时间 | 测试结果 | 备注 |
|---------|---------|---------|------|
| ENT-01 眼部异物 | | ✅/❌ | |
| ENT-02 急性结膜炎 | | ✅/❌ | |
| ENT-03 眼部外伤 | | ✅/❌ | |
| ENT-04 急性中耳炎 | | ✅/❌ | |
| ENT-05 耳道异物 | | ✅/❌ | |
| ENT-06 外耳道炎 | | ✅/❌ | |
| ENT-07 鼻出血 | | ✅/❌ | |
| ENT-08 急性鼻炎 | | ✅/❌ | |
| ENT-09 鼻腔异物 | | ✅/❌ | |
| ENT-10 急性咽炎 | | ✅/❌ | |
| ENT-11 急性扁桃体炎 | | ✅/❌ | |
| ENT-12 鱼刺卡喉 | | ✅/❌ | |
| ENT-13 急性牙痛 | | ✅/❌ | |
| ENT-14 口腔溃疡 | | ✅/❌ | |
| ENT-15 急性牙龈炎 | | ✅/❌ | |

### 问题记录

| 问题编号 | 问题描述 | 严重程度 | 状态 | 解决方案 |
|---------|---------|---------|------|---------|
| | | | | |

---

## 🔍 调试技巧

### 查看症状识别结果
```javascript
// 在浏览器控制台执行
console.log('症状编码:', symptomCodes);
console.log('诊断建议:', hvDiagnosis);
```

### 测试云函数
```javascript
wx.cloud.callFunction({
  name: 'clinicRecords',
  data: {
    action: 'suggestHvDiagnosis',
    data: {
      chiefComplaint: '眼睛进沙子'
    }
  }
}).then(res => {
  console.log('诊断结果:', res.result);
});
```

---

## 📝 测试总结

### 测试统计
- 总测试用例数：15个
- 通过数：___
- 失败数：___
- 通过率：___%

### 发现的问题
1. 
2. 
3. 

### 改进建议
1. 
2. 
3. 

---

**测试人员**：___________  
**测试日期**：___________  
**测试环境**：___________  
**测试版本**：v3.17.0




