# 🗑️ 立即清空入库单 - 最简单方法

## ⚡ 方法1：云开发控制台直接删除（最快！30秒完成）

### 步骤：

```
1. 打开浏览器，访问：
   https://console.cloud.tencent.com/tcb

2. 选择您的环境（如：cloud1-3gv7spppf7d2d0f4）

3. 点击左侧菜单"数据库"

4. 找到 in_records 集合，点击进入

5. 查看所有记录（应该看到9条）

6. 删除方式：

   方式A：批量删除（如果有）
   - 勾选所有记录
   - 点击"删除"按钮
   - 确认删除

   方式B：使用数据库命令（推荐）
   - 点击"数据库操作"或"命令行"
   - 输入命令：
   
   db.collection('in_records').remove({})
   
   - 点击"执行"
   - 确认删除

7. ✅ 完成！刷新小程序页面查看
```

---

## ⚡ 方法2：使用云函数（如果已上传）

### 在控制台运行：

```javascript
wx.cloud.callFunction({
  name: 'clearInRecords',
  success: res => {
    console.log('========================================')
    if (res.result.success) {
      console.log('✅ 删除成功！')
      console.log('删除数量：', res.result.deletedCount)
      // 刷新页面
      setTimeout(() => {
        uni.reLaunch({ url: '/pages/in/list' })
      }, 1000)
    } else {
      console.error('❌ 删除失败：', res.result.message)
    }
    console.log('========================================')
  },
  fail: err => {
    console.error('❌ 调用失败：', err)
  }
})
```

---

## ⚡ 方法3：如果云函数还没上传

### 快速上传（2分钟）：

```
1. 在微信开发者工具中
2. 找到 cloudfunctions/clearInRecords
3. 右键点击文件夹
4. 选择"上传并部署：云端安装依赖"
5. 等待上传完成（看到"上传成功"提示）
6. 然后使用方法2的代码
```

---

## 🔍 检查为什么还有数据

### 可能的原因：

```
□ 云函数还没上传
□ 云函数调用失败（权限问题）
□ 当前登录的不是管理员账号
□ 删除操作没有执行
```

### 快速检查：

```javascript
// 在控制台运行，检查当前登录角色
const userInfo = uni.getStorageSync('userInfo')
console.log('当前角色：', userInfo.role)
console.log('是否管理员：', userInfo.role === 'admin')
```

---

## ✅ 推荐操作流程

```
1. 先尝试方法1（云开发控制台直接删除）
   → 最快最直接
   → 不需要上传云函数

2. 如果方法1不行，使用方法2
   → 需要先上传云函数
   → 然后调用

3. 删除后刷新小程序页面
   → 应该显示"暂无数据"
```

---

**创建时间：** 2025年11月10日


